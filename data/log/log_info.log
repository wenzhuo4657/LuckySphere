24-11-16.11:50:40.589 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 14384 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.11:50:40.591 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.11:50:41.551 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.11:50:41.554 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.11:50:41.603 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-11-16.11:50:42.262 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.11:50:42.268 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.11:50:42.269 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.11:50:42.269 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.11:50:42.403 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.11:50:42.403 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1773 ms
24-11-16.11:50:43.841 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.11:50:44.398 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.11:50:44.420 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.11:50:46.018 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.11:50:46.100 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.11:50:46.111 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.11:50:46.113 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:50:48.161 [main            ] INFO  SimpleMessageListenerContainer - Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect
24-11-16.11:50:48.167 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:50:50.240 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2210)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1942)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1915)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1384)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1230)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1223)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 12 common frames omitted
24-11-16.11:50:50.243 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:50:52.302 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:50:54.346 [main            ] INFO  SimpleMessageListenerContainer - Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect
24-11-16.11:50:54.347 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:50:56.417 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2210)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1942)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1915)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1384)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1230)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1223)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 12 common frames omitted
24-11-16.11:50:56.417 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:50:57.365 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:50:57.367 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@bfd97fb: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:50:58.461 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:00.528 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:00.528 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:02.589 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:02.589 [main            ] INFO  SimpleMessageListenerContainer - Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:03.527 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:03.527 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@2dc3ece8: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:04.648 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:06.709 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:06.709 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:08.776 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:08.776 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2210)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1942)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1915)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1384)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1230)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1223)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 12 common frames omitted
24-11-16.11:51:09.705 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:09.705 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Restarting Consumer@619e7634: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:10.842 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:12.884 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:12.884 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:14.934 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:15.915 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:15.915 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Restarting Consumer@7cb97421: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:17.001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:19.044 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:19.044 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:20.007 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:20.007 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@6d7865d6: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:21.096 [main            ] INFO  SimpleMessageListenerContainer - Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:21.096 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:22.075 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:22.075 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  SimpleMessageListenerContainer - Restarting Consumer@67144a54: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:23.123 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:23.123 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:25.158 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:27.207 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:29.260 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:29.260 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:30.226 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:30.227 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  SimpleMessageListenerContainer - Restarting Consumer@655e2947: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:31.315 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:31.315 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2210)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1942)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1915)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1384)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1230)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1223)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 12 common frames omitted
24-11-16.11:51:32.298 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:32.298 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Restarting Consumer@16c7bbb6: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:33.360 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:33.360 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:35.405 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:37.469 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:39.534 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:39.534 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:40.482 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:40.482 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-4] INFO  SimpleMessageListenerContainer - Restarting Consumer@1c233434: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:41.603 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:41.626 [main            ] INFO  Application            - Started Application in 61.459 seconds (JVM running for 62.662)
24-11-16.11:51:42.526 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:42.526 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-4] INFO  SimpleMessageListenerContainer - Restarting Consumer@6d3d9b9f: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:42.587 [RMI TCP Connection(5)-172.24.192.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-16.11:51:42.587 [RMI TCP Connection(5)-172.24.192.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-16.11:51:42.589 [RMI TCP Connection(5)-172.24.192.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
24-11-16.11:51:43.651 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:43.651 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:45.030 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.11:51:45.030 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.11:51:45.308 [pool-3-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.11:51:45.308 [pool-3-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.11:51:45.703 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:46.670 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:46.670 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@77f03916: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:47.760 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:49.801 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-5] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:49.801 [RMI TCP Connection(3)-172.24.192.1] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:50.779 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:50.779 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  SimpleMessageListenerContainer - Restarting Consumer@4ad0a5c8: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:51.866 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:51.866 [RMI TCP Connection(3)-172.24.192.1] WARN  RabbitHealthIndicator  - Rabbit health check failed
org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2210)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.getVersion(RabbitHealthIndicator.java:49)
	at org.springframework.boot.actuate.amqp.RabbitHealthIndicator.doHealthCheck(RabbitHealthIndicator.java:44)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:94)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:88)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)
	at java.net.Socket.connect(Socket.java:606)
	at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1223)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 52 common frames omitted
24-11-16.11:51:52.832 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:51:52.832 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-5] INFO  SimpleMessageListenerContainer - Restarting Consumer@788feaab: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:51:53.919 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:53.920 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:55.964 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:57.513 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:57.513 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:57.515 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:57.517 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:51:57.517 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:51:57.519 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:01.028 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-5] WARN  SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect
24-11-16.11:52:01.028 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-5] INFO  SimpleMessageListenerContainer - Restarting Consumer@bb1932a: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:01.029 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-6] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:01.031 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-6] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:01.031 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-6] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:02.595 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Restarting Consumer@204311fc: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:02.595 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-6] INFO  SimpleMessageListenerContainer - Restarting Consumer@28bc8044: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:02.595 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:02.599 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-7] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:02.599 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-3] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:02.601 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-7] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:02.601 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-3] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:02.602 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-7] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:02.610 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-4] INFO  SimpleMessageListenerContainer - Restarting Consumer@27cb609f: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:02.610 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:02.613 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:02.613 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:06.111 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-6] INFO  SimpleMessageListenerContainer - Restarting Consumer@16fc543e: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:06.112 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-7] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:06.114 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-7] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:06.114 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-7] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:07.715 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-7] INFO  SimpleMessageListenerContainer - Restarting Consumer@5bf32d8d: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:07.715 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-3] INFO  SimpleMessageListenerContainer - Restarting Consumer@329096ea: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:07.715 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-5] INFO  SimpleMessageListenerContainer - Restarting Consumer@19beb1af: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:07.716 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-4] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:07.738 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-4] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#798cf6d2:49/SimpleConnection@6da19ab7 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 55423]
24-11-16.11:52:09.806 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-8] INFO  SimpleMessageListenerContainer - Restarting Consumer@38a5eb10: tags=[[amq.ctag-iZuZY1K4W2j8ZoYBmX3r9Q]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,3), conn: Proxy@5905a7eb Shared Rabbit Connection: SimpleConnection@6da19ab7 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 55423], acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:09.806 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-6] INFO  SimpleMessageListenerContainer - Restarting Consumer@10f5f7f9: tags=[[amq.ctag-IYv1oCcgc3a1NQx2_il6KQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,2), conn: Proxy@5905a7eb Shared Rabbit Connection: SimpleConnection@6da19ab7 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 55423], acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:09.806 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-4] INFO  SimpleMessageListenerContainer - Restarting Consumer@21c8c47c: tags=[[amq.ctag-6kssyCu0SsVRaoHtgOjArg]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,1), conn: Proxy@5905a7eb Shared Rabbit Connection: SimpleConnection@6da19ab7 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 55423], acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:09.809 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:09.811 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-9] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:09.811 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-5] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpIOException: java.io.IOException
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createBareChannel(CachingConnectionFactory.java:676)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.getCachedChannelProxy(CachingConnectionFactory.java:650)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.getChannel(CachingConnectionFactory.java:540)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.access$1600(CachingConnectionFactory.java:100)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory$ChannelCachingConnectionProxy.createChannel(CachingConnectionFactory.java:1418)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2216)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1942)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1915)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1384)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1230)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: null
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129)
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125)
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:396)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 16 common frames omitted
Caused by: com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66)
	at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36)
	at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502)
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:326)
	... 21 common frames omitted
Caused by: java.io.EOFException: null
	at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:290)
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91)
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:184)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:665)
	... 1 common frames omitted
24-11-16.11:52:09.813 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-7] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:09.815 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-9] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpIOException: java.io.IOException
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2210)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1942)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1915)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1384)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1230)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: null
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129)
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125)
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:396)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 12 common frames omitted
Caused by: com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66)
	at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36)
	at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502)
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:326)
	... 17 common frames omitted
Caused by: java.io.EOFException: null
	at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:290)
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91)
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:184)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:665)
	... 1 common frames omitted
24-11-16.11:52:09.816 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-9] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:09.816 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-7] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
org.springframework.amqp.AmqpIOException: java.io.IOException
	at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:603)
	at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:725)
	at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:252)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2210)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2183)
	at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2163)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:463)
	at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:447)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1942)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1915)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1384)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1230)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.io.IOException: null
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:129)
	at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:125)
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:396)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1225)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1173)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connectAddresses(AbstractConnectionFactory.java:641)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:616)
	at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:566)
	... 12 common frames omitted
Caused by: com.rabbitmq.client.ShutdownSignalException: connection error
	at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:66)
	at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36)
	at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:502)
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:326)
	... 17 common frames omitted
Caused by: java.io.EOFException: null
	at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:290)
	at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:91)
	at com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:184)
	at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:665)
	... 1 common frames omitted
24-11-16.11:52:09.818 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-5] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:09.820 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-7] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:11.266 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-7] INFO  SimpleMessageListenerContainer - Restarting Consumer@7dad5238: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:11.268 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-8] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:11.271 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-8] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:11.271 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-8] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:14.963 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-7] INFO  SimpleMessageListenerContainer - Restarting Consumer@dbc587b: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:14.963 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-9] INFO  SimpleMessageListenerContainer - Restarting Consumer@56be05fa: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:14.963 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-5] INFO  SimpleMessageListenerContainer - Restarting Consumer@5bf5bab8: tags=[[]], channel=null, acknowledgeMode=AUTO local queue size=0
24-11-16.11:52:14.964 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-6] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:14.966 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-8] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:14.966 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-6] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:14.968 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-10] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:14.968 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-8] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:14.969 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-8] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:14.969 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-10] ERROR SimpleMessageListenerContainer - Failed to check/redeclare auto-delete queue(s).
24-11-16.11:52:14.971 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-6] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:14.972 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-10] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-9] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-11] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-9] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-9] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-9] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-11] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-7] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.11:52:15.772 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-7] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.11:52:16.071 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.11:52:16.071 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.11:52:16.071 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.11:52:16.071 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.11:52:20.869 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 17168 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.11:52:20.871 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.11:52:21.871 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.11:52:21.873 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.11:52:21.920 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
24-11-16.11:52:22.612 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.11:52:22.620 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.11:52:22.621 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.11:52:22.621 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.11:52:22.755 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.11:52:22.755 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1841 ms
24-11-16.11:52:24.480 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.11:52:25.191 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.11:52:25.217 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.11:54:27.113 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.11:54:27.216 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.11:54:27.218 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:57:16.333 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 8124 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.11:57:16.334 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.11:57:17.136 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.11:57:17.137 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.11:57:17.178 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
24-11-16.11:57:17.709 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.11:57:17.715 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.11:57:17.715 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.11:57:17.715 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.11:57:17.822 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.11:57:17.822 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1457 ms
24-11-16.11:57:18.945 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.11:57:19.378 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.11:57:19.396 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.11:57:20.773 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.11:57:20.849 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.11:57:20.859 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.11:57:20.860 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.11:57:20.890 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#798cf6d2:0/SimpleConnection@36e3321e [delegate=amqp://admin@127.0.0.1:5672/, localPort= 56319]
24-11-16.11:57:20.973 [main            ] INFO  Application            - Started Application in 5.027 seconds (JVM running for 5.77)
24-11-16.11:57:21.421 [RMI TCP Connection(3)-172.24.192.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-16.11:57:21.421 [RMI TCP Connection(3)-172.24.192.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-16.11:57:21.422 [RMI TCP Connection(3)-172.24.192.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-11-16.11:57:21.423 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.11:57:21.579 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.11:57:21.592 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.11:57:21.607 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.11:57:29.946 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.11:57:29.946 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.11:57:29.951 [http-nio-8091-exec-7] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.11:57:29.951 [http-nio-8091-exec-4] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.11:57:29.951 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.11:57:29.951 [http-nio-8091-exec-8] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.11:57:29.956 [http-nio-8091-exec-8] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.11:57:29.972 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.11:57:29.975 [http-nio-8091-exec-8] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.11:57:29.976 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.11:57:29.996 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.11:57:29.997 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.11:57:30.000 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.11:57:30.002 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.11:57:30.010 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.11:57:30.010 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.11:57:30.014 [http-nio-8091-exec-4] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.11:57:30.014 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.11:57:30.014 [http-nio-8091-exec-8] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.11:57:30.014 [http-nio-8091-exec-7] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.11:57:30.050 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.11:57:30.050 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.11:57:30.056 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.11:57:30.056 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.11:57:30.148 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":558}
24-11-16.11:57:30.148 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":558}
24-11-16.11:57:30.153 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.11:57:30.153 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.11:57:30.157 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":102},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":102},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":102}],"info":"调用成功"}
24-11-16.11:57:30.157 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":102},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":102},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":102}],"info":"调用成功"}
24-11-16.11:57:33.238 [http-nio-8091-exec-24] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100301
24-11-16.11:57:33.279 [http-nio-8091-exec-24] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100301
24-11-16.11:57:44.406 [http-nio-8091-exec-30] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.11:57:44.420 [http-nio-8091-exec-30] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.11:57:44.460 [http-nio-8091-exec-30] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:912804360318
24-11-16.11:57:44.467 [http-nio-8091-exec-30] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:57:44.518 [http-nio-8091-exec-30] ERROR RaffleActivityController - 活动抽奖失败 userId:xiaofuge activityId:100301
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\StrategyRuleDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.StrategyRuleDao.queryStrategyRuleValue-Inline
### The error occurred while setting parameters
### SQL: select rule_value         from strategy_rule         where strategy_id = ? and rule_model=?
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy113.queryStrategyRuleValue(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository.queryStrategyRuleValue(StrategyRepository.java:137)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$43dd791e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$a8b92738.queryStrategyRuleValue(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:40)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:46)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:45)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:111)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.GeneratedMethodAccessor47.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:163)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.11:57:48.398 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.11:57:48.398 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.11:57:48.398 [http-nio-8091-exec-32] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.11:57:48.399 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.11:57:48.400 [http-nio-8091-exec-32] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.11:57:48.401 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.11:57:48.405 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":557}
24-11-16.11:57:48.405 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":103},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":103},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":103}],"info":"调用成功"}
24-11-16.11:57:51.648 [http-nio-8091-exec-31] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.11:57:51.653 [http-nio-8091-exec-31] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:912804360318
24-11-16.11:57:51.653 [http-nio-8091-exec-31] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:57:51.655 [http-nio-8091-exec-31] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:57:51.657 [http-nio-8091-exec-31] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 103
24-11-16.11:57:51.659 [http-nio-8091-exec-31] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 103 rule_default
24-11-16.11:57:51.683 [http-nio-8091-exec-31] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":103,"awardTitle":"支付优惠券","orderId":"912804360318","userId":"xiaofuge"},"id":"46126970938","timestamp":1731729471664}
24-11-16.11:57:51.692 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":103,"awardTitle":"支付优惠券","orderId":"912804360318","userId":"xiaofuge"},"id":"46126970938","timestamp":1731729471664}
24-11-16.11:57:51.697 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.11:57:51.697 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.11:57:51.697 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.11:57:51.697 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.11:57:51.699 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.11:57:51.699 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.11:57:51.703 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":103},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":103},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":103}],"info":"调用成功"}
24-11-16.11:57:51.704 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":557}
24-11-16.11:57:51.713 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_use_count
24-11-16.11:57:54.264 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.11:57:54.268 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.11:57:59.517 [http-nio-8091-exec-37] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.11:57:59.522 [http-nio-8091-exec-37] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.11:57:59.537 [http-nio-8091-exec-37] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:494119325486
24-11-16.11:57:59.537 [http-nio-8091-exec-37] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:57:59.538 [http-nio-8091-exec-37] ERROR RaffleActivityController - 活动抽奖失败 userId:xiaofuge activityId:100301
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\StrategyRuleDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.StrategyRuleDao.queryStrategyRuleValue-Inline
### The error occurred while setting parameters
### SQL: select rule_value         from strategy_rule         where strategy_id = ? and rule_model=?
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy113.queryStrategyRuleValue(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository.queryStrategyRuleValue(StrategyRepository.java:137)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$43dd791e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$a8b92738.queryStrategyRuleValue(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:40)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:46)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:45)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:111)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.GeneratedMethodAccessor47.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:163)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.11:58:01.973 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.11:58:01.977 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.11:58:06.459 [http-nio-8091-exec-39] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.11:58:06.463 [http-nio-8091-exec-39] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:494119325486
24-11-16.11:58:06.463 [http-nio-8091-exec-39] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:58:06.465 [http-nio-8091-exec-39] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:58:06.466 [http-nio-8091-exec-39] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 105
24-11-16.11:58:06.466 [http-nio-8091-exec-39] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 105 rule_default
24-11-16.11:58:06.478 [http-nio-8091-exec-39] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"494119325486","userId":"xiaofuge"},"id":"96792560276","timestamp":1731729486468}
24-11-16.11:58:06.480 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"494119325486","userId":"xiaofuge"},"id":"96792560276","timestamp":1731729486468}
24-11-16.11:58:06.481 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.11:58:07.461 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.11:58:07.461 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.11:58:07.461 [http-nio-8091-exec-43] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.11:58:07.461 [http-nio-8091-exec-40] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.11:58:07.463 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.11:58:07.463 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.11:58:07.466 [http-nio-8091-exec-43] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":104},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":104},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":104}],"info":"调用成功"}
24-11-16.11:58:07.467 [http-nio-8091-exec-40] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":556}
24-11-16.11:59:31.201 [http-nio-8091-exec-48] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.11:59:31.204 [http-nio-8091-exec-48] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.11:59:31.219 [http-nio-8091-exec-48] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:522407292970
24-11-16.11:59:31.219 [http-nio-8091-exec-48] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:59:31.222 [http-nio-8091-exec-48] ERROR RaffleActivityController - 活动抽奖失败 userId:xiaofuge activityId:100301
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\StrategyRuleDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.StrategyRuleDao.queryStrategyRuleValue-Inline
### The error occurred while setting parameters
### SQL: select rule_value         from strategy_rule         where strategy_id = ? and rule_model=?
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy113.queryStrategyRuleValue(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository.queryStrategyRuleValue(StrategyRepository.java:137)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$43dd791e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$a8b92738.queryStrategyRuleValue(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:40)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:46)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:45)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:111)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor48.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.GeneratedMethodAccessor47.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:163)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.11:59:33.746 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.11:59:33.746 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.11:59:33.747 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.11:59:33.749 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.11:59:33.750 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.11:59:33.751 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.11:59:33.752 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":555}
24-11-16.11:59:33.758 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":105}],"info":"调用成功"}
24-11-16.11:59:42.375 [http-nio-8091-exec-9] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.11:59:42.378 [http-nio-8091-exec-9] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:522407292970
24-11-16.11:59:42.378 [http-nio-8091-exec-9] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:59:42.380 [http-nio-8091-exec-9] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.11:59:42.381 [http-nio-8091-exec-9] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 105
24-11-16.11:59:42.381 [http-nio-8091-exec-9] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 105 rule_default
24-11-16.11:59:42.392 [http-nio-8091-exec-9] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"522407292970","userId":"xiaofuge"},"id":"29905879639","timestamp":1731729582382}
24-11-16.11:59:42.394 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"522407292970","userId":"xiaofuge"},"id":"29905879639","timestamp":1731729582382}
24-11-16.11:59:42.395 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.11:59:42.961 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.11:59:42.961 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.11:59:42.961 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.11:59:42.963 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.11:59:42.963 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.11:59:42.964 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.11:59:42.967 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":555}
24-11-16.11:59:42.968 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":105}],"info":"调用成功"}
24-11-16.12:00:35.789 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:00:35.790 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:00:35.790 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:00:35.791 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:00:35.853 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:00:35.853 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:00:35.853 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:00:35.908 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:00:36.320 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:00:36.321 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:00:36.321 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:00:36.321 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:00:39.267 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 21748 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.12:00:39.269 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.12:00:40.201 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.12:00:40.203 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.12:00:40.251 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
24-11-16.12:00:40.954 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.12:00:40.961 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.12:00:40.962 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.12:00:40.962 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.12:00:41.078 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.12:00:41.078 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1771 ms
24-11-16.12:00:51.509 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.12:00:59.728 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.12:01:00.636 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.12:01:55.979 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.12:01:56.069 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.12:01:56.085 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.12:01:56.087 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.12:01:56.116 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4ac7856f:0/SimpleConnection@270be080 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 56849]
24-11-16.12:01:56.185 [main            ] INFO  Application            - Started Application in 77.375 seconds (JVM running for 78.561)
24-11-16.12:01:56.481 [RMI TCP Connection(6)-172.24.192.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-16.12:01:56.483 [RMI TCP Connection(6)-172.24.192.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-16.12:01:56.484 [RMI TCP Connection(6)-172.24.192.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-11-16.12:01:56.484 [RMI TCP Connection(5)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:01:56.667 [RMI TCP Connection(5)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:01:56.683 [RMI TCP Connection(5)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:01:56.699 [RMI TCP Connection(5)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:02:10.969 [http-nio-8091-exec-1] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:02:10.969 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:02:10.969 [http-nio-8091-exec-4] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:02:10.969 [http-nio-8091-exec-3] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:02:10.974 [http-nio-8091-exec-1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:02:10.991 [http-nio-8091-exec-1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:02:11.031 [http-nio-8091-exec-4] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:02:11.031 [http-nio-8091-exec-1] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:02:11.031 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:02:11.031 [http-nio-8091-exec-3] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:02:11.244 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:02:11.263 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:02:11.268 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:02:11.268 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:02:11.276 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:02:11.278 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:02:11.290 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:02:11.291 [http-nio-8091-exec-9] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:02:11.303 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:02:11.303 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:02:11.305 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:02:11.306 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:02:11.350 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:02:11.350 [http-nio-8091-exec-14] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:02:11.404 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":555}
24-11-16.12:02:11.404 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":555}
24-11-16.12:02:11.409 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:02:11.409 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:02:11.411 [http-nio-8091-exec-9] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":105}],"info":"调用成功"}
24-11-16.12:02:11.411 [http-nio-8091-exec-14] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":105},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":105}],"info":"调用成功"}
24-11-16.12:02:19.021 [http-nio-8091-exec-15] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:06:06.065 [http-nio-8091-exec-15] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:06:06.096 [http-nio-8091-exec-15] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:680173296408
24-11-16.12:06:06.106 [http-nio-8091-exec-15] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:06:06.168 [http-nio-8091-exec-15] ERROR RaffleActivityController - 活动抽奖失败 userId:xiaofuge activityId:100301
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\StrategyRuleDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.StrategyRuleDao.queryStrategyRuleValue-Inline
### The error occurred while setting parameters
### SQL: select rule_value         from strategy_rule         where strategy_id = ? and rule_model=?
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy113.queryStrategyRuleValue(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository.queryStrategyRuleValue(StrategyRepository.java:137)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$43dd791e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$8ce3950c.queryStrategyRuleValue(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:40)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:46)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:45)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:111)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.strategy_rule' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor54.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at sun.reflect.GeneratedMethodAccessor53.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.query(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:163)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:06:06.173 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.12:06:06.560 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:06:06.561 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:06:06.561 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:06:06.561 [SpringApplicationShutdownHook] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.12:06:29.015 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 22948 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.12:06:29.017 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.12:06:29.918 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.12:06:29.920 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.12:06:29.966 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
24-11-16.12:06:30.618 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.12:06:30.624 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.12:06:30.625 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.12:06:30.625 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.12:06:30.749 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.12:06:30.750 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1698 ms
24-11-16.12:06:31.920 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.12:06:32.375 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.12:06:32.392 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.12:06:33.850 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.12:06:33.935 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.12:06:33.947 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.12:06:33.948 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.12:06:33.983 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#11582db6:0/SimpleConnection@7d7c05fa [delegate=amqp://admin@127.0.0.1:5672/, localPort= 57639]
24-11-16.12:06:34.058 [main            ] INFO  Application            - Started Application in 5.459 seconds (JVM running for 6.354)
24-11-16.12:06:34.701 [RMI TCP Connection(4)-172.24.192.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-16.12:06:34.701 [RMI TCP Connection(4)-172.24.192.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-16.12:06:34.702 [RMI TCP Connection(4)-172.24.192.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-11-16.12:06:34.703 [RMI TCP Connection(3)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:06:34.882 [RMI TCP Connection(3)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:06:34.900 [RMI TCP Connection(3)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:06:34.917 [RMI TCP Connection(3)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:06:42.627 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:06:42.657 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:680173296408
24-11-16.12:06:42.666 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:06:42.679 [http-nio-8091-exec-3] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:06:42.696 [http-nio-8091-exec-3] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:06:42.698 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:06:42.704 [http-nio-8091-exec-3] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 106
24-11-16.12:06:42.705 [http-nio-8091-exec-3] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 106 rule_default
24-11-16.12:06:42.848 [http-nio-8091-exec-3] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":106,"awardTitle":"轻奢办公椅","orderId":"680173296408","userId":"xiaofuge"},"id":"02543074006","timestamp":1731730002731}
24-11-16.12:06:42.860 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":106,"awardTitle":"轻奢办公椅","orderId":"680173296408","userId":"xiaofuge"},"id":"02543074006","timestamp":1731730002731}
24-11-16.12:06:42.885 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.12:06:43.444 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:06:43.444 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:06:43.455 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:06:43.455 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:06:43.460 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:06:43.461 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":554}
24-11-16.12:06:43.462 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:06:43.474 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":106},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":106},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":106}],"info":"调用成功"}
24-11-16.12:06:49.658 [http-nio-8091-exec-6] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:06:49.661 [http-nio-8091-exec-6] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:06:49.688 [http-nio-8091-exec-6] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:732984115667
24-11-16.12:06:49.688 [http-nio-8091-exec-6] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:06:49.690 [http-nio-8091-exec-6] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:06:49.692 [http-nio-8091-exec-6] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 104
24-11-16.12:06:49.692 [http-nio-8091-exec-6] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 104 rule_default
24-11-16.12:06:49.704 [http-nio-8091-exec-6] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":104,"awardTitle":"小米台灯","orderId":"732984115667","userId":"xiaofuge"},"id":"31565655515","timestamp":1731730009697}
24-11-16.12:06:49.705 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":104,"awardTitle":"小米台灯","orderId":"732984115667","userId":"xiaofuge"},"id":"31565655515","timestamp":1731730009697}
24-11-16.12:06:49.707 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_use_count
24-11-16.12:06:50.272 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:06:50.272 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:06:50.272 [http-nio-8091-exec-10] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:06:50.272 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:06:50.275 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:06:50.276 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:06:50.279 [http-nio-8091-exec-10] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":107},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":107},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":107}],"info":"调用成功"}
24-11-16.12:06:50.281 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":553}
24-11-16.12:06:56.265 [http-nio-8091-exec-11] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:06:56.269 [http-nio-8091-exec-11] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:06:56.290 [http-nio-8091-exec-11] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:106196311908
24-11-16.12:06:56.291 [http-nio-8091-exec-11] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:06:56.292 [http-nio-8091-exec-11] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:06:56.294 [http-nio-8091-exec-11] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 103
24-11-16.12:06:56.294 [http-nio-8091-exec-11] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 103 rule_default
24-11-16.12:06:56.304 [http-nio-8091-exec-11] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":103,"awardTitle":"支付优惠券","orderId":"106196311908","userId":"xiaofuge"},"id":"37412284011","timestamp":1731730016298}
24-11-16.12:06:56.308 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":103,"awardTitle":"支付优惠券","orderId":"106196311908","userId":"xiaofuge"},"id":"37412284011","timestamp":1731730016298}
24-11-16.12:06:56.309 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_use_count
24-11-16.12:06:56.874 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:06:56.874 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:06:56.874 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:06:56.874 [http-nio-8091-exec-15] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:06:56.875 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:06:56.875 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:06:56.880 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":552}
24-11-16.12:06:56.880 [http-nio-8091-exec-15] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":108},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":108},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":108}],"info":"调用成功"}
24-11-16.12:07:02.682 [http-nio-8091-exec-16] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:07:02.687 [http-nio-8091-exec-16] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:07:02.707 [http-nio-8091-exec-16] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:350723262491
24-11-16.12:07:02.707 [http-nio-8091-exec-16] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:07:02.710 [http-nio-8091-exec-16] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:07:02.711 [http-nio-8091-exec-16] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 107
24-11-16.12:07:02.711 [http-nio-8091-exec-16] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 107 rule_default
24-11-16.12:07:02.720 [http-nio-8091-exec-16] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":107,"awardTitle":"小霸王游戏机","orderId":"350723262491","userId":"xiaofuge"},"id":"99673494207","timestamp":1731730022714}
24-11-16.12:07:02.722 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":107,"awardTitle":"小霸王游戏机","orderId":"350723262491","userId":"xiaofuge"},"id":"99673494207","timestamp":1731730022714}
24-11-16.12:07:02.723 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.12:07:02.731 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:07:02.731 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:07:02.732 [http-nio-8091-exec-20] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:07:02.732 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:07:02.734 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:07:02.734 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:07:02.737 [http-nio-8091-exec-20] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":109},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":109},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":109}],"info":"调用成功"}
24-11-16.12:07:02.738 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":551}
24-11-16.12:07:05.288 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:07:05.296 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:07:10.466 [http-nio-8091-exec-22] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:07:10.469 [http-nio-8091-exec-22] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:07:10.483 [http-nio-8091-exec-22] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:835994599204
24-11-16.12:07:10.483 [http-nio-8091-exec-22] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:07:10.485 [http-nio-8091-exec-22] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:07:10.486 [http-nio-8091-exec-22] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 105
24-11-16.12:07:10.486 [http-nio-8091-exec-22] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 105 rule_default
24-11-16.12:07:10.493 [http-nio-8091-exec-22] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"835994599204","userId":"xiaofuge"},"id":"19597637817","timestamp":1731730030487}
24-11-16.12:07:10.494 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"835994599204","userId":"xiaofuge"},"id":"19597637817","timestamp":1731730030487}
24-11-16.12:07:10.495 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.12:07:10.505 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:07:10.505 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:07:10.505 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:07:10.505 [http-nio-8091-exec-27] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:07:10.508 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:07:10.508 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:07:10.509 [http-nio-8091-exec-27] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":110},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":110},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":110}],"info":"调用成功"}
24-11-16.12:07:10.511 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":550}
24-11-16.12:09:00.924 [http-nio-8091-exec-30] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:00.930 [http-nio-8091-exec-30] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:05.245 [http-nio-8091-exec-32] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:05.246 [http-nio-8091-exec-33] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:05.249 [http-nio-8091-exec-34] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:05.251 [http-nio-8091-exec-32] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:05.252 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:05.253 [http-nio-8091-exec-33] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:05.254 [http-nio-8091-exec-34] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:05.257 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:05.284 [http-nio-8091-exec-36] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:05.286 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:05.286 [http-nio-8091-exec-38] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:05.288 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:05.289 [http-nio-8091-exec-38] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:09:05.290 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:05.291 [http-nio-8091-exec-36] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":550}
24-11-16.12:09:05.291 [http-nio-8091-exec-40] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:05.292 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:05.294 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:05.299 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:05.299 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:05.299 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:05.301 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":550}
24-11-16.12:09:05.301 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:09:05.303 [http-nio-8091-exec-40] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":110},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":110},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":110}],"info":"调用成功"}
24-11-16.12:09:05.306 [http-nio-8091-exec-45] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:05.316 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:05.316 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:05.317 [http-nio-8091-exec-45] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":110},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":110},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":110}],"info":"调用成功"}
24-11-16.12:09:14.620 [http-nio-8091-exec-46] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:09:14.623 [http-nio-8091-exec-46] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:09:14.636 [http-nio-8091-exec-46] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:477964010150
24-11-16.12:09:14.636 [http-nio-8091-exec-46] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:09:14.638 [http-nio-8091-exec-46] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:09:14.639 [http-nio-8091-exec-46] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 107
24-11-16.12:09:14.639 [http-nio-8091-exec-46] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 107 rule_default
24-11-16.12:09:14.647 [http-nio-8091-exec-46] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":107,"awardTitle":"小霸王游戏机","orderId":"477964010150","userId":"xiaofuge"},"id":"97386972361","timestamp":1731730154639}
24-11-16.12:09:14.650 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":107,"awardTitle":"小霸王游戏机","orderId":"477964010150","userId":"xiaofuge"},"id":"97386972361","timestamp":1731730154639}
24-11-16.12:09:14.651 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.12:09:15.210 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:15.210 [http-nio-8091-exec-49] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:15.210 [http-nio-8091-exec-50] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:15.210 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:15.213 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:15.213 [http-nio-8091-exec-49] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:0
24-11-16.12:09:15.215 [http-nio-8091-exec-50] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:09:15.215 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:20.237 [http-nio-8091-exec-3] INFO  RaffleActivityController - 日历签到返利开始 userId:xiaofuge
24-11-16.12:09:20.256 [http-nio-8091-exec-3] INFO  EventPublisher         - 发送MQ消息，topic:send_rebate message:{"data":{"bizId":"xiaofuge_integral_20241116","rebateConfig":"10","rebateType":"sign","userId":"xiaofuge"},"id":"46821472967","timestamp":1731730160246}
24-11-16.12:09:20.258 [http-nio-8091-exec-3] INFO  RaffleActivityController - 日历签到返利完成 userId:xiaofuge orderIds: ["518828853202"]
24-11-16.12:09:20.267 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  RebateMessageCustomer  - 监听用户行为返利消息 topic: send_rebate message: {"data":{"bizId":"xiaofuge_integral_20241116","rebateConfig":"10","rebateType":"sign","userId":"xiaofuge"},"id":"46821472967","timestamp":1731730160246}
24-11-16.12:09:20.820 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:20.820 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:20.821 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:20.823 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:20.823 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:20.826 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:25.781 [http-nio-8091-exec-6] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:25.781 [http-nio-8091-exec-8] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:25.781 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:25.781 [http-nio-8091-exec-9] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:25.789 [http-nio-8091-exec-8] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:25.789 [http-nio-8091-exec-9] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:25.789 [http-nio-8091-exec-6] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:25.789 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:25.850 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:25.850 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:25.850 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:25.850 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:25.851 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:25.851 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:25.854 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:25.854 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:25.855 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:25.856 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:25.856 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:09:25.858 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:25.865 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:25.865 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:25.868 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:25.868 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:25.868 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:25.868 [http-nio-8091-exec-18] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:25.872 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:25.873 [http-nio-8091-exec-18] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:09:30.134 [http-nio-8091-exec-20] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:30.134 [http-nio-8091-exec-17] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:30.134 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:30.134 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:30.140 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:30.140 [http-nio-8091-exec-17] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:30.140 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:30.140 [http-nio-8091-exec-20] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:30.194 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:30.199 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:30.200 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:30.200 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:30.202 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:30.202 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:30.204 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:30.204 [http-nio-8091-exec-28] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:30.204 [http-nio-8091-exec-31] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:30.207 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:30.208 [http-nio-8091-exec-31] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:30.208 [http-nio-8091-exec-28] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:09:30.216 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:30.218 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:30.223 [http-nio-8091-exec-26] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:30.223 [http-nio-8091-exec-30] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:30.224 [http-nio-8091-exec-32] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:30.224 [http-nio-8091-exec-26] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:30.226 [http-nio-8091-exec-30] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:30.227 [http-nio-8091-exec-32] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:09:31.313 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:31.313 [http-nio-8091-exec-35] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:31.313 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:31.315 [http-nio-8091-exec-35] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:31.315 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:31.317 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:31.842 [http-nio-8091-exec-36] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:31.842 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:31.842 [http-nio-8091-exec-38] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:31.844 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:31.844 [http-nio-8091-exec-36] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:31.847 [http-nio-8091-exec-38] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:44.383 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:44.383 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:44.383 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:44.385 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:44.387 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:44.387 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:54.177 [http-nio-8091-exec-40] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:54.180 [http-nio-8091-exec-44] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:54.181 [http-nio-8091-exec-39] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:54.181 [http-nio-8091-exec-45] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:09:54.183 [http-nio-8091-exec-40] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:54.186 [http-nio-8091-exec-45] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:54.186 [http-nio-8091-exec-44] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:54.186 [http-nio-8091-exec-39] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:09:54.333 [http-nio-8091-exec-46] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:54.337 [http-nio-8091-exec-46] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:54.351 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:54.351 [http-nio-8091-exec-49] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:54.353 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:54.353 [http-nio-8091-exec-49] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:54.355 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:54.355 [http-nio-8091-exec-50] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:54.358 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:09:54.358 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:54.359 [http-nio-8091-exec-50] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:09:54.363 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:09:54.373 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:09:54.375 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:09:54.399 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:09:54.399 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:09:54.402 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:09:54.403 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:09:54.403 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:09:54.407 [http-nio-8091-exec-5] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:13:21.708 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:13:21.708 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:13:21.708 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:13:21.710 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:13:21.710 [http-nio-8091-exec-12] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:15:16.952 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m33s409ms631µs100ns).
24-11-16.12:15:16.952 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m33s409ms888µs400ns).
24-11-16.12:15:16.952 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m33s409ms723µs400ns).
24-11-16.12:17:08.417 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=46s322ms582µs100ns).
24-11-16.12:17:08.417 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=46s322ms576µs300ns).
24-11-16.12:17:08.417 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=46s322ms588µs300ns).
24-11-16.12:17:08.417 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:17:10.595 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:17:10.595 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:17:10.595 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:17:10.597 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:17:10.597 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:17:23.818 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:17:44.493 [http-nio-8091-exec-21] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:17:44.494 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:17:44.494 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:17:44.496 [http-nio-8091-exec-21] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:17:44.496 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:17:44.499 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:18:24.388 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:18:24.389 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:18:24.391 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:18:24.392 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:21:45.152 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=3m36s729ms281µs500ns).
24-11-16.12:21:45.153 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:21:45.153 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:21:45.152 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=3m36s729ms297µs200ns).
24-11-16.12:21:45.152 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=3m36s729ms310µs600ns).
24-11-16.12:21:45.154 [http-nio-8091-exec-28] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:21:45.154 [http-nio-8091-exec-29] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:21:46.459 [http-nio-8091-exec-31] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:21:46.459 [http-nio-8091-exec-35] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:21:46.459 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:21:46.459 [http-nio-8091-exec-32] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:21:46.459 [http-nio-8091-exec-30] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:21:46.462 [http-nio-8091-exec-35] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:21:46.477 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:21:46.477 [http-nio-8091-exec-28] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:21:46.478 [http-nio-8091-exec-32] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:21:46.478 [http-nio-8091-exec-31] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:21:46.478 [http-nio-8091-exec-29] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:21:46.479 [http-nio-8091-exec-30] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:21:46.480 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:21:46.481 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:21:46.481 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:21:46.482 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:21:46.483 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:21:46.484 [http-nio-8091-exec-34] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:87.53
24-11-16.12:21:46.485 [http-nio-8091-exec-33] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":549}
24-11-16.12:21:46.485 [http-nio-8091-exec-38] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:21:46.488 [http-nio-8091-exec-33] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:21:46.488 [http-nio-8091-exec-37] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:21:46.489 [http-nio-8091-exec-38] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:21:46.489 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:21:46.492 [http-nio-8091-exec-33] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":111},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":111}],"info":"调用成功"}
24-11-16.12:21:46.492 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:21:46.493 [http-nio-8091-exec-42] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:21:46.495 [http-nio-8091-exec-31] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:771699167446
24-11-16.12:21:46.495 [http-nio-8091-exec-31] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:21:46.496 [http-nio-8091-exec-31] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:21:46.496 [http-nio-8091-exec-31] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 108
24-11-16.12:21:46.497 [http-nio-8091-exec-31] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 108 rule_default
24-11-16.12:21:46.497 [http-nio-8091-exec-42] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":112},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":112},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":112}],"info":"调用成功"}
24-11-16.12:21:46.502 [http-nio-8091-exec-31] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.12:21:46.512 [http-nio-8091-exec-31] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#11582db6:1/SimpleConnection@356caec2 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 58828]
24-11-16.12:21:46.523 [http-nio-8091-exec-31] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":108,"awardTitle":"暴走玩偶","orderId":"771699167446","userId":"xiaofuge"},"id":"69587252525","timestamp":1731730906497}
24-11-16.12:21:47.475 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@558575fe: tags=[[amq.ctag-x-bWGdXt4e8wGdm2KrR8-g]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,2), conn: Proxy@7fa68ff4 Shared Rabbit Connection: SimpleConnection@356caec2 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 58828], acknowledgeMode=AUTO local queue size=0
24-11-16.12:21:47.475 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@180fb796: tags=[[amq.ctag-Lm7LPgbKfk43_ipwVixcnA]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,3), conn: Proxy@7fa68ff4 Shared Rabbit Connection: SimpleConnection@356caec2 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 58828], acknowledgeMode=AUTO local queue size=0
24-11-16.12:21:47.475 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@24a807a9: tags=[[amq.ctag-7yNnl-Gfq8kI2GTgrFzW-w]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,1), conn: Proxy@7fa68ff4 Shared Rabbit Connection: SimpleConnection@356caec2 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 58828], acknowledgeMode=AUTO local queue size=0
24-11-16.12:21:47.475 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@7fa8fff: tags=[[amq.ctag-hyU7HF4ZBndyMF1EaBa0bw]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,4), conn: Proxy@7fa68ff4 Shared Rabbit Connection: SimpleConnection@356caec2 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 58828], acknowledgeMode=AUTO local queue size=0
24-11-16.12:21:47.492 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":108,"awardTitle":"暴走玩偶","orderId":"771699167446","userId":"xiaofuge"},"id":"69587252525","timestamp":1731730906497}
24-11-16.12:21:47.493 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_use_count
24-11-16.12:21:57.538 [http-nio-8091-exec-40] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:22:13.259 [http-nio-8091-exec-40] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:24:23.514 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m20s533ms260µs700ns).
24-11-16.12:24:23.514 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m20s533ms247µs400ns).
24-11-16.12:24:23.514 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m20s533ms252µs100ns).
24-11-16.12:24:23.526 [http-nio-8091-exec-40] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:726875410028
24-11-16.12:24:23.526 [http-nio-8091-exec-40] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:24:23.527 [http-nio-8091-exec-40] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:24:23.528 [http-nio-8091-exec-40] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 101
24-11-16.12:24:23.528 [http-nio-8091-exec-40] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 101 rule_default
24-11-16.12:24:23.537 [http-nio-8091-exec-40] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":101,"awardTitle":"随机积分","orderId":"726875410028","userId":"xiaofuge"},"id":"75007038860","timestamp":1731731063530}
24-11-16.12:24:23.538 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":101,"awardTitle":"随机积分","orderId":"726875410028","userId":"xiaofuge"},"id":"75007038860","timestamp":1731731063530}
24-11-16.12:24:24.481 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:24:24.481 [http-nio-8091-exec-50] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:24:24.481 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:24:24.481 [http-nio-8091-exec-3] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:24:24.483 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:24:24.483 [http-nio-8091-exec-50] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:24:24.484 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:24:24.484 [http-nio-8091-exec-3] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:25:18.751 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:25:18.751 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:25:18.751 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:25:18.752 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:25:18.752 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:25:18.755 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":660,"monthCount":660,"monthCountSurplus":660,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:28:16.888 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:28:16.891 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:28:16.892 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:28:16.893 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.12:28:31.123 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 7720 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.12:28:31.125 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.12:28:31.998 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.12:28:32.000 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.12:28:32.051 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
24-11-16.12:28:32.690 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.12:28:32.697 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.12:28:32.697 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.12:28:32.697 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.12:28:32.823 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.12:28:32.823 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1662 ms
24-11-16.12:28:34.081 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.12:28:34.588 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.12:28:34.612 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.12:28:36.097 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.12:28:36.182 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.12:28:36.193 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.12:28:36.195 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.12:28:36.232 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4c4215d7:0/SimpleConnection@4b552b13 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 59184]
24-11-16.12:28:36.308 [main            ] INFO  Application            - Started Application in 5.631 seconds (JVM running for 6.613)
24-11-16.12:28:36.926 [RMI TCP Connection(3)-172.24.192.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-16.12:28:36.926 [RMI TCP Connection(3)-172.24.192.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-16.12:28:36.927 [RMI TCP Connection(3)-172.24.192.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-11-16.12:28:36.928 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:28:37.119 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:28:37.134 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:28:37.149 [RMI TCP Connection(4)-172.24.192.1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:28:48.649 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:28:48.649 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:28:48.668 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:28:48.668 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:28:48.669 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:28:48.775 [http-nio-8091-exec-2] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:28:52.993 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:28:52.993 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:28:52.994 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:28:52.997 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:28:52.997 [http-nio-8091-exec-8] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:28:53.005 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:28:53.551 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:28:53.551 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:28:53.551 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:28:53.554 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:28:53.554 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:28:53.558 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:28:57.653 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100301
24-11-16.12:28:57.653 [http-nio-8091-exec-12] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.12:28:57.668 [http-nio-8091-exec-12] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.12:28:57.706 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100301
24-11-16.12:29:02.392 [http-nio-8091-exec-14] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:02.415 [http-nio-8091-exec-14] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:02.418 [http-nio-8091-exec-14] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:02.481 [http-nio-8091-exec-14] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:763769743582
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:02.484 [http-nio-8091-exec-14] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:763769743582
24-11-16.12:29:02.486 [http-nio-8091-exec-14] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:763769743582
24-11-16.12:29:02.851 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:02.851 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:02.851 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:02.854 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:02.854 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:02.858 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:02.863 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:02.881 [http-nio-8091-exec-22] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:04.622 [http-nio-8091-exec-20] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:04.625 [http-nio-8091-exec-20] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:04.625 [http-nio-8091-exec-20] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:04.629 [http-nio-8091-exec-20] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:550238454118
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:04.639 [http-nio-8091-exec-20] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:550238454118
24-11-16.12:29:04.639 [http-nio-8091-exec-20] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:550238454118
24-11-16.12:29:04.861 [http-nio-8091-exec-21] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:04.863 [http-nio-8091-exec-21] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:04.863 [http-nio-8091-exec-21] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:04.867 [http-nio-8091-exec-21] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:448865260330
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:04.870 [http-nio-8091-exec-21] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:448865260330
24-11-16.12:29:04.870 [http-nio-8091-exec-21] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:448865260330
24-11-16.12:29:05.003 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:05.003 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:05.003 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:05.003 [http-nio-8091-exec-25] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:05.007 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:05.007 [http-nio-8091-exec-27] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:05.011 [http-nio-8091-exec-19] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:05.011 [http-nio-8091-exec-25] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:05.920 [http-nio-8091-exec-29] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:05.923 [http-nio-8091-exec-29] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:05.923 [http-nio-8091-exec-29] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:05.927 [http-nio-8091-exec-29] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:392841649622
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:05.936 [http-nio-8091-exec-29] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:392841649622
24-11-16.12:29:05.936 [http-nio-8091-exec-29] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:392841649622
24-11-16.12:29:06.122 [http-nio-8091-exec-30] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:06.124 [http-nio-8091-exec-30] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:06.124 [http-nio-8091-exec-30] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:06.129 [http-nio-8091-exec-30] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:292738936983
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:06.131 [http-nio-8091-exec-30] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:292738936983
24-11-16.12:29:06.131 [http-nio-8091-exec-30] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:292738936983
24-11-16.12:29:06.295 [http-nio-8091-exec-26] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:06.295 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:06.295 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:06.295 [http-nio-8091-exec-31] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:06.298 [http-nio-8091-exec-26] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:06.298 [http-nio-8091-exec-24] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:06.300 [http-nio-8091-exec-31] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:06.302 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:07.834 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:07.834 [http-nio-8091-exec-39] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:07.834 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:07.834 [http-nio-8091-exec-37] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:07.846 [http-nio-8091-exec-37] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:07.846 [http-nio-8091-exec-39] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:07.846 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:07.846 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:07.858 [http-nio-8091-exec-40] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:07.859 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:07.859 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:07.860 [http-nio-8091-exec-45] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:07.861 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:07.861 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:07.864 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:07.864 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:07.865 [http-nio-8091-exec-45] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:07.865 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:07.867 [http-nio-8091-exec-40] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:07.869 [http-nio-8091-exec-46] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:29:07.870 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:07.871 [http-nio-8091-exec-49] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:07.873 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:29:07.874 [http-nio-8091-exec-47] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:07.877 [http-nio-8091-exec-49] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:07.881 [http-nio-8091-exec-47] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:07.889 [http-nio-8091-exec-46] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:29:07.889 [http-nio-8091-exec-48] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:29:09.260 [http-nio-8091-exec-50] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:09.262 [http-nio-8091-exec-50] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:09.264 [http-nio-8091-exec-50] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:09.267 [http-nio-8091-exec-50] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:108970459019
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:09.270 [http-nio-8091-exec-50] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:108970459019
24-11-16.12:29:09.270 [http-nio-8091-exec-50] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:108970459019
24-11-16.12:29:09.635 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:09.635 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:09.635 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:09.635 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:09.638 [http-nio-8091-exec-4] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:09.638 [http-nio-8091-exec-3] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:09.640 [http-nio-8091-exec-2] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:09.641 [http-nio-8091-exec-1] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:15.391 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:15.393 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:15.393 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:15.397 [http-nio-8091-exec-8] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:399085657652
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:15.406 [http-nio-8091-exec-8] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:399085657652
24-11-16.12:29:15.406 [http-nio-8091-exec-8] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:399085657652
24-11-16.12:29:15.769 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:15.769 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:15.770 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:15.771 [http-nio-8091-exec-10] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:15.771 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:15.772 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:15.776 [http-nio-8091-exec-10] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:15.776 [http-nio-8091-exec-7] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:25.652 [http-nio-8091-exec-11] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:25.652 [http-nio-8091-exec-6] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:25.657 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:25.657 [http-nio-8091-exec-12] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:29:25.659 [http-nio-8091-exec-11] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:25.659 [http-nio-8091-exec-6] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:25.661 [http-nio-8091-exec-13] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:25.661 [http-nio-8091-exec-12] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:29:25.757 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:25.764 [http-nio-8091-exec-14] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:25.785 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:25.785 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:25.785 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:25.786 [http-nio-8091-exec-16] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:25.786 [http-nio-8091-exec-18] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:25.789 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:25.789 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:25.791 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:25.792 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:25.792 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:25.801 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:29:25.804 [http-nio-8091-exec-20] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:29:25.805 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:25.809 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:29:25.810 [http-nio-8091-exec-21] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:25.814 [http-nio-8091-exec-23] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:29:25.814 [http-nio-8091-exec-27] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:25.819 [http-nio-8091-exec-27] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:29:53.406 [http-nio-8091-exec-19] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:29:53.409 [http-nio-8091-exec-19] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:29:53.409 [http-nio-8091-exec-19] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:29:53.416 [http-nio-8091-exec-19] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:822418653719
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:29:53.418 [http-nio-8091-exec-19] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:822418653719
24-11-16.12:29:53.418 [http-nio-8091-exec-19] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:822418653719
24-11-16.12:29:53.796 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:29:53.796 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:29:53.797 [http-nio-8091-exec-30] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:29:53.798 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:29:53.798 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:29:53.798 [http-nio-8091-exec-30] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:29:53.801 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:29:53.803 [http-nio-8091-exec-26] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:33:18.682 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:33:18.688 [http-nio-8091-exec-35] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:33:18.694 [http-nio-8091-exec-37] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:33:18.700 [http-nio-8091-exec-37] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:33:18.701 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:33:18.707 [http-nio-8091-exec-38] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:33:18.724 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配开始 userId:xiaofuge activityId：100301
24-11-16.12:33:18.729 [http-nio-8091-exec-36] INFO  RaffleStrategyController - 查询抽奖奖品列表配置完成 userId:xiaofuge activityId：100301
24-11-16.12:33:18.931 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:33:18.938 [http-nio-8091-exec-39] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:33:18.951 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:33:18.951 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:33:18.954 [http-nio-8091-exec-42] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:33:18.954 [http-nio-8091-exec-41] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:33:18.954 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:33:18.954 [http-nio-8091-exec-40] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:33:18.954 [http-nio-8091-exec-45] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:33:18.956 [http-nio-8091-exec-44] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:33:18.956 [http-nio-8091-exec-40] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:33:18.961 [http-nio-8091-exec-45] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":585,"monthCount":660,"monthCountSurplus":585,"totalCount":660,"totalCountSurplus":547}
24-11-16.12:33:18.969 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:33:18.974 [http-nio-8091-exec-43] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:33:18.975 [http-nio-8091-exec-49] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:33:18.979 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询sku商品集合开始 activityId:100301
24-11-16.12:33:18.981 [http-nio-8091-exec-49] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:33:18.983 [http-nio-8091-exec-48] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:33:18.985 [http-nio-8091-exec-47] INFO  RaffleActivityController - 查询sku商品集合完成 activityId:100301 skuProductResponseDTOS:[{"activityCount":{"dayCount":100,"monthCount":100,"totalCount":100},"activityCountId":11101,"productAmount":1.68,"sku":9011,"stockCount":100000,"stockCountSurplus":99886}]
24-11-16.12:33:18.988 [http-nio-8091-exec-48] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":113},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":113}],"info":"调用成功"}
24-11-16.12:34:08.480 [http-nio-8091-exec-50] INFO  RaffleActivityController - 活动抽奖 userId:xiaofuge activityId:100301
24-11-16.12:34:08.485 [http-nio-8091-exec-50] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:xiaofuge activityId:100301 userRaffleOrderEntity:null
24-11-16.12:34:22.054 [http-nio-8091-exec-50] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:xiaofuge activityId:100301 orderId:637940456744
24-11-16.12:34:22.060 [http-nio-8091-exec-50] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:34:22.074 [http-nio-8091-exec-50] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:xiaofuge strategyId:100006 ruleModel:rule_blacklist
24-11-16.12:34:22.075 [http-nio-8091-exec-50] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: xiaofuge strategyId: 100006 ruleModel: rule_default awardId: 105
24-11-16.12:34:22.076 [http-nio-8091-exec-50] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 xiaofuge 100006 105 rule_default
24-11-16.12:34:22.095 [http-nio-8091-exec-50] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"637940456744","userId":"xiaofuge"},"id":"53873792446","timestamp":1731731662079}
24-11-16.12:34:22.105 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":105,"awardTitle":"小米su7周体验","orderId":"637940456744","userId":"xiaofuge"},"id":"53873792446","timestamp":1731731662079}
24-11-16.12:34:22.122 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.12:34:23.475 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:34:23.475 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:34:23.475 [http-nio-8091-exec-7] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:34:23.475 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:34:23.478 [http-nio-8091-exec-10] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:34:23.478 [http-nio-8091-exec-9] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:34:23.478 [http-nio-8091-exec-7] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":114},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":114},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":114}],"info":"调用成功"}
24-11-16.12:34:23.479 [http-nio-8091-exec-5] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":584,"monthCount":660,"monthCountSurplus":584,"totalCount":660,"totalCountSurplus":546}
24-11-16.12:34:31.497 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:34:31.497 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:34:31.497 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:34:31.499 [http-nio-8091-exec-13] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:34:31.499 [http-nio-8091-exec-6] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:34:31.502 [http-nio-8091-exec-11] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":584,"monthCount":660,"monthCountSurplus":584,"totalCount":660,"totalCountSurplus":546}
24-11-16.12:35:21.135 [http-nio-8091-exec-12] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:36:02.264 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=54s937ms18µs).
24-11-16.12:36:02.264 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=54s937ms23µs400ns).
24-11-16.12:36:02.266 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m4s385ms575µs600ns).
24-11-16.12:36:32.690 [http-nio-8091-exec-12] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:36:32.690 [http-nio-8091-exec-12] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:36:32.696 [http-nio-8091-exec-12] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:217006021297
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.GeneratedMethodAccessor116.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.12:36:32.704 [http-nio-8091-exec-12] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:217006021297
24-11-16.12:36:32.704 [http-nio-8091-exec-12] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:217006021297
24-11-16.12:36:33.463 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.12:36:33.464 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.12:36:33.464 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.12:36:33.464 [http-nio-8091-exec-20] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.12:36:33.465 [http-nio-8091-exec-15] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.12:36:33.465 [http-nio-8091-exec-22] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.12:36:33.468 [http-nio-8091-exec-17] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":584,"monthCount":660,"monthCountSurplus":584,"totalCount":660,"totalCountSurplus":546}
24-11-16.12:36:33.468 [http-nio-8091-exec-20] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":114},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":114},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":114}],"info":"调用成功"}
24-11-16.12:36:59.583 [http-nio-8091-exec-21] INFO  RaffleActivityController - 积分兑换商品开始 userId:xiaofuge sku:9011
24-11-16.12:37:06.315 [http-nio-8091-exec-21] INFO  RaffleActivityController - 积分兑换商品，创建订单完成 userId:xiaofuge sku:9011 outBusinessNo:衸𦑆𤺆𪖯𧢴𩢋
24-11-16.12:37:34.993 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=55s498ms204µs600ns).
24-11-16.12:37:34.993 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=55s58ms391µs).
24-11-16.12:37:34.993 [http-nio-8091-exec-21] INFO  CreditAdjustService    - 增加账户积分额度开始 userId:xiaofuge tradeName:CONVERT_SKU amount:1.68
24-11-16.12:44:00.532 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=5m49s800ms303µs).
24-11-16.12:44:00.532 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=5m49s800ms299µs800ns).
24-11-16.12:44:00.532 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=5m49s800ms382µs600ns).
24-11-16.14:25:34.040 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1h41m33s502ms53µs599ns).
24-11-16.14:25:34.040 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1h41m33s502ms67µs400ns).
24-11-16.14:25:34.183 [http-nio-8091-exec-21] ERROR CreditRepository       - 调整账户积分额度异常，唯一索引冲突 userId:xiaofuge orderId:580442892916
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserCreditOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserCreditOrderDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_credit_order_001(user_id, order_id, trade_name, trade_type, trade_amount, out_business_no, create_time, update_time)         values(                   ?,?,?,?,?,?,now(),now()               )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
; Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy106.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy142.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.lambda$saveUserCreditTradeOrder$0(CreditRepository.java:78)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository.saveUserCreditTradeOrder(CreditRepository.java:72)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$FastClassBySpringCGLIB$$b71add64.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.CreditRepository$$EnhancerBySpringCGLIB$$af1646d5.saveUserCreditTradeOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.credit.service.adjust.CreditAdjustService.createOrder(CreditAdjustService.java:57)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.creditPayExchangeSku(RaffleActivityController.java:332)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '衸?????' for key 'user_credit_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy191.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at sun.reflect.GeneratedMethodAccessor116.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy190.update(Unknown Source)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 74 common frames omitted
24-11-16.14:25:34.223 [http-nio-8091-exec-21] INFO  CreditAdjustService    - 增加账户积分额度完成 userId:xiaofuge orderId:580442892916
24-11-16.14:25:34.223 [http-nio-8091-exec-21] INFO  RaffleActivityController - 积分兑换商品，支付订单完成  userId:xiaofuge sku:9011 orderId:580442892916
24-11-16.14:25:35.049 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@5afba80c: tags=[[amq.ctag-8EjbbEwD1SUXFdrJT7G9Lw]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,3), conn: Proxy@30b97fcf Shared Rabbit Connection: SimpleConnection@4b552b13 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 59184], acknowledgeMode=AUTO local queue size=0
24-11-16.14:25:35.049 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@613a608e: tags=[[amq.ctag-rTnN7uklYhVzu8n00cTC1Q]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,1), conn: Proxy@30b97fcf Shared Rabbit Connection: SimpleConnection@4b552b13 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 59184], acknowledgeMode=AUTO local queue size=0
24-11-16.14:25:35.049 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@38394e76: tags=[[amq.ctag-ByAA2lHqBxN1Xyx86a4yxg]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,2), conn: Proxy@30b97fcf Shared Rabbit Connection: SimpleConnection@4b552b13 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 59184], acknowledgeMode=AUTO local queue size=0
24-11-16.14:25:35.056 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.14:25:35.059 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SimpleMessageListenerContainer - Restarting Consumer@7e741d6b: tags=[[amq.ctag-HLU0vxbLTbcPzU8LrtbfEg]], channel=Cached Rabbit Channel: AMQChannel(amqp://admin@127.0.0.1:5672/,4), conn: Proxy@30b97fcf Shared Rabbit Connection: null, acknowledgeMode=AUTO local queue size=0
24-11-16.14:25:35.091 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4c4215d7:1/SimpleConnection@559cabc4 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 64717]
24-11-16.14:25:35.484 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户积分值开始 userId:xiaofuge
24-11-16.14:25:35.484 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户是否完成日历签到返利开始 userId:xiaofuge
24-11-16.14:25:35.488 [http-nio-8091-exec-29] INFO  RaffleActivityController - 查询用户积分值完成 userId:xiaofuge adjustAmount:170.03
24-11-16.14:25:35.488 [http-nio-8091-exec-25] INFO  RaffleActivityController - 查询用户是否完成日历签到返利完成 userId:xiaofuge orders.size:1
24-11-16.14:25:35.494 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户活动账户开始 userId:xiaofuge activityId:100301
24-11-16.14:25:35.494 [http-nio-8091-exec-24] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置开始 userId:xiaofuge activityId：100301
24-11-16.14:25:35.503 [http-nio-8091-exec-28] INFO  RaffleActivityController - 查询用户活动账户完成 userId:xiaofuge activityId:100301 dto:{"dayCount":660,"dayCountSurplus":584,"monthCount":660,"monthCountSurplus":584,"totalCount":660,"totalCountSurplus":546}
24-11-16.14:25:35.503 [http-nio-8091-exec-24] INFO  RaffleStrategyController - 查询抽奖策略权重规则配置完成 userId:xiaofuge activityId：100301 response: {"code":"0000","data":[{"ruleWeightCount":70,"strategyAwards":[{"awardId":106,"awardTitle":"轻奢办公椅"},{"awardId":107,"awardTitle":"小霸王游戏机"}],"userActivityAccountTotalUseCount":114},{"ruleWeightCount":10,"strategyAwards":[{"awardId":102,"awardTitle":"OpenAI会员卡"},{"awardId":103,"awardTitle":"支付优惠券"}],"userActivityAccountTotalUseCount":114},{"ruleWeightCount":1000,"strategyAwards":[{"awardId":104,"awardTitle":"小米台灯"},{"awardId":105,"awardTitle":"小米su7周体验"}],"userActivityAccountTotalUseCount":114}],"info":"调用成功"}
24-11-16.14:26:04.050 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1h42m3s516ms942µs499ns).
24-11-16.14:26:58.006 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.14:26:58.007 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.14:26:58.010 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.14:26:58.011 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-3] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.17:50:52.652 [main            ] INFO  WelcomeLogoApplicationListener - 

 :: Dubbo Spring Boot (v3.0.9) : https://github.com/apache/dubbo-spring-boot-project
 :: Dubbo (v3.0.9) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org

24-11-16.17:50:52.716 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 18468 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.17:50:52.718 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.17:50:55.033 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from null to Dubbo Framework[1], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.033 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.082 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.082 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.121 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.122 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.186 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default application from null to Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.186 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.186 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.194 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.194 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.207 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.208 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.212 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.218 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.218 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@7f0d96f2, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.658 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.17:50:55.663 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.17:50:55.721 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
24-11-16.17:50:55.824 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.824 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.838 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 2 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.847 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.848 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.849 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.849 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.850 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:55.851 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
24-11-16.17:50:55.852 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
24-11-16.17:50:56.765 [main            ] INFO  ReferenceAnnotationBeanPostProcessor - class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!
24-11-16.17:50:57.406 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.17:50:57.417 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.17:50:57.418 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.17:50:57.418 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.17:50:57.601 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.17:50:57.601 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4822 ms
24-11-16.17:50:58.143 [main            ] INFO  DubboConfigBeanInitializer - loading dubbo config beans ...
24-11-16.17:50:58.148 [main            ] INFO  DubboConfigBeanInitializer - dubbo config beans are loaded.
24-11-16.17:50:58.191 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:58.192 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:58.196 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-192.168.1.108-8848" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:50:58.256 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:50:58.256 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:51:09.155 [main            ] WARN  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:09.155 [main            ] WARN  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:09.188 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:09.192 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:09.197 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:09.197 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:09.200 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:09.271 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:51:09.272 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:51:09.272 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:10.578 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.17:51:11.086 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.17:51:11.117 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.17:51:12.848 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.17:51:12.998 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.17:51:13.009 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.17:51:13.011 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.17:51:13.073 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#454e9d65:0/SimpleConnection@280c3dc0 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 63166]
24-11-16.17:51:13.164 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:13.164 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:13.592 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:13.641 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,querySkuProductListByActivityId,creditPayExchangeSku,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=18468&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1731750673587&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:13.642 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,querySkuProductListByActivityId,creditPayExchangeSku,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=18468&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750673587&version=1.0 to registry 192.168.1.108:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:13.644 [main            ] INFO  QosProtocolWrapper     -  [DUBBO] qos won't be started because it is disabled. Please check dubbo.application.qos.enable is configured either in system property, dubbo.properties or XML/spring-boot configuration., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:14.368 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.81.35:20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:14.401 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded mapping cache from file .metadata.nacos192.168.1.108:8848, entries 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:14.412 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:51:14.412 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:51:15.050 [pool-7-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.17:51:15.050 [pool-7-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.17:51:15.257 [pool-7-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.17:51:15.257 [pool-7-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.17:51:23.466 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping, entries 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:23.475 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:23.803 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,querySkuProductListByActivityId,creditPayExchangeSku,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=18468&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750673587&version=1.0 to registry 192.168.1.108:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:23.804 [main            ] INFO  QosProtocolWrapper     -  [DUBBO] qos won't be started because it is disabled. Please check dubbo.application.qos.enable is configured either in system property, dubbo.properties or XML/spring-boot configuration., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:24.131 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:51:24.131 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:51:29.195 [Thread-12       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
24-11-16.17:51:29.195 [Thread-18       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
24-11-16.17:51:29.195 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:29.195 [Thread-18       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
24-11-16.17:51:29.195 [DubboShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:29.195 [DubboShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:51:29.195 [Thread-12       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
24-11-16.17:51:29.195 [DubboShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=18468&qos.enable=false&release=3.0.9], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:16.188 [main            ] INFO  WelcomeLogoApplicationListener - 

 :: Dubbo Spring Boot (v3.0.9) : https://github.com/apache/dubbo-spring-boot-project
 :: Dubbo (v3.0.9) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org

24-11-16.17:52:16.226 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 16344 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.17:52:16.227 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.17:52:17.455 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from null to Dubbo Framework[1], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.455 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.484 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.485 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.511 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.511 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.553 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default application from null to Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.553 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.553 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.558 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.558 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.568 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.568 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.571 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.575 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.575 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@7f0d96f2, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.820 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.17:52:17.822 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.17:52:17.870 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
24-11-16.17:52:17.960 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.960 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.971 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 2 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.978 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.979 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.979 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.979 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.980 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:17.981 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
24-11-16.17:52:17.981 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
24-11-16.17:52:18.565 [main            ] INFO  ReferenceAnnotationBeanPostProcessor - class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!
24-11-16.17:52:19.080 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.17:52:19.086 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.17:52:19.086 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.17:52:19.087 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.17:52:19.217 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.17:52:19.217 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2947 ms
24-11-16.17:52:19.582 [main            ] INFO  DubboConfigBeanInitializer - loading dubbo config beans ...
24-11-16.17:52:19.584 [main            ] INFO  DubboConfigBeanInitializer - dubbo config beans are loaded.
24-11-16.17:52:19.614 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:19.615 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:19.617 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-192.168.1.108-8848" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:19.656 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:52:19.656 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:52:30.095 [main            ] WARN  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:30.095 [main            ] WARN  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:30.121 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:30.124 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:30.127 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:30.127 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:30.129 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://192.168.1.108:8848" protocol="nacos" port="8848" />, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:30.185 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:52:30.186 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:52:30.186 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:31.354 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.17:52:31.792 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.17:52:31.819 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.17:52:33.711 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.17:52:33.856 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.17:52:33.865 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.17:52:33.868 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.17:52:33.928 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4be460e5:0/SimpleConnection@280c3dc0 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 63485]
24-11-16.17:52:33.996 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:33.997 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:34.407 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:34.453 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1731750754403&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:34.453 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:34.455 [main            ] INFO  QosProtocolWrapper     -  [DUBBO] qos won't be started because it is disabled. Please check dubbo.application.qos.enable is configured either in system property, dubbo.properties or XML/spring-boot configuration., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:35.027 [pool-7-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.17:52:35.027 [pool-7-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.17:52:35.168 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.81.35:20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:35.203 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded mapping cache from file .metadata.nacos192.168.1.108:8848, entries 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:35.215 [pool-7-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.17:52:35.215 [pool-7-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.17:52:35.217 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:52:35.217 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:52:44.272 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping, entries 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:44.281 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:44.610 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:44.611 [main            ] INFO  QosProtocolWrapper     -  [DUBBO] qos won't be started because it is disabled. Please check dubbo.application.qos.enable is configured either in system property, dubbo.properties or XML/spring-boot configuration., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:44.933 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:52:44.933 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:52:53.975 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:54.298 [main            ] ERROR DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] start failed: java.lang.IllegalStateException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: , dubbo version: 3.0.9, current host: 169.254.81.35
java.lang.IllegalStateException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:217)
	at org.apache.dubbo.registry.ListenerRegistryWrapper.register(ListenerRegistryWrapper.java:59)
	at org.apache.dubbo.registry.integration.RegistryProtocol.register(RegistryProtocol.java:211)
	at org.apache.dubbo.registry.integration.RegistryProtocol.export(RegistryProtocol.java:248)
	at org.apache.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:64)
	at org.apache.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:74)
	at org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:58)
	at org.apache.dubbo.rpc.protocol.ProtocolSerializationWrapper.export(ProtocolSerializationWrapper.java:47)
	at org.apache.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)
	at org.apache.dubbo.config.ServiceConfig.doExportUrl(ServiceConfig.java:641)
	at org.apache.dubbo.config.ServiceConfig.exportRemote(ServiceConfig.java:619)
	at org.apache.dubbo.config.ServiceConfig.exportUrl(ServiceConfig.java:578)
	at org.apache.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:410)
	at org.apache.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:396)
	at org.apache.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:361)
	at org.apache.dubbo.config.ServiceConfig.export(ServiceConfig.java:233)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServiceInternal(DefaultModuleDeployer.java:341)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServices(DefaultModuleDeployer.java:313)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.start(DefaultModuleDeployer.java:145)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextRefreshedEvent(DubboDeployApplicationListener.java:111)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:100)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: org.apache.dubbo.rpc.RpcException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:186)
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:204)
	... 35 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:288)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doRegisterService(NamingGrpcClientProxy.java:128)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.registerService(NamingGrpcClientProxy.java:114)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.registerService(NamingClientProxyDelegate.java:94)
	at com.alibaba.nacos.client.naming.NacosNamingService.registerInstance(NacosNamingService.java:145)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.registerInstance(NacosNamingServiceWrapper.java:59)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:180)
	... 36 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	... 42 common frames omitted
24-11-16.17:52:54.299 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Metadata Service Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:54.299 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Using dubbo protocol to export metadata service on port 20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:54.299 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:54.300 [main            ] ERROR DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) found failed module: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 169.254.81.35
java.lang.IllegalStateException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:217)
	at org.apache.dubbo.registry.ListenerRegistryWrapper.register(ListenerRegistryWrapper.java:59)
	at org.apache.dubbo.registry.integration.RegistryProtocol.register(RegistryProtocol.java:211)
	at org.apache.dubbo.registry.integration.RegistryProtocol.export(RegistryProtocol.java:248)
	at org.apache.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:64)
	at org.apache.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:74)
	at org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:58)
	at org.apache.dubbo.rpc.protocol.ProtocolSerializationWrapper.export(ProtocolSerializationWrapper.java:47)
	at org.apache.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)
	at org.apache.dubbo.config.ServiceConfig.doExportUrl(ServiceConfig.java:641)
	at org.apache.dubbo.config.ServiceConfig.exportRemote(ServiceConfig.java:619)
	at org.apache.dubbo.config.ServiceConfig.exportUrl(ServiceConfig.java:578)
	at org.apache.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:410)
	at org.apache.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:396)
	at org.apache.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:361)
	at org.apache.dubbo.config.ServiceConfig.export(ServiceConfig.java:233)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServiceInternal(DefaultModuleDeployer.java:341)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServices(DefaultModuleDeployer.java:313)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.start(DefaultModuleDeployer.java:145)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextRefreshedEvent(DubboDeployApplicationListener.java:111)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:100)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: org.apache.dubbo.rpc.RpcException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:186)
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:204)
	... 35 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:288)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doRegisterService(NamingGrpcClientProxy.java:128)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.registerService(NamingGrpcClientProxy.java:114)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.registerService(NamingClientProxyDelegate.java:94)
	at com.alibaba.nacos.client.naming.NacosNamingService.registerInstance(NacosNamingService.java:145)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.registerInstance(NacosNamingServiceWrapper.java:59)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:180)
	... 36 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	... 42 common frames omitted
24-11-16.17:52:54.300 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:54.300 [main            ] ERROR DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) found failed module: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 169.254.81.35
java.lang.IllegalStateException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:217)
	at org.apache.dubbo.registry.ListenerRegistryWrapper.register(ListenerRegistryWrapper.java:59)
	at org.apache.dubbo.registry.integration.RegistryProtocol.register(RegistryProtocol.java:211)
	at org.apache.dubbo.registry.integration.RegistryProtocol.export(RegistryProtocol.java:248)
	at org.apache.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:64)
	at org.apache.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:74)
	at org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:58)
	at org.apache.dubbo.rpc.protocol.ProtocolSerializationWrapper.export(ProtocolSerializationWrapper.java:47)
	at org.apache.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)
	at org.apache.dubbo.config.ServiceConfig.doExportUrl(ServiceConfig.java:641)
	at org.apache.dubbo.config.ServiceConfig.exportRemote(ServiceConfig.java:619)
	at org.apache.dubbo.config.ServiceConfig.exportUrl(ServiceConfig.java:578)
	at org.apache.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:410)
	at org.apache.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:396)
	at org.apache.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:361)
	at org.apache.dubbo.config.ServiceConfig.export(ServiceConfig.java:233)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServiceInternal(DefaultModuleDeployer.java:341)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServices(DefaultModuleDeployer.java:313)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.start(DefaultModuleDeployer.java:145)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextRefreshedEvent(DubboDeployApplicationListener.java:111)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:100)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: org.apache.dubbo.rpc.RpcException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:186)
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:204)
	... 35 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:288)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doRegisterService(NamingGrpcClientProxy.java:128)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.registerService(NamingGrpcClientProxy.java:114)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.registerService(NamingClientProxyDelegate.java:94)
	at com.alibaba.nacos.client.naming.NacosNamingService.registerInstance(NacosNamingService.java:145)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.registerInstance(NacosNamingServiceWrapper.java:59)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:180)
	... 36 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	... 42 common frames omitted
24-11-16.17:52:54.657 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:54.658 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:55.310 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:55.634 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:55.962 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.291 [main            ] ERROR NacosRegistry          -  [DUBBO] Failed to subscribe provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, waiting for retry, cause: Failed to subscribe provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: , dubbo version: 3.0.9, current host: 169.254.81.35
org.apache.dubbo.rpc.RpcException: Failed to subscribe provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.nacos.NacosRegistry.doSubscribe(NacosRegistry.java:259)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doSubscribe(NacosRegistry.java:215)
	at org.apache.dubbo.registry.support.FailbackRegistry.subscribe(FailbackRegistry.java:297)
	at org.apache.dubbo.registry.ListenerRegistryWrapper.subscribe(ListenerRegistryWrapper.java:111)
	at org.apache.dubbo.registry.integration.RegistryProtocol.export(RegistryProtocol.java:260)
	at org.apache.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:64)
	at org.apache.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:74)
	at org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:58)
	at org.apache.dubbo.rpc.protocol.ProtocolSerializationWrapper.export(ProtocolSerializationWrapper.java:47)
	at org.apache.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)
	at org.apache.dubbo.config.ServiceConfig.doExportUrl(ServiceConfig.java:641)
	at org.apache.dubbo.config.ServiceConfig.exportRemote(ServiceConfig.java:619)
	at org.apache.dubbo.config.ServiceConfig.exportUrl(ServiceConfig.java:578)
	at org.apache.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:410)
	at org.apache.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:396)
	at org.apache.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:361)
	at org.apache.dubbo.config.ServiceConfig.export(ServiceConfig.java:233)
	at org.apache.dubbo.config.metadata.ConfigurableMetadataServiceExporter.export(ConfigurableMetadataServiceExporter.java:70)
	at org.apache.dubbo.config.metadata.ExporterDeployListener.onModuleStarted(ExporterDeployListener.java:70)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.exportMetadataService(DefaultApplicationDeployer.java:923)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.prepareApplicationInstance(DefaultApplicationDeployer.java:613)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.checkState(DefaultApplicationDeployer.java:824)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.notifyModuleChanged(DefaultApplicationDeployer.java:812)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.onModuleFailed(DefaultModuleDeployer.java:267)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.start(DefaultModuleDeployer.java:174)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextRefreshedEvent(DubboDeployApplicationListener.java:111)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:100)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:288)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doSubscribe(NamingGrpcClientProxy.java:229)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.subscribe(NamingGrpcClientProxy.java:214)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.subscribe(NamingClientProxyDelegate.java:147)
	at com.alibaba.nacos.client.naming.NacosNamingService.getAllInstances(NacosNamingService.java:229)
	at com.alibaba.nacos.client.naming.NacosNamingService.getAllInstances(NacosNamingService.java:212)
	at com.alibaba.nacos.client.naming.NacosNamingService.getAllInstances(NacosNamingService.java:190)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.getAllInstances(NacosNamingServiceWrapper.java:55)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doSubscribe(NacosRegistry.java:233)
	... 41 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	... 49 common frames omitted
24-11-16.17:52:56.293 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.294 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.294 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.313 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 835851a3fc56c1b32dd372ecdde9476f, app: big-market, services: 1, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.651 [main            ] ERROR DefaultApplicationDeployer -  [DUBBO] Register instance error, dubbo version: 3.0.9, current host: 169.254.81.35
java.lang.RuntimeException: Request nacos server failed: 
	at org.apache.dubbo.common.function.ThrowableConsumer.execute(ThrowableConsumer.java:51)
	at org.apache.dubbo.common.function.ThrowableConsumer.execute(ThrowableConsumer.java:64)
	at org.apache.dubbo.registry.nacos.NacosServiceDiscovery.doRegister(NacosServiceDiscovery.java:70)
	at org.apache.dubbo.registry.client.AbstractServiceDiscovery.register(AbstractServiceDiscovery.java:100)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.apache.dubbo.registry.client.metadata.ServiceInstanceMetadataUtils.registerMetadataAndInstance(ServiceInstanceMetadataUtils.java:200)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.registerServiceInstance(DefaultApplicationDeployer.java:723)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.prepareApplicationInstance(DefaultApplicationDeployer.java:616)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.checkState(DefaultApplicationDeployer.java:824)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.notifyModuleChanged(DefaultApplicationDeployer.java:812)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.onModuleFailed(DefaultModuleDeployer.java:267)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.start(DefaultModuleDeployer.java:174)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextRefreshedEvent(DubboDeployApplicationListener.java:111)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:100)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doRegisterService(NamingGrpcClientProxy.java:128)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.registerService(NamingGrpcClientProxy.java:114)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.registerService(NamingClientProxyDelegate.java:94)
	at com.alibaba.nacos.client.naming.NacosNamingService.registerInstance(NacosNamingService.java:145)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.registerInstance(NacosNamingServiceWrapper.java:59)
	at org.apache.dubbo.registry.nacos.NacosServiceDiscovery.lambda$doRegister$0(NacosServiceDiscovery.java:75)
	at org.apache.dubbo.common.function.ThrowableConsumer.execute(ThrowableConsumer.java:49)
	... 28 common frames omitted
24-11-16.17:52:56.652 [main            ] ERROR DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) found failed module: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 169.254.81.35
java.lang.IllegalStateException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:217)
	at org.apache.dubbo.registry.ListenerRegistryWrapper.register(ListenerRegistryWrapper.java:59)
	at org.apache.dubbo.registry.integration.RegistryProtocol.register(RegistryProtocol.java:211)
	at org.apache.dubbo.registry.integration.RegistryProtocol.export(RegistryProtocol.java:248)
	at org.apache.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:64)
	at org.apache.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:74)
	at org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:58)
	at org.apache.dubbo.rpc.protocol.ProtocolSerializationWrapper.export(ProtocolSerializationWrapper.java:47)
	at org.apache.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)
	at org.apache.dubbo.config.ServiceConfig.doExportUrl(ServiceConfig.java:641)
	at org.apache.dubbo.config.ServiceConfig.exportRemote(ServiceConfig.java:619)
	at org.apache.dubbo.config.ServiceConfig.exportUrl(ServiceConfig.java:578)
	at org.apache.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:410)
	at org.apache.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:396)
	at org.apache.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:361)
	at org.apache.dubbo.config.ServiceConfig.export(ServiceConfig.java:233)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServiceInternal(DefaultModuleDeployer.java:341)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServices(DefaultModuleDeployer.java:313)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.start(DefaultModuleDeployer.java:145)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextRefreshedEvent(DubboDeployApplicationListener.java:111)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:100)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: org.apache.dubbo.rpc.RpcException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:186)
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:204)
	... 35 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:288)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doRegisterService(NamingGrpcClientProxy.java:128)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.registerService(NamingGrpcClientProxy.java:114)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.registerService(NamingClientProxyDelegate.java:94)
	at com.alibaba.nacos.client.naming.NacosNamingService.registerInstance(NacosNamingService.java:145)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.registerInstance(NacosNamingServiceWrapper.java:59)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:180)
	... 36 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	... 42 common frames omitted
24-11-16.17:52:56.915 [main            ] INFO  Http11NioProtocol      - Pausing ProtocolHandler ["http-nio-8091"]
24-11-16.17:52:56.915 [main            ] INFO  StandardService        - Stopping service [Tomcat]
24-11-16.17:52:56.918 [main            ] INFO  Http11NioProtocol      - Stopping ProtocolHandler ["http-nio-8091"]
24-11-16.17:52:56.923 [main            ] INFO  Http11NioProtocol      - Destroying ProtocolHandler ["http-nio-8091"]
24-11-16.17:52:56.926 [main            ] INFO  ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
24-11-16.17:52:56.945 [main            ] ERROR SpringApplication      - Application run failed
java.lang.IllegalStateException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:217)
	at org.apache.dubbo.registry.ListenerRegistryWrapper.register(ListenerRegistryWrapper.java:59)
	at org.apache.dubbo.registry.integration.RegistryProtocol.register(RegistryProtocol.java:211)
	at org.apache.dubbo.registry.integration.RegistryProtocol.export(RegistryProtocol.java:248)
	at org.apache.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:64)
	at org.apache.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:74)
	at org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:58)
	at org.apache.dubbo.rpc.protocol.ProtocolSerializationWrapper.export(ProtocolSerializationWrapper.java:47)
	at org.apache.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)
	at org.apache.dubbo.config.ServiceConfig.doExportUrl(ServiceConfig.java:641)
	at org.apache.dubbo.config.ServiceConfig.exportRemote(ServiceConfig.java:619)
	at org.apache.dubbo.config.ServiceConfig.exportUrl(ServiceConfig.java:578)
	at org.apache.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:410)
	at org.apache.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:396)
	at org.apache.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:361)
	at org.apache.dubbo.config.ServiceConfig.export(ServiceConfig.java:233)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServiceInternal(DefaultModuleDeployer.java:341)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.exportServices(DefaultModuleDeployer.java:313)
	at org.apache.dubbo.config.deploy.DefaultModuleDeployer.start(DefaultModuleDeployer.java:145)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextRefreshedEvent(DubboDeployApplicationListener.java:111)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:100)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: org.apache.dubbo.rpc.RpcException: Failed to register dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:186)
	at org.apache.dubbo.registry.support.FailbackRegistry.register(FailbackRegistry.java:204)
	... 35 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:288)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doRegisterService(NamingGrpcClientProxy.java:128)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.registerService(NamingGrpcClientProxy.java:114)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.registerService(NamingClientProxyDelegate.java:94)
	at com.alibaba.nacos.client.naming.NacosNamingService.registerInstance(NacosNamingService.java:145)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.registerInstance(NacosNamingServiceWrapper.java:59)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doRegister(NacosRegistry.java:180)
	... 36 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	... 42 common frames omitted
24-11-16.17:52:56.947 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.947 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.948 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.948 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.948 [main            ] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.951 [main            ] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:56.951 [main            ] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:57.275 [main            ] WARN  NacosRegistry          -  [DUBBO] Failed to unregister url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9 on destroy, cause: Failed to unregister dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to unregister dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: , dubbo version: 3.0.9, current host: 169.254.81.35
java.lang.IllegalStateException: Failed to unregister dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to registry 192.168.1.108:8848, cause: Failed to unregister dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.support.FailbackRegistry.unregister(FailbackRegistry.java:266)
	at org.apache.dubbo.registry.support.AbstractRegistry.destroy(AbstractRegistry.java:522)
	at org.apache.dubbo.registry.support.FailbackRegistry.destroy(FailbackRegistry.java:407)
	at org.apache.dubbo.registry.support.RegistryManager.destroyAll(RegistryManager.java:105)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.destroyRegistries(DefaultApplicationDeployer.java:1019)
	at org.apache.dubbo.config.deploy.DefaultApplicationDeployer.preDestroy(DefaultApplicationDeployer.java:767)
	at org.apache.dubbo.rpc.model.ApplicationModel.onDestroy(ApplicationModel.java:244)
	at org.apache.dubbo.rpc.model.ScopeModel.destroy(ScopeModel.java:110)
	at org.apache.dubbo.rpc.model.ApplicationModel.tryDestroy(ApplicationModel.java:355)
	at org.apache.dubbo.rpc.model.ModuleModel.onDestroy(ModuleModel.java:131)
	at org.apache.dubbo.rpc.model.ScopeModel.destroy(ScopeModel.java:110)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextClosedEvent(DubboDeployApplicationListener.java:130)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:102)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1060)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1023)
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:787)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:317)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
Caused by: org.apache.dubbo.rpc.RpcException: Failed to unregister dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0 to nacos nacos://192.168.1.108:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=16344&qos.enable=false&release=3.0.9, cause: Request nacos server failed: 
	at org.apache.dubbo.registry.nacos.NacosRegistry.doUnregister(NacosRegistry.java:200)
	at org.apache.dubbo.registry.support.FailbackRegistry.unregister(FailbackRegistry.java:253)
	... 26 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Request nacos server failed: 
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:288)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.doDeregisterService(NamingGrpcClientProxy.java:152)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.deregisterService(NamingGrpcClientProxy.java:138)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.deregisterService(NamingClientProxyDelegate.java:99)
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:180)
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:170)
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:155)
	at org.apache.dubbo.registry.nacos.NacosNamingServiceWrapper.deregisterInstance(NacosNamingServiceWrapper.java:63)
	at org.apache.dubbo.registry.nacos.NacosRegistry.doUnregister(NacosRegistry.java:195)
	... 27 common frames omitted
Caused by: com.alibaba.nacos.api.exception.NacosException: Client not connected, current status:STARTING
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:651)
	at com.alibaba.nacos.common.remote.client.RpcClient.request(RpcClient.java:631)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.requestToServer(NamingGrpcClientProxy.java:278)
	... 35 common frames omitted
24-11-16.17:52:57.275 [main            ] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:57.275 [main            ] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:57.276 [main            ] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:57.277 [main            ] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /169.254.81.35:20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:57.277 [main            ] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /169.254.81.35:20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.345 [main            ] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750754403&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.347 [main            ] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.347 [main            ] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=16344&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1731750754403&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.347 [main            ] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,exportInstanceMetadata,getExportedServiceURLs,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=16344&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1731750774641&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.347 [main            ] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.347 [main            ] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] WARN  FrameworkModelCleaner  -  [DUBBO] null, dubbo version: 3.0.9, current host: 169.254.81.35
java.lang.NullPointerException: null
	at org.apache.dubbo.registry.integration.RegistryProtocol$ExporterChangeableWrapper.unexport(RegistryProtocol.java:924)
	at org.apache.dubbo.registry.integration.RegistryProtocol.destroy(RegistryProtocol.java:637)
	at org.apache.dubbo.rpc.protocol.ProtocolListenerWrapper.destroy(ProtocolListenerWrapper.java:89)
	at org.apache.dubbo.qos.protocol.QosProtocolWrapper.destroy(QosProtocolWrapper.java:90)
	at org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper.destroy(ProtocolFilterWrapper.java:79)
	at org.apache.dubbo.rpc.protocol.ProtocolSerializationWrapper.destroy(ProtocolSerializationWrapper.java:57)
	at org.apache.dubbo.config.deploy.FrameworkModelCleaner.destroyProtocols(FrameworkModelCleaner.java:65)
	at org.apache.dubbo.config.deploy.FrameworkModelCleaner.destroyFrameworkResources(FrameworkModelCleaner.java:52)
	at org.apache.dubbo.config.deploy.FrameworkModelCleaner.onDestroy(FrameworkModelCleaner.java:44)
	at org.apache.dubbo.config.deploy.FrameworkModelCleaner.onDestroy(FrameworkModelCleaner.java:31)
	at org.apache.dubbo.rpc.model.ScopeModel.notifyProtocolDestroy(ScopeModel.java:140)
	at org.apache.dubbo.rpc.model.FrameworkModel.tryDestroyProtocols(FrameworkModel.java:262)
	at org.apache.dubbo.rpc.model.ApplicationModel.onDestroy(ApplicationModel.java:248)
	at org.apache.dubbo.rpc.model.ScopeModel.destroy(ScopeModel.java:110)
	at org.apache.dubbo.rpc.model.ApplicationModel.tryDestroy(ApplicationModel.java:355)
	at org.apache.dubbo.rpc.model.ModuleModel.onDestroy(ModuleModel.java:131)
	at org.apache.dubbo.rpc.model.ScopeModel.destroy(ScopeModel.java:110)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onContextClosedEvent(DubboDeployApplicationListener.java:130)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:102)
	at org.apache.dubbo.config.spring.context.DubboDeployApplicationListener.onApplicationEvent(DubboDeployApplicationListener.java:45)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1060)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1023)
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:787)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:317)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at cn.wenzhuo4657.BigMarket.Application.main(Application.java:25)
24-11-16.17:52:59.348 [main            ] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] ERROR CompositeConfiguration -  [DUBBO] Error when trying to get value for key dubbo.service.shutdown.wait from null, will continue to try the next one., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] ERROR CompositeConfiguration -  [DUBBO] Error when trying to get value for key dubbo.service.shutdown.wait.seconds from null, will continue to try the next one., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.348 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.349 [main            ] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.349 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has stopped., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  FrameworkModel         -  [DUBBO] Destroying default framework model: Dubbo Framework[1], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroying ..., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] has stopped., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.350 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) has stopped., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.352 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroyed, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.352 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from Dubbo Framework[1] to null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.352 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Destroying global resources ..., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.352 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Dubbo is completely destroyed, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.352 [main            ] INFO  FrameworkExecutorRepository -  [DUBBO] destroying framework executor repository .., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.353 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@7f0d96f2, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:52:59.359 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.17:52:59.361 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.17:52:59.362 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.17:52:59.363 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.17:53:00.226 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.17:53:00.226 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.17:53:00.226 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.17:53:00.226 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Successfully waited for workers to finish.
24-11-16.17:53:00.229 [main            ] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.17:53:00.229 [main            ] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.17:53:00.229 [main            ] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.17:53:00.229 [main            ] INFO  SimpleMessageListenerContainer - Shutdown ignored - container is already stopped
24-11-16.17:53:00.310 [Thread-11       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
24-11-16.17:53:00.310 [Thread-16       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
24-11-16.17:53:00.310 [Thread-16       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
24-11-16.17:53:00.310 [Thread-11       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
24-11-16.17:54:44.877 [main            ] INFO  WelcomeLogoApplicationListener - 

 :: Dubbo Spring Boot (v3.0.9) : https://github.com/apache/dubbo-spring-boot-project
 :: Dubbo (v3.0.9) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org

24-11-16.17:54:44.925 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 28388 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
24-11-16.17:54:44.925 [main            ] INFO  Application            - The following 1 profile is active: "dev"
24-11-16.17:54:46.197 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from null to Dubbo Framework[1], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.197 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.222 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.222 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.243 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.243 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.286 [main            ] INFO  FrameworkModel         -  [DUBBO] Reset global default application from null to Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.286 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.286 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.291 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.291 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.301 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.301 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.304 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.306 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.306 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@7f0d96f2, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.558 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-11-16.17:54:46.560 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-11-16.17:54:46.611 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
24-11-16.17:54:46.705 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.705 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.717 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 2 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.724 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.725 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.726 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.726 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.726 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:46.727 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
24-11-16.17:54:46.727 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
24-11-16.17:54:47.279 [main            ] INFO  ReferenceAnnotationBeanPostProcessor - class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!
24-11-16.17:54:47.735 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
24-11-16.17:54:47.740 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
24-11-16.17:54:47.741 [main            ] INFO  StandardService        - Starting service [Tomcat]
24-11-16.17:54:47.741 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
24-11-16.17:54:47.875 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
24-11-16.17:54:47.875 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2900 ms
24-11-16.17:54:48.207 [main            ] INFO  DubboConfigBeanInitializer - loading dubbo config beans ...
24-11-16.17:54:48.210 [main            ] INFO  DubboConfigBeanInitializer - dubbo config beans are loaded.
24-11-16.17:54:48.240 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:48.241 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://127.0.0.1:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:48.244 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-127.0.0.1-8848" address="nacos://127.0.0.1:8848" protocol="nacos" port="8848" />, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:48.288 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:54:48.289 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:54:49.995 [main            ] WARN  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:49.995 [main            ] WARN  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:50.019 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:50.022 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:50.025 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:50.025 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://127.0.0.1:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:50.027 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://127.0.0.1:8848" protocol="nacos" port="8848" />, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:50.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:54:50.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:54:50.083 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:51.086 [main            ] INFO  Version                - Redisson 3.23.4
24-11-16.17:54:51.509 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.17:54:51.531 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 127.0.0.1/127.0.0.1:6379
24-11-16.17:54:53.178 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-11-16.17:54:53.343 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
24-11-16.17:54:53.353 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
24-11-16.17:54:53.355 [main            ] INFO  CachingConnectionFactory - Attempting to connect to: [127.0.0.1:5672]
24-11-16.17:54:53.385 [main            ] INFO  CachingConnectionFactory - Created new connection: rabbitConnectionFactory#736788b:0/SimpleConnection@73baf7f0 [delegate=amqp://admin@127.0.0.1:5672/, localPort= 63837]
24-11-16.17:54:53.460 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.460 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.545 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.587 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.588 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0 to registry 127.0.0.1:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.590 [main            ] INFO  QosProtocolWrapper     -  [DUBBO] qos won't be started because it is disabled. Please check dubbo.application.qos.enable is configured either in system property, dubbo.properties or XML/spring-boot configuration., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.671 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.81.35:20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.706 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded mapping cache from file .metadata.nacos127.0.0.1:8848, entries 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.716 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:54:53.716 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:54:53.842 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping, entries 0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.851 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.860 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0 to registry 127.0.0.1:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.860 [main            ] INFO  QosProtocolWrapper     -  [DUBBO] qos won't be started because it is disabled. Please check dubbo.application.qos.enable is configured either in system property, dubbo.properties or XML/spring-boot configuration., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:53.869 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
24-11-16.17:54:53.869 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
24-11-16.17:54:53.993 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.018 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.052 [main            ] WARN  NacosRegistry          -  [DUBBO] Ignore empty notify urls for subscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.058 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@64abb53a; definition: FullServiceDefinition{parameters=org.apache.dubbo.common.url.component.URLParam$URLParamMap@b7deda2a} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.types.models.Response]]], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.233 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.244 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.244 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0 to registry 127.0.0.1:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.251 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0 to registry 127.0.0.1:8848, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.450 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.454 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.463 [main            ] WARN  NacosRegistry          -  [DUBBO] Ignore empty notify urls for subscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.464 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@752afe2a; definition: FullServiceDefinition{parameters=org.apache.dubbo.common.url.component.URLParam$URLParamMap@d20b36a5} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.types.models.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.types.models.Response]]], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.479 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.479 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.480 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.480 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.481 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Metadata Service Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.481 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] Using dubbo protocol to export metadata service on port 20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.504 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.505 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.516 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.520 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.731 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.988 [main            ] WARN  NacosRegistry          -  [DUBBO] Ignore empty notify urls for subscribe url provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.988 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.989 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.989 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:54.998 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 33f7ba648fa0179fb9687a4d30ba3116, app: big-market, services: 2, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:55.007 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:54:55.011 [main            ] INFO  Application            - Started Application in 10.495 seconds (JVM running for 11.296)
24-11-16.17:54:55.023 [pool-6-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.17:54:55.023 [pool-6-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.17:54:55.184 [pool-6-thread-2 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.17:54:55.184 [pool-6-thread-1 ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.17:54:55.404 [RMI TCP Connection(4)-172.24.192.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
24-11-16.17:54:55.404 [RMI TCP Connection(4)-172.24.192.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
24-11-16.17:54:55.405 [RMI TCP Connection(4)-172.24.192.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
24-11-16.17:57:38.604 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Ignore empty notify urls for subscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:57:39.037 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Ignore empty notify urls for subscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:57:39.748 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":107,"awardTitle":"小霸王游戏机","orderId":"218884466043","userId":"xiaofuge"},"id":"91628221527","timestamp":1731751059708}
24-11-16.17:57:39.783 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  HikariDataSource       - Retail_HikariCP - Starting...
24-11-16.17:57:39.804 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
24-11-16.17:57:39.809 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ERROR AwardService           - 分发奖品，对应的服务不存在。awardKey:openai_model
24-11-16.17:57:40.348 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Ignore empty notify urls for subscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.17:57:40.354 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Ignore empty notify urls for subscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.484 [Thread-11       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
24-11-16.18:00:18.484 [Thread-16       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
24-11-16.18:00:18.484 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.484 [DubboShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.484 [Thread-16       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
24-11-16.18:00:18.484 [DubboShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.484 [DubboShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://127.0.0.1:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=28388&qos.enable=false&release=3.0.9, nacos://127.0.0.1:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=28388&qos.enable=false&release=3.0.9], dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.484 [Thread-11       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
24-11-16.18:00:18.484 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://127.0.0.1:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&interface=org.apache.dubbo.registry.RegistryService&pid=28388&qos.enable=false&release=3.0.9, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.484 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.485 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.487 [SpringApplicationShutdownHook] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.488 [SpringApplicationShutdownHook] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.488 [SpringApplicationShutdownHook] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.488 [SpringApplicationShutdownHook] WARN  RegistryManager        -  [DUBBO] All registry instances have been destroyed, failed to fetch any instance. Usually, this means no need to try to do unnecessary redundant resource clearance, all registries has been taken care of., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.489 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.489 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unregister url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.489 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.489 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@7f0d96f2, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.491 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unregister url dubbo://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.491 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.491 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=queryUserActivityAccount,creditPayExchangeSku,querySkuProductListByActivityId,queryUserCreditAccount,armory,calendarSignRebate,draw,isCalendarSignRebate&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750893540&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.491 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.492 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.81.35:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&connections=1&corethreads=2&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executes=100&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=getMetadataURL,isMetadataService,getAndListenInstanceMetadata,getExportedURLs,serviceName,version,getSubscribedURLs,getExportedServiceURLs,exportInstanceMetadata,getMetadataInfo,toSortedStrings,getMetadataInfos,getServiceDefinition,getInstanceMetadataChangedListenerMap&pid=28388&qos.enable=false&register=false&release=3.0.9&revision=3.0.9&service-name-mapping=true&side=provider&threadpool=cached&threads=100&timestamp=1731750894493&version=1.0.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.492 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.492 [DubboShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.81.35:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.81.35&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=randomRaffle,strategyArmory,queryRaffleAwardList,queryRaffleStrategyRuleWeight&pid=28388&qos.enable=false&release=3.0.9&revision=1.0&service-name-mapping=true&side=provider&timestamp=1731750894235&version=1.0, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.495 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.18:00:18.498 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.18:00:18.499 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.18:00:18.500 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] INFO  SimpleMessageListenerContainer - Waiting for workers to finish.
24-11-16.18:00:18.503 [DubboShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.503 [DubboShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /169.254.81.35:20880, dubbo version: 3.0.9, current host: 169.254.81.35
24-11-16.18:00:18.504 [DubboShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /169.254.81.35:20880, dubbo version: 3.0.9, current host: 169.254.81.35
