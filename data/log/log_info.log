25-06-09.11:32:06.123 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:06.236 [main            ] INFO  Application            - Starting Application using Java 1.8.0_141 on wenzhuo4657 with PID 42084 (C:\working\云code\code\big-market\big-market-app\target\classes started by 25370 in C:\working\云code\code\big-market)
25-06-09.11:32:06.236 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-06-09.11:32:06.240 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-06-09.11:32:08.115 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:32:08.116 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
25-06-09.11:32:08.234 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 4 Elasticsearch repository interfaces.
25-06-09.11:32:08.244 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.263 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.388 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.389 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.427 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.427 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.444 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.445 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.462 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.595 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.595 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.604 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.604 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.609 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.610 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.626 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.626 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.631 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.636 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.637 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.639 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:08.639 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@9d3c67, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.184 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:32:09.185 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
25-06-09.11:32:09.257 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 0 Reactive Elasticsearch repository interfaces.
25-06-09.11:32:09.275 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:32:09.276 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-06-09.11:32:09.318 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IRaffleActivityOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:32:09.319 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserAwardRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:32:09.319 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserBehaviorRebateOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:32:09.319 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserRaffleOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:32:09.320 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
25-06-09.11:32:09.582 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.582 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.609 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 2 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.622 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.623 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.624 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.624 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:09.625 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-06-09.11:32:09.659 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-06-09.11:32:09.659 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-06-09.11:32:09.768 [main            ] INFO  GenericScope           - BeanFactory id=57601fd7-4292-31af-8175-9dba5a822234
25-06-09.11:32:10.838 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:10.916 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:10.917 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:10.918 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$702/218691674] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:10.918 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:10.922 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:10.928 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:11.318 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$82f529d2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:11.504 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$3bb3c902] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:11.510 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:11.578 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-06-09.11:32:11.585 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-06-09.11:32:11.585 [main            ] INFO  ZooKeeper              - Client environment:host.name=wenzhuo4657
25-06-09.11:32:11.585 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_141
25-06-09.11:32:11.585 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-06-09.11:32:11.585 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_141\jre
25-06-09.11:32:11.585 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\25370\AppData\Local\Temp\classpath1494454676.jar;C:\Users\25370\AppData\Local\JetBrains\IntelliJIdea2023.3\captureAgent\debugger-agent.jar
25-06-09.11:32:11.585 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_141\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files\dotnet\;C:\working\software\Git\cmd;c:\working\software\cursor\resources\app\bin;C:\working\software\Gpg4win\..\GnuPG\bin;C:\Users\25370\.jdks\ms-17.0.15\bin;C:\working\software\nvm;C:\Program Files\nodejs;C:\Users\25370\Desktop\hugo-blog;C:\Users\25370\AppData\Local\Microsoft\WindowsApps;C:\working\software\idea\IntelliJ IDEA 2023.3.8\bin;;C:\working\software\cursor\resources\app\bin;C:\working\software\apache-maven-3.9.9-bin\apache-maven-3.9.9\bin;C:\working\software\nvm;C:\Program Files\nodejs;.
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\25370\AppData\Local\Temp\
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 10
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:user.name=25370
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\25370
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:user.dir=C:\working\云code\code\big-market
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=208MB
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-06-09.11:32:11.586 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=481MB
25-06-09.11:32:11.591 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@462b239f
25-06-09.11:32:11.594 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-06-09.11:32:11.612 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-06-09.11:32:11.619 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-06-09.11:32:11.629 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-06-09.11:32:11.633 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:32:26.611 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-06-09.11:32:26.611 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-06-09.11:32:26.625 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.14.133.126:59328, server: 117.72.36.124/117.72.36.124:2181
25-06-09.11:32:27.849 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x10000004c340000, negotiated timeout = 30000
25-06-09.11:32:27.864 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-06-09.11:32:28.107 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:32:28.107 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:32:28.138 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-06-09.11:32:28.237 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-06-09.11:32:28.287 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-06-09.11:32:28.287 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-06-09.11:32:28.733 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-06-09.11:32:28.944 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-06-09.11:32:28.970 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-06-09.11:32:28.970 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-06-09.11:32:29.462 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-06-09.11:32:29.463 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 22933 ms
25-06-09.11:32:30.215 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-06-09.11:32:31.278 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-06-09.11:32:31.289 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-06-09.11:32:31.439 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-06-09.11:32:31.440 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-06-09.11:32:31.577 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-06-09.11:32:33.912 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:33.922 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:34.051 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:34.056 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:34.068 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:34.203 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:32:34.204 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:32:39.080 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.081 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.263 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.265 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.265 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.266 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.266 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.348 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.357 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.602 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.602 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.609 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.638 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:32:39.638 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:32:39.830 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:39.872 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-06-09.11:32:41.061 [I/O dispatcher 1] WARN  RestClient             - request [GET http://154.64.245.158:9200/] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:32:41.136 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_behavior_rebate_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:32:41.276 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.raffle_activity_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:32:41.352 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_award_record] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:32:41.425 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_raffle_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:32:41.927 [main            ] INFO  Version                - Redisson 3.23.4
25-06-09.11:32:42.987 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-06-09.11:32:43.293 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-06-09.11:32:47.647 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-06-09.11:32:47.661 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-06-09.11:32:47.672 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-06-09.11:32:49.229 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-06-09.11:32:49.242 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-06-09.11:32:49.242 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-06-09.11:32:49.243 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-06-09.11:32:49.243 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-06-09.11:32:49.243 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-06-09.11:32:49.243 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-06-09.11:32:49.243 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@12d644a6
25-06-09.11:32:50.794 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-06-09.11:32:50.798 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-06-09.11:32:50.954 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@8b5de1b[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-06-09.11:32:50.955 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@1dba3c62[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-06-09.11:32:50.955 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@3dd64a1a[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-06-09.11:32:51.084 [Thread-121      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-06-09.11:32:52.426 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:32:52.426 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-06-09.11:32:53.605 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:32:53.605 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-06-09.11:32:54.779 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:32:54.779 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-06-09.11:32:56.031 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:32:56.031 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-06-09.11:32:56.142 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-06-09.11:32:56.167 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-06-09.11:32:57.162 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-06-09.11:32:57.164 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-06-09.11:32:57.165 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:57.166 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:58.326 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-06-09.11:32:58.480 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:58.483 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1749439977229&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:58.483 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:58.664 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /10.14.133.126:20880, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:58.736 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:58.760 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:32:58.760 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:32:59.074 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.082 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.093 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.118 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.139 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:32:59.139 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:32:59.308 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.309 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.385 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:32:59.386 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.403 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:32:59.403 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.424 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.426 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@6759944f; definition: FullServiceDefinition{parameters={release=3.2.5, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, version=1.0, dubbo=2.0.2, side=provider, anyhost=true, pid=42084, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=10.14.133.126, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1749439977229}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/C:/working/云code/code/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.489 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.525 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1749439979505&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.526 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.550 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.753 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.780 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:32:59.780 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.807 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:32:59.807 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.808 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.868 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.868 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.870 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.870 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.870 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.881 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.882 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.932 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@1d32b28f; definition: FullServiceDefinition{parameters={release=3.2.5, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, version=1.0, dubbo=2.0.2, side=provider, anyhost=true, pid=42084, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=10.14.133.126, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1749439979505}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/C:/working/云code/code/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.945 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.946 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:32:59.997 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.019 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.198 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.232 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:33:00.232 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.232 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.233 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.233 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.234 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.446 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.463 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42084&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1749439977197, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.464 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.531 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42084&qos.enable=true&register=false&release=3.2.5&timestamp=1749439977197, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.532 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42084&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1749439979503, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.532 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.548 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42084&qos.enable=true&register=false&release=3.2.5&timestamp=1749439979503, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.558 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 7f5e0ea029c6bda58d38e7d6b776b2ad, app: big-market, services: 2, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:00.606 [main            ] INFO  Application            - Started Application in 57.111 seconds (JVM running for 79.242)
25-06-09.11:33:00.745 [RMI TCP Connection(7)-10.14.230.53] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-06-09.11:33:00.745 [RMI TCP Connection(7)-10.14.230.53] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-06-09.11:33:00.747 [RMI TCP Connection(7)-10.14.230.53] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-06-09.11:33:00.800 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:33:00.800 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:01.022 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:33:01.022 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:33:01.548 [RMI TCP Connection(9)-10.14.230.53] WARN  RestClient             - request [GET http://154.64.245.158:9200/_cluster/health/] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:33:16.150 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:33:16.979 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ?
25-06-09.11:33:16.979 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:16.980 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ? ::: [100401]
25-06-09.11:33:17.199 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@1b11729c], window=Optional.empty)
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.200 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.497 [http-nio-8091-exec-1] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-06-09.11:33:17.500 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-06-09.11:33:17.500 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:17.500 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.500 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:17.580 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-06-09.11:33:17.580 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:17.580 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:33:17.580 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:33:17.649 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-06-09.11:33:17.649 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:17.649 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:33:17.649 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:33:17.867 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_raffle_order
25-06-09.11:33:17.867 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:17.867 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-06-09.11:33:17.867 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-06-09.11:33:18.020 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-06-09.11:33:18.020 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:33:18.020 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:18.020 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:18.272 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-06-09.11:33:18.272 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:33:18.272 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:33:18.272 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:33:18.393 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-06-09.11:33:18.393 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:33:18.393 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:18.393 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:18.582 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_day
25-06-09.11:33:18.582 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:18.582 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_day
25-06-09.11:33:18.582 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_day
25-06-09.11:33:18.938 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: insert into raffle_activity_account_day(
            id,user_id, activity_id, day, day_count, day_count_surplus, create_time, update_time)
        values
            (?,?, ?, ?, ?, ?, now(), now())
25-06-09.11:33:18.938 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:33:18.938 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into raffle_activity_account_day(
            id,user_id, activity_id, day, day_count, day_count_surplus, create_time, update_time)
        values
            (?, ?, ?, ?, ?, ?, now(), now()) ::: [10, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09, 200, 176]
25-06-09.11:33:18.999 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ?
25-06-09.11:33:18.999 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:33:18.999 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ? ::: [177, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:18.999 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ? ::: [177, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:19.280 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-06-09.11:33:19.280 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:33:19.280 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_001(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [57, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 573597402620, 2025-06-09 11:33:16.152, create]
25-06-09.11:33:19.494 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:573597402620
25-06-09.11:33:19.520 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ?
25-06-09.11:33:19.520 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:19.520 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ? ::: [100006]
25-06-09.11:33:19.611 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:33:19.636 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:33:19.636 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:19.636 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:33:19.690 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:33:19.727 [http-nio-8091-exec-1] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.NullPointerException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository.getRateRange(StrategyRepository.java:90)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$43dd791e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$a97fbc18.getRateRange(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.armory.StrategyArmoryDispatch.getRandomAwardId(StrategyArmoryDispatch.java:80)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.DefaultLogicChain.logic(DefaultLogicChain.java:40)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:56)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:46)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:45)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:130)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$e760fa34.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
25-06-09.11:33:24.498 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-06-09.11:33:24.503 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-06-09.11:33:24.503 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:24.503 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-06-09.11:33:24.633 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ?
25-06-09.11:33:24.633 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:24.633 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ? ::: [11101]
25-06-09.11:33:24.724 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-06-09.11:33:24.724 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:24.724 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-06-09.11:33:24.806 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ?
25-06-09.11:33:24.806 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:24.806 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? ::: [100006]
25-06-09.11:33:25.282 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:33:25.282 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:25.282 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-06-09.11:33:25.458 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-06-09.11:33:29.015 [http-nio-8091-exec-5] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@1b11729c], window=Optional.empty)
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.030 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:33:29.225 [http-nio-8091-exec-5] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:573597402620
25-06-09.11:33:29.226 [http-nio-8091-exec-5] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:33:29.226 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:33:29.226 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:29.226 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:33:29.275 [http-nio-8091-exec-5] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:33:29.310 [http-nio-8091-exec-5] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-06-09.11:33:29.323 [http-nio-8091-exec-5] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-06-09.11:33:29.325 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-06-09.11:33:29.326 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:29.326 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-06-09.11:33:29.380 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-06-09.11:33:29.380 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:29.380 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-06-09.11:33:29.411 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-06-09.11:33:29.411 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:29.411 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-06-09.11:33:29.453 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-06-09.11:33:29.453 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:29.453 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-06-09.11:33:29.534 [http-nio-8091-exec-5] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-06-09.11:33:29.568 [http-nio-8091-exec-5] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-06-09.11:33:29.641 [http-nio-8091-exec-5] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-06-09.11:33:29.642 [http-nio-8091-exec-5] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-06-09.11:33:29.659 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-06-09.11:33:29.659 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:29.659 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 106]
25-06-09.11:33:29.773 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-06-09.11:33:29.773 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:29.773 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-06-09.11:33:29.773 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-06-09.11:33:29.994 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-06-09.11:33:29.994 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:33:29.994 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [54, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 573597402620, 106, OpenAI随机额度, 2025-06-09 11:33:29.719, create]
25-06-09.11:33:30.069 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-06-09.11:33:30.069 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:30.069 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-06-09.11:33:30.069 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-06-09.11:33:30.484 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-06-09.11:33:30.484 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:33:30.484 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [80, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 72518374313, {"data":{"awardId":106,"awardTitle":"OpenAI随机额度","orderId":"573597402620","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"72518374313","timestamp":1749440009723}, create]
25-06-09.11:33:30.563 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create'
25-06-09.11:33:30.563 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:33:30.563 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 573597402620, 57]
25-06-09.11:33:31.232 [http-nio-8091-exec-5] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":106,"awardTitle":"OpenAI随机额度","orderId":"573597402620","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"72518374313","timestamp":1749440009723}
25-06-09.11:33:31.234 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=?
25-06-09.11:33:31.234 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:33:31.234 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 72518374313]
25-06-09.11:33:31.234 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 72518374313]
25-06-09.11:33:31.294 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":106,"awardTitle":"OpenAI随机额度","orderId":"573597402620","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"72518374313","timestamp":1749440009723}
25-06-09.11:33:31.308 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - Logic SQL: select award_key from award where award_id = ?
25-06-09.11:33:31.308 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:33:31.308 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select award_key from award where award_id = ? ::: [106]
25-06-09.11:38:02.306 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@1b11729c], window=Optional.empty)
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.323 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.508 [http-nio-8091-exec-7] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-06-09.11:38:02.508 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-06-09.11:38:02.508 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:02.508 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.508 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.553 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-06-09.11:38:02.553 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:02.553 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:38:02.554 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:38:02.589 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-06-09.11:38:02.589 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:02.589 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:38:02.589 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:38:02.731 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-06-09.11:38:02.731 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:02.731 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.731 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.847 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-06-09.11:38:02.847 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:02.847 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:38:02.847 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:38:02.916 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-06-09.11:38:02.916 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:02.916 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.916 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:02.978 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-06-09.11:38:02.978 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:02.978 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:38:02.978 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:38:03.046 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-06-09.11:38:03.046 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:03.046 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:03.046 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:38.990 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Client session timed out, have not heard from server in 37145ms for session id 0x10000004c340000
25-06-09.11:38:38.991 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-06-09.11:38:38.991 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:38:38.991 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_003(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [59, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 485549179659, 2025-06-09 11:38:02.306, create]
25-06-09.11:38:38.991 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x10000004c340000 for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 37145ms for session id 0x10000004c340000
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
25-06-09.11:38:39.094 [main-EventThread] INFO  ConnectionStateManager - State change: SUSPENDED
25-06-09.11:38:39.140 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:485549179659
25-06-09.11:38:39.140 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:38:39.140 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:38:39.140 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:39.140 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:38:39.184 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:38:39.215 [http-nio-8091-exec-7] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-06-09.11:38:39.215 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-06-09.11:38:39.216 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-06-09.11:38:39.216 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:39.216 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-06-09.11:38:39.295 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-06-09.11:38:39.329 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-06-09.11:38:39.346 [http-nio-8091-exec-7] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-06-09.11:38:39.346 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-06-09.11:38:39.361 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-06-09.11:38:39.361 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:39.361 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 108]
25-06-09.11:38:39.507 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-06-09.11:38:39.507 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:38:39.507 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [55, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 485549179659, 108, OpenAI随机额度, 2025-06-09 11:38:39.427, create]
25-06-09.11:38:39.617 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-06-09.11:38:39.617 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:38:39.619 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [81, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 99898300297, {"data":{"awardId":108,"awardTitle":"OpenAI随机额度","orderId":"485549179659","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"99898300297","timestamp":1749440319427}, create]
25-06-09.11:38:39.660 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create'
25-06-09.11:38:39.660 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:39.660 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 485549179659, 58]
25-06-09.11:38:39.734 [http-nio-8091-exec-7] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 108
25-06-09.11:38:39.817 [http-nio-8091-exec-7] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:112)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:92)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$f73ffb30.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:151)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$e760fa34.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
25-06-09.11:38:52.090 [http-nio-8091-exec-8] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@1b11729c], window=Optional.empty)
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.107 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:38:52.251 [http-nio-8091-exec-8] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:485549179659
25-06-09.11:38:52.251 [http-nio-8091-exec-8] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:38:52.251 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:38:52.251 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.251 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:38:52.294 [http-nio-8091-exec-8] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:38:52.318 [http-nio-8091-exec-8] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-06-09.11:38:52.318 [http-nio-8091-exec-8] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-06-09.11:38:52.319 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-06-09.11:38:52.319 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.319 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-06-09.11:38:52.359 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-06-09.11:38:52.359 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.359 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_1]
25-06-09.11:38:52.383 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-06-09.11:38:52.383 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.383 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_1]
25-06-09.11:38:52.412 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-06-09.11:38:52.412 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.412 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_1]
25-06-09.11:38:52.447 [http-nio-8091-exec-8] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-06-09.11:38:52.449 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-06-09.11:38:52.449 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.449 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-06-09.11:38:52.449 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-06-09.11:38:52.497 [http-nio-8091-exec-8] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-06-09.11:38:52.497 [http-nio-8091-exec-8] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-06-09.11:38:52.526 [http-nio-8091-exec-8] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-06-09.11:38:52.542 [http-nio-8091-exec-8] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-06-09.11:38:52.542 [http-nio-8091-exec-8] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-06-09.11:38:52.554 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-06-09.11:38:52.554 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.554 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 107]
25-06-09.11:38:52.652 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-06-09.11:38:52.652 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:38:52.652 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [56, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 485549179659, 107, OpenAI随机额度, 2025-06-09 11:38:52.594, create]
25-06-09.11:38:52.786 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-06-09.11:38:52.786 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:38:52.786 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [82, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 02225199916, {"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"485549179659","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"02225199916","timestamp":1749440332594}, create]
25-06-09.11:38:52.816 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create'
25-06-09.11:38:52.816 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:52.816 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 485549179659, 59]
25-06-09.11:38:52.965 [http-nio-8091-exec-8] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"485549179659","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"02225199916","timestamp":1749440332594}
25-06-09.11:38:52.966 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=?
25-06-09.11:38:52.966 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:38:52.966 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 02225199916]
25-06-09.11:38:52.966 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 02225199916]
25-06-09.11:38:52.973 [ConsumeMessageThread_big-market-app-Customer-send_award_2] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"485549179659","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"02225199916","timestamp":1749440332594}
25-06-09.11:38:52.975 [ConsumeMessageThread_big-market-app-Customer-send_award_2] INFO  ShardingSphere-SQL     - Logic SQL: select award_key from award where award_id = ?
25-06-09.11:38:52.975 [ConsumeMessageThread_big-market-app-Customer-send_award_2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:38:52.975 [ConsumeMessageThread_big-market-app-Customer-send_award_2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select award_key from award where award_id = ? ::: [107]
25-06-09.11:38:59.286 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-06-09.11:38:59.286 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-06-09.11:38:59.298 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.14.133.126:52773, server: 117.72.36.124/117.72.36.124:2181
25-06-09.11:38:59.326 [main-EventThread] WARN  ConnectionState        - Session expired event received
25-06-09.11:38:59.326 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Unable to reconnect to ZooKeeper service, session 0x10000004c340000 has expired
25-06-09.11:38:59.327 [main-EventThread] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@462b239f
25-06-09.11:38:59.327 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x10000004c340000 for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionExpiredException: Unable to reconnect to ZooKeeper service, session 0x10000004c340000 has expired
	at org.apache.zookeeper.ClientCnxn$SendThread.onConnected(ClientCnxn.java:1406)
	at org.apache.zookeeper.ClientCnxnSocket.readConnectResult(ClientCnxnSocket.java:154)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:84)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-06-09.11:38:59.327 [main-EventThread] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-06-09.11:38:59.327 [main-EventThread] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-06-09.11:38:59.328 [main-EventThread] INFO  ConnectionStateManager - State change: LOST
25-06-09.11:38:59.328 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x10000004c340000
25-06-09.11:39:18.239 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-06-09.11:39:18.239 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-06-09.11:39:18.251 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.14.133.126:65334, server: 117.72.36.124/117.72.36.124:2181
25-06-09.11:39:18.269 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x10000004c340001, negotiated timeout = 30000
25-06-09.11:39:18.269 [main-EventThread] INFO  ConnectionStateManager - State change: RECONNECTED
25-06-09.11:39:18.327 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:41:05.606 [http-nio-8091-exec-10] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@1b11729c], window=Optional.empty)
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.620 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.809 [http-nio-8091-exec-10] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-06-09.11:41:05.809 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-06-09.11:41:05.809 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:41:05.809 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.809 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.843 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-06-09.11:41:05.843 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:41:05.843 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:41:05.843 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:41:05.879 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-06-09.11:41:05.879 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:41:05.879 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:41:05.879 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:41:05.977 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-06-09.11:41:05.977 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:41:05.977 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:05.977 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:06.061 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-06-09.11:41:06.061 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:41:06.061 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:41:06.061 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:41:06.118 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-06-09.11:41:06.118 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:41:06.118 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:06.118 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:06.186 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-06-09.11:41:06.186 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:41:06.186 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:41:06.186 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:41:06.255 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-06-09.11:41:06.255 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:41:06.255 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:06.255 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:41:47.066 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Client session timed out, have not heard from server in 48628ms for session id 0x10000004c340001
25-06-09.11:41:47.066 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x10000004c340001 for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 48628ms for session id 0x10000004c340001
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
25-06-09.11:41:47.072 [HikariPool-3 housekeeper] WARN  HikariPool             - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=1m8s55ms152µs600ns).
25-06-09.11:41:47.073 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m8s56ms441µs).
25-06-09.11:41:47.073 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m8s40ms746µs700ns).
25-06-09.11:41:47.084 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-06-09.11:41:47.084 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:41:47.084 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_001(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [61, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 137300112837, 2025-06-09 11:41:05.606, create]
25-06-09.11:41:47.171 [main-EventThread] INFO  ConnectionStateManager - State change: SUSPENDED
25-06-09.11:41:47.213 [http-nio-8091-exec-10] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:137300112837
25-06-09.11:41:47.213 [http-nio-8091-exec-10] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:41:47.213 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:41:47.213 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:41:47.213 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:41:47.269 [http-nio-8091-exec-10] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:41:47.316 [http-nio-8091-exec-10] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-06-09.11:41:47.316 [http-nio-8091-exec-10] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-06-09.11:41:47.317 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-06-09.11:41:47.317 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:41:47.317 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-06-09.11:41:47.373 [http-nio-8091-exec-10] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-06-09.11:41:47.408 [http-nio-8091-exec-10] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-06-09.11:41:47.426 [http-nio-8091-exec-10] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-06-09.11:41:47.426 [http-nio-8091-exec-10] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-06-09.11:41:47.448 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-06-09.11:41:47.449 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:41:47.449 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 101]
25-06-09.11:41:47.567 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-06-09.11:41:47.567 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:41:47.567 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_001(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [57, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 137300112837, 101, 随机积分, 2025-06-09 11:41:47.502, create]
25-06-09.11:41:47.686 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-06-09.11:41:47.686 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:41:47.686 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [83, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 80679640922, {"data":{"awardId":101,"awardTitle":"随机积分","orderId":"137300112837","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"80679640922","timestamp":1749440507502}, create]
25-06-09.11:41:47.722 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create'
25-06-09.11:41:47.722 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:41:47.722 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 137300112837, 60]
25-06-09.11:41:47.858 [http-nio-8091-exec-10] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 101
25-06-09.11:41:47.981 [http-nio-8091-exec-10] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:112)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:92)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$f73ffb30.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:151)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$e760fa34.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
25-06-09.11:42:01.420 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-06-09.11:42:01.420 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-06-09.11:42:01.433 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.14.133.126:64024, server: 117.72.36.124/117.72.36.124:2181
25-06-09.11:42:01.445 [main-EventThread] WARN  ConnectionState        - Session expired event received
25-06-09.11:42:01.445 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Unable to reconnect to ZooKeeper service, session 0x10000004c340001 has expired
25-06-09.11:42:01.445 [main-EventThread] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@462b239f
25-06-09.11:42:01.446 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x10000004c340001 for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionExpiredException: Unable to reconnect to ZooKeeper service, session 0x10000004c340001 has expired
	at org.apache.zookeeper.ClientCnxn$SendThread.onConnected(ClientCnxn.java:1406)
	at org.apache.zookeeper.ClientCnxnSocket.readConnectResult(ClientCnxnSocket.java:154)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:84)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-06-09.11:42:01.446 [main-EventThread] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-06-09.11:42:01.446 [main-EventThread] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-06-09.11:42:01.447 [main-EventThread] INFO  ConnectionStateManager - State change: LOST
25-06-09.11:42:01.447 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x10000004c340001
25-06-09.11:42:20.331 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-06-09.11:42:20.331 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-06-09.11:42:20.346 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.14.133.126:65029, server: 117.72.36.124/117.72.36.124:2181
25-06-09.11:42:20.362 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x10000004c340002, negotiated timeout = 30000
25-06-09.11:42:20.362 [main-EventThread] INFO  ConnectionStateManager - State change: RECONNECTED
25-06-09.11:42:20.406 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:42:58.742 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping meta caches, latest entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:42:59.097 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping mapping caches, latest entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.305 [Thread-70       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-06-09.11:51:02.305 [Thread-65       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-06-09.11:51:02.305 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.305 [Thread-70       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-06-09.11:51:02.307 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.309 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.310 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.313 [Thread-65       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-06-09.11:51:02.326 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.345 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.346 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439977229&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.348 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.348 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.350 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.350 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.350 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.366 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.366 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /10.14.133.126:20880, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.366 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /10.14.133.126:20880, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:02.898 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:51:02.898 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749439979505&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.446 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.446 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.447 [SpringApplicationShutdownHook] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.447 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.447 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.447 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.447 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.450 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.451 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=42084&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=42084&qos.enable=true&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=42084&qos.enable=true&register=false&release=3.2.5], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.451 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=42084&qos.enable=true&register=false&release=3.2.5, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.451 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.466 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42084&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749439979917&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.814 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.814 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.819 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Destroying default framework model: Dubbo Framework[1], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.819 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroying ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.819 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.820 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.820 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.820 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.820 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.820 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.820 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroyed, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.820 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from Dubbo Framework[1] to null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.821 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Destroying global resources ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.821 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Dubbo is completely destroyed, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.821 [SpringApplicationShutdownHook] INFO  FrameworkExecutorRepository -  [DUBBO] destroying framework executor repository .., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.823 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@9d3c67, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:04.826 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-06-09.11:51:04.872 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:51:04.873 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:51:04.904 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:51:04.904 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:51:04.934 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:51:04.934 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:51:04.980 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:51:04.980 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:51:05.373 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:51:05.373 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:51:05.373 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:51:05.374 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:51:05.449 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
25-06-09.11:51:05.449 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
25-06-09.11:51:05.449 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-06-09.11:51:05.450 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
25-06-09.11:51:05.456 [Thread-121      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
25-06-09.11:51:05.484 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='big-market-job', registryValue='http://wenzhuo.natapp1.cc'}, registryResult:ReturnT [code=200, msg=null, content=null]
25-06-09.11:51:05.484 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
25-06-09.11:51:05.484 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-06-09.11:51:05.484 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-06-09.11:51:05.484 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-06-09.11:51:05.484 [Thread-120      ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
25-06-09.11:51:05.519 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:51:05.519 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:51:05.574 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-06-09.11:51:05.575 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-06-09.11:51:05.576 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
25-06-09.11:51:05.576 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
25-06-09.11:51:05.577 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown initiated...
25-06-09.11:51:05.578 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown completed.
25-06-09.11:51:05.580 [Curator-Framework-0] INFO  CuratorFrameworkImpl   - backgroundOperationsLoop exiting
25-06-09.11:51:05.613 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - An exception was thrown while closing send thread for session 0x10000004c340002.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10000004c340002, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-06-09.11:51:05.723 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x10000004c340002
25-06-09.11:51:05.723 [SpringApplicationShutdownHook] INFO  ZooKeeper              - Session: 0x10000004c340002 closed
25-06-09.11:51:14.238 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:14.328 [main            ] INFO  Application            - Starting Application using Java 1.8.0_141 on wenzhuo4657 with PID 15840 (C:\working\云code\code\big-market\big-market-app\target\classes started by 25370 in C:\working\云code\code\big-market)
25-06-09.11:51:14.328 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-06-09.11:51:14.333 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-06-09.11:51:16.047 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:51:16.049 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
25-06-09.11:51:16.164 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 4 Elasticsearch repository interfaces.
25-06-09.11:51:16.175 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.193 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.323 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.323 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.370 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.370 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.390 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.391 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.410 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.579 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.579 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.590 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.590 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.596 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.596 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.613 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.613 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.621 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.625 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.625 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.628 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:16.629 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@36ddaebf, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.187 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:51:17.189 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
25-06-09.11:51:17.257 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 0 Reactive Elasticsearch repository interfaces.
25-06-09.11:51:17.275 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:51:17.277 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-06-09.11:51:17.323 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IRaffleActivityOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:51:17.324 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserAwardRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:51:17.324 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserBehaviorRebateOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:51:17.324 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserRaffleOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:51:17.324 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
25-06-09.11:51:17.589 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.589 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.620 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 2 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.632 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.633 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.635 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.635 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:17.636 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-06-09.11:51:17.670 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-06-09.11:51:17.670 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-06-09.11:51:17.772 [main            ] INFO  GenericScope           - BeanFactory id=57601fd7-4292-31af-8175-9dba5a822234
25-06-09.11:51:18.778 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:18.874 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:18.875 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:18.876 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$702/1050247219] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:18.877 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:18.881 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:18.889 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:19.336 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$a97a3678] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:19.539 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$6238d5a8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:19.546 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:19.615 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:host.name=wenzhuo4657
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_141
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_141\jre
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\25370\AppData\Local\Temp\classpath461584983.jar;C:\Users\25370\AppData\Local\JetBrains\IntelliJIdea2023.3\captureAgent\debugger-agent.jar
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_141\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files\dotnet\;C:\working\software\Git\cmd;c:\working\software\cursor\resources\app\bin;C:\working\software\Gpg4win\..\GnuPG\bin;C:\Users\25370\.jdks\ms-17.0.15\bin;C:\working\software\nvm;C:\Program Files\nodejs;C:\Users\25370\Desktop\hugo-blog;C:\Users\25370\AppData\Local\Microsoft\WindowsApps;C:\working\software\idea\IntelliJ IDEA 2023.3.8\bin;;C:\working\software\cursor\resources\app\bin;C:\working\software\apache-maven-3.9.9-bin\apache-maven-3.9.9\bin;C:\working\software\nvm;C:\Program Files\nodejs;.
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\25370\AppData\Local\Temp\
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 10
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:user.name=25370
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\25370
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:user.dir=C:\working\云code\code\big-market
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=306MB
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-06-09.11:51:19.624 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=436MB
25-06-09.11:51:19.628 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@584fb03d
25-06-09.11:51:19.631 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-06-09.11:51:19.650 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-06-09.11:51:19.657 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-06-09.11:51:19.668 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-06-09.11:51:19.672 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:51:38.527 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-06-09.11:51:38.527 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-06-09.11:51:38.545 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.14.133.126:62243, server: 117.72.36.124/117.72.36.124:2181
25-06-09.11:51:38.572 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x10000004c340003, negotiated timeout = 30000
25-06-09.11:51:38.577 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-06-09.11:51:38.755 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:51:38.755 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:51:38.765 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-06-09.11:51:38.809 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-06-09.11:51:38.849 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-06-09.11:51:38.849 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-06-09.11:51:39.097 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-06-09.11:51:39.241 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-06-09.11:51:39.255 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-06-09.11:51:39.255 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-06-09.11:51:39.434 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-06-09.11:51:39.434 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 24839 ms
25-06-09.11:51:40.023 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-06-09.11:51:40.855 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-06-09.11:51:40.870 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-06-09.11:51:41.039 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-06-09.11:51:41.040 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-06-09.11:51:41.221 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-06-09.11:51:43.180 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:43.184 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:43.243 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:43.244 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:43.251 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:43.322 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:51:43.322 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:51:46.010 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.010 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.042 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.043 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.043 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.043 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.043 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.065 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.069 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.196 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.196 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.202 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.227 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:51:46.227 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:51:46.431 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:51:46.466 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-06-09.11:51:47.329 [I/O dispatcher 1] WARN  RestClient             - request [GET http://154.64.245.158:9200/] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:51:47.399 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_behavior_rebate_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:51:47.518 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.raffle_activity_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:51:47.590 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_award_record] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:51:47.666 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_raffle_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:51:47.998 [main            ] INFO  Version                - Redisson 3.23.4
25-06-09.11:51:48.665 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-06-09.11:51:49.949 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-06-09.11:51:53.030 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-06-09.11:51:53.041 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-06-09.11:51:53.055 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-06-09.11:51:54.525 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-06-09.11:51:54.535 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-06-09.11:51:54.535 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-06-09.11:51:54.535 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-06-09.11:51:54.537 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-06-09.11:51:54.537 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-06-09.11:51:54.537 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-06-09.11:51:54.537 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1a593fc7
25-06-09.11:51:56.005 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-06-09.11:51:56.010 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-06-09.11:51:56.152 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@464de3f6[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-06-09.11:51:56.152 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@2639ec96[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-06-09.11:51:56.152 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@236a7f65[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-06-09.11:51:56.234 [Thread-118      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-06-09.11:51:57.428 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:51:57.428 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-06-09.11:51:58.581 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:51:58.581 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-06-09.11:51:59.756 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:51:59.756 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-06-09.11:52:00.863 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:52:00.864 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-06-09.11:52:00.948 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-06-09.11:52:00.966 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-06-09.11:52:01.758 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-06-09.11:52:01.758 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-06-09.11:52:01.760 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:01.761 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:02.807 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-06-09.11:52:02.937 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:02.940 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1749441121822&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:02.940 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.093 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /10.14.133.126:20880, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.153 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.172 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:52:03.172 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:52:03.390 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.397 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.408 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.442 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.470 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:52:03.470 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:52:03.666 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.666 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.695 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:52:03.695 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.715 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:52:03.715 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.729 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.731 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@7501867; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, anyhost=true, application=big-market, dubbo=2.0.2, pid=15840, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, side=provider, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=10.14.133.126, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1749441121822}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/C:/working/云code/code/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.749 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.781 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1749441123764&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.782 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:03.812 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.018 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.038 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:52:04.038 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.061 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:52:04.061 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.062 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.062 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@a781315; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, anyhost=true, application=big-market, dubbo=2.0.2, pid=15840, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, side=provider, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=10.14.133.126, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1749441123764}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/C:/working/云code/code/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.092 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.092 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.093 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.093 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.093 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.099 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.100 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.154 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.154 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.205 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.222 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.408 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.427 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:52:04.428 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.428 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.428 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.428 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.429 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.444 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.454 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15840&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1749441121791, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.454 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.482 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15840&qos.enable=true&register=false&release=3.2.5&timestamp=1749441121791, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.482 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15840&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1749441123763, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.482 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.502 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15840&qos.enable=true&register=false&release=3.2.5&timestamp=1749441123763, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.508 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 7f5e0ea029c6bda58d38e7d6b776b2ad, app: big-market, services: 2, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:04.554 [main            ] INFO  Application            - Started Application in 52.939 seconds (JVM running for 54.626)
25-06-09.11:52:04.566 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:52:04.566 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:05.071 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:52:05.071 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:52:05.262 [RMI TCP Connection(2)-10.14.230.53] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-06-09.11:52:05.262 [RMI TCP Connection(2)-10.14.230.53] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-06-09.11:52:05.265 [RMI TCP Connection(2)-10.14.230.53] INFO  DispatcherServlet      - Completed initialization in 3 ms
25-06-09.11:52:05.346 [RMI TCP Connection(1)-10.14.230.53] WARN  RestClient             - request [GET http://154.64.245.158:9200/_cluster/health/] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:55:30.231 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@564e5972], window=Optional.empty)
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.033 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.034 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:55:31.347 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:137300112837
25-06-09.11:55:31.380 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:55:31.407 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:55:31.407 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:55:31.407 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:55:31.484 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:55:31.521 [http-nio-8091-exec-1] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-06-09.11:55:31.522 [http-nio-8091-exec-1] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-06-09.11:55:31.526 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-06-09.11:55:31.526 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:55:31.526 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-06-09.11:55:31.600 [http-nio-8091-exec-1] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-06-09.11:55:31.626 [http-nio-8091-exec-1] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-06-09.11:55:31.699 [http-nio-8091-exec-1] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-06-09.11:55:31.701 [http-nio-8091-exec-1] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-06-09.11:55:31.721 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-06-09.11:55:31.721 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:55:31.721 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 104]
25-06-09.11:55:32.087 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-06-09.11:55:32.087 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:55:32.087 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [58, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 137300112837, 104, OpenAI随机额度, 2025-06-09 11:55:31.782, create]
25-06-09.11:55:32.197 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-06-09.11:55:32.197 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:55:32.197 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [84, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 06704566420, {"data":{"awardId":104,"awardTitle":"OpenAI随机额度","orderId":"137300112837","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"06704566420","timestamp":1749441331786}, create]
25-06-09.11:55:32.250 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create'
25-06-09.11:55:32.250 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:55:32.251 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 137300112837, 61]
25-06-09.11:55:32.781 [http-nio-8091-exec-1] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":104,"awardTitle":"OpenAI随机额度","orderId":"137300112837","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"06704566420","timestamp":1749441331786}
25-06-09.11:55:32.782 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=?
25-06-09.11:55:32.782 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:55:32.782 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 06704566420]
25-06-09.11:55:32.782 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 06704566420]
25-06-09.11:55:32.788 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":104,"awardTitle":"OpenAI随机额度","orderId":"137300112837","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"06704566420","timestamp":1749441331786}
25-06-09.11:55:32.801 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - Logic SQL: select award_key from award where award_id = ?
25-06-09.11:55:32.802 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:55:32.802 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select award_key from award where award_id = ? ::: [104]
25-06-09.11:57:35.008 [Thread-67       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-06-09.11:57:35.008 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.009 [Thread-73       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-06-09.11:57:35.009 [Thread-73       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-06-09.11:57:35.011 [Thread-67       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-06-09.11:57:35.011 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.011 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.012 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.033 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.050 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.050 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441121822&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.051 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.053 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.053 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.053 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.053 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.066 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.066 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /10.14.133.126:20880, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.068 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /10.14.133.126:20880, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:35.559 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:57:35.559 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441123764&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.142 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.142 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.143 [SpringApplicationShutdownHook] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.143 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.144 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.144 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.144 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.145 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.146 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=15840&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=15840&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=15840&qos.enable=true&release=3.2.5], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.146 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=15840&qos.enable=true&register=false&release=3.2.5, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.146 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.162 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15840&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441124133&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.502 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.503 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Destroying default framework model: Dubbo Framework[1], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroying ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] is stopping., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.506 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) has stopped., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.507 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroyed, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.507 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from Dubbo Framework[1] to null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.507 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Destroying global resources ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.508 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Dubbo is completely destroyed, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.508 [SpringApplicationShutdownHook] INFO  FrameworkExecutorRepository -  [DUBBO] destroying framework executor repository .., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.509 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@36ddaebf, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:37.512 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-06-09.11:57:37.550 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:57:37.553 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:57:37.583 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:57:37.583 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:57:37.620 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:57:37.620 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:57:37.651 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:57:37.651 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:57:38.009 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:57:38.011 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:57:38.011 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:57:38.011 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:57:38.064 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
25-06-09.11:57:38.064 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
25-06-09.11:57:38.064 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-06-09.11:57:38.065 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
25-06-09.11:57:38.069 [Thread-118      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
25-06-09.11:57:38.087 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='big-market-job', registryValue='http://wenzhuo.natapp1.cc'}, registryResult:ReturnT [code=200, msg=null, content=null]
25-06-09.11:57:38.088 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
25-06-09.11:57:38.088 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-06-09.11:57:38.088 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-06-09.11:57:38.088 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-06-09.11:57:38.088 [Thread-116      ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
25-06-09.11:57:38.125 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:10911] result: true
25-06-09.11:57:38.125 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-06-09.11:57:38.159 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-06-09.11:57:38.162 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-06-09.11:57:38.162 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
25-06-09.11:57:38.162 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
25-06-09.11:57:38.162 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown initiated...
25-06-09.11:57:38.163 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown completed.
25-06-09.11:57:38.164 [Curator-Framework-0] INFO  CuratorFrameworkImpl   - backgroundOperationsLoop exiting
25-06-09.11:57:38.292 [SpringApplicationShutdownHook] INFO  ZooKeeper              - Session: 0x10000004c340003 closed
25-06-09.11:57:38.292 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x10000004c340003
25-06-09.11:57:45.584 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:45.666 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-06-09.11:57:45.666 [main            ] INFO  Application            - Starting Application using Java 1.8.0_141 on wenzhuo4657 with PID 10136 (C:\working\云code\code\big-market\big-market-app\target\classes started by 25370 in C:\working\云code\code\big-market)
25-06-09.11:57:45.667 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-06-09.11:57:47.141 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:57:47.142 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
25-06-09.11:57:47.236 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 4 Elasticsearch repository interfaces.
25-06-09.11:57:47.242 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.256 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.361 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.363 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.397 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.399 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.415 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.416 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.432 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.548 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.548 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.556 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.556 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.563 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.563 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.581 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.581 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.585 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.589 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.591 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/C:/working/software/apache-maven-3.9.9-bin/maven-localRepository/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.593 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:47.594 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@61d34b4, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.068 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:57:48.070 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
25-06-09.11:57:48.132 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 0 Reactive Elasticsearch repository interfaces.
25-06-09.11:57:48.143 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-06-09.11:57:48.145 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-06-09.11:57:48.185 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IRaffleActivityOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:57:48.185 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserAwardRecordRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:57:48.185 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserBehaviorRebateOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:57:48.186 [main            ] INFO  RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.wenzhuo4657.BigMarket.querys.repository.IUserRaffleOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
25-06-09.11:57:48.186 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
25-06-09.11:57:48.412 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.412 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.441 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 2 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.451 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.452 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.453 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.453 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:48.453 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-06-09.11:57:48.479 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-06-09.11:57:48.479 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-06-09.11:57:48.578 [main            ] INFO  GenericScope           - BeanFactory id=57601fd7-4292-31af-8175-9dba5a822234
25-06-09.11:57:49.413 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:57:49.490 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:49.491 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:49.493 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$702/2081098713] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:49.493 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:49.497 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:49.504 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:49.860 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$36361a16] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:50.037 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$eef4b946] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:50.044 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:57:50.097 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:host.name=wenzhuo4657
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_141
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_141\jre
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\25370\AppData\Local\Temp\classpath428785275.jar;C:\Users\25370\AppData\Local\JetBrains\IntelliJIdea2023.3\captureAgent\debugger-agent.jar
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_141\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files\dotnet\;C:\working\software\Git\cmd;c:\working\software\cursor\resources\app\bin;C:\working\software\Gpg4win\..\GnuPG\bin;C:\Users\25370\.jdks\ms-17.0.15\bin;C:\working\software\nvm;C:\Program Files\nodejs;C:\Users\25370\Desktop\hugo-blog;C:\Users\25370\AppData\Local\Microsoft\WindowsApps;C:\working\software\idea\IntelliJ IDEA 2023.3.8\bin;;C:\working\software\cursor\resources\app\bin;C:\working\software\apache-maven-3.9.9-bin\apache-maven-3.9.9\bin;C:\working\software\nvm;C:\Program Files\nodejs;.
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\25370\AppData\Local\Temp\
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 10
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:user.name=25370
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\25370
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:user.dir=C:\working\云code\code\big-market
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=350MB
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-06-09.11:57:50.102 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=445MB
25-06-09.11:57:50.106 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@3a359f7c
25-06-09.11:57:50.109 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-06-09.11:57:50.121 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-06-09.11:57:50.126 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-06-09.11:57:50.134 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-06-09.11:57:50.137 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-06-09.11:58:11.344 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-06-09.11:58:11.344 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-06-09.11:58:11.360 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.14.133.126:56806, server: 117.72.36.124/117.72.36.124:2181
25-06-09.11:58:11.385 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x10000004c340004, negotiated timeout = 30000
25-06-09.11:58:11.391 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-06-09.11:58:11.555 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:58:11.555 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-06-09.11:58:11.563 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-06-09.11:58:11.613 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-06-09.11:58:11.645 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-06-09.11:58:11.649 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-06-09.11:58:11.853 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-06-09.11:58:11.962 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-06-09.11:58:11.974 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-06-09.11:58:11.975 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-06-09.11:58:12.132 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-06-09.11:58:12.132 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 26250 ms
25-06-09.11:58:12.717 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-06-09.11:58:13.506 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-06-09.11:58:13.516 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-06-09.11:58:13.661 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-06-09.11:58:13.661 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-06-09.11:58:13.798 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-06-09.11:58:15.555 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:15.560 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:15.611 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:15.614 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:15.618 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:15.689 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:58:15.690 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:58:18.392 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.392 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.413 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.414 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.414 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.414 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.414 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.435 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.437 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.554 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.554 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.558 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.578 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:58:18.578 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:58:18.750 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:18.784 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-06-09.11:58:19.554 [I/O dispatcher 1] WARN  RestClient             - request [GET http://154.64.245.158:9200/] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:58:19.634 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_behavior_rebate_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:58:19.752 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.raffle_activity_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:58:19.834 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_award_record] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:58:19.914 [main            ] WARN  RestClient             - request [HEAD http://154.64.245.158:9200/big_market.user_raffle_order] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:58:20.205 [main            ] INFO  Version                - Redisson 3.23.4
25-06-09.11:58:20.844 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-06-09.11:58:21.083 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-06-09.11:58:23.909 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-06-09.11:58:23.920 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-06-09.11:58:23.929 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-06-09.11:58:25.214 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-06-09.11:58:25.223 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-06-09.11:58:25.223 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-06-09.11:58:25.223 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-06-09.11:58:25.223 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-06-09.11:58:25.223 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-06-09.11:58:25.223 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-06-09.11:58:25.225 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@5531484a
25-06-09.11:58:26.775 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-06-09.11:58:26.781 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-06-09.11:58:26.904 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@3ac3cae8[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-06-09.11:58:26.904 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@1790a1d6[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-06-09.11:58:26.904 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@4f1422f7[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-06-09.11:58:26.980 [Thread-116      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-06-09.11:58:28.058 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:58:28.058 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-06-09.11:58:29.163 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:58:29.163 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-06-09.11:58:30.320 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:58:30.320 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-06-09.11:58:31.566 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-06-09.11:58:31.566 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-06-09.11:58:31.634 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-06-09.11:58:31.652 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-06-09.11:58:32.443 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-06-09.11:58:32.443 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-06-09.11:58:32.446 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:32.448 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:33.545 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-06-09.11:58:33.656 [http-nio-8091-exec-1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-06-09.11:58:33.656 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-06-09.11:58:33.658 [http-nio-8091-exec-1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-06-09.11:58:33.675 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:33.690 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1749441512501&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:33.690 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:33.743 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:58:33.868 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /10.14.133.126:20880, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:33.948 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:33.969 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:58:33.969 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:58:34.186 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.193 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.206 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.225 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.249 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-06-09.11:58:34.249 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-06-09.11:58:34.435 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.436 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.469 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:58:34.469 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@36997c2c], window=Optional.empty)
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.489 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:58:34.489 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.501 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.503 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@49e601a8; definition: FullServiceDefinition{parameters={application=big-market, release=3.2.5, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, anyhost=true, side=provider, version=1.0, dubbo=2.0.2, pid=10136, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=10.14.133.126, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1749441512501}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/C:/working/云code/code/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.524 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.555 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1749441514539&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.555 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.576 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.764 [http-nio-8091-exec-1] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-06-09.11:58:34.768 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-06-09.11:58:34.768 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:34.768 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.768 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:34.777 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.798 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:58:34.798 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.818 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:58:34.819 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.820 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.820 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@101c740e; definition: FullServiceDefinition{parameters={application=big-market, release=3.2.5, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, anyhost=true, side=provider, version=1.0, dubbo=2.0.2, pid=10136, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=10.14.133.126, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1749441514539}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/C:/working/云code/code/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.829 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-06-09.11:58:34.829 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:34.829 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:58:34.829 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:58:34.844 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.845 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.845 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.846 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.846 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.851 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.851 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.882 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-06-09.11:58:34.882 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:34.882 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:58:34.882 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:58:34.901 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1749441514881&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.902 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441514881&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:34.935 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.045 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-06-09.11:58:35.045 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:35.045 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:35.045 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:35.132 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-06-09.11:58:35.132 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:35.132 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:58:35.132 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06]
25-06-09.11:58:35.179 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441514881&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.194 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441514881&version=1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.195 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-06-09.11:58:35.195 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:35.195 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:35.195 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:35.211 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:58:35.211 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441514881&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.212 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.212 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.212 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://10.14.133.126:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1749441514881&version=1.0.0], dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.213 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.229 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.240 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=10136&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1749441512478, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.240 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.264 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=10136&qos.enable=true&register=false&release=3.2.5&timestamp=1749441512478, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.265 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=10136&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1749441514538, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.265 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.283 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=10136&qos.enable=true&register=false&release=3.2.5&timestamp=1749441514538, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.288 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 7f5e0ea029c6bda58d38e7d6b776b2ad, app: big-market, services: 2, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.324 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:58:35.326 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441514539&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-06-09.11:58:35.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:35.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:58:35.478 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-06-09]
25-06-09.11:58:35.543 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-06-09.11:58:35.543 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:35.543 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:35.543 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:35.566 [main            ] INFO  Application            - Started Application in 52.464 seconds (JVM running for 53.996)
25-06-09.11:58:35.815 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 10.14.133.126, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-06-09.11:58:35.816 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://10.14.133.126:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=10.14.133.126&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=10136&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1749441512501&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 10.14.133.126
25-06-09.11:58:35.858 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-06-09.11:58:35.858 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:58:35.858 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_003(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [63, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 844584584980, 2025-06-09 11:58:33.745, create]
25-06-09.11:58:36.188 [RMI TCP Connection(2)-10.14.230.53] WARN  RestClient             - request [GET http://154.64.245.158:9200/_cluster/health/] returned 1 warnings: [299 Elasticsearch-7.17.14-774e3bfa4d52e2834e4d9d8d669d77e4e5c1017f "Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html to enable security."]
25-06-09.11:58:36.201 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:844584584980
25-06-09.11:58:36.224 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:58:36.250 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:58:36.250 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:36.250 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:58:36.305 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:58:36.339 [http-nio-8091-exec-1] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-06-09.11:58:36.341 [http-nio-8091-exec-1] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-06-09.11:58:36.345 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-06-09.11:58:36.345 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:36.345 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-06-09.11:58:36.403 [http-nio-8091-exec-1] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-06-09.11:58:36.428 [http-nio-8091-exec-1] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-06-09.11:58:36.482 [http-nio-8091-exec-1] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-06-09.11:58:36.483 [http-nio-8091-exec-1] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-06-09.11:58:36.500 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-06-09.11:58:36.500 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:36.500 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 105]
25-06-09.11:58:36.638 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-06-09.11:58:36.638 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:58:36.638 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [59, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 844584584980, 105, OpenAI随机额度, 2025-06-09 11:58:36.552, create]
25-06-09.11:58:36.741 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-06-09.11:58:36.741 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:58:36.741 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [85, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 20943827615, {"data":{"awardId":105,"awardTitle":"OpenAI随机额度","orderId":"844584584980","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"20943827615","timestamp":1749441516556}, create]
25-06-09.11:58:36.785 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create'
25-06-09.11:58:36.785 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:36.785 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844584584980, 62]
25-06-09.11:58:36.845 [http-nio-8091-exec-1] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 105
25-06-09.11:58:36.935 [http-nio-8091-exec-1] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:112)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:92)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$3ed5e91c.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:151)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$dee0de22.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
25-06-09.11:58:38.873 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@36997c2c], window=Optional.empty)
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:38.887 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-06-09.11:58:39.271 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:844584584980
25-06-09.11:58:39.271 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:58:39.272 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-06-09.11:58:39.272 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:39.272 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-06-09.11:58:39.316 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-06-09.11:58:39.342 [http-nio-8091-exec-2] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-06-09.11:58:39.342 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-06-09.11:58:39.342 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-06-09.11:58:39.342 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:39.342 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-06-09.11:58:39.532 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-06-09.11:58:39.735 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-06-09.11:58:39.847 [http-nio-8091-exec-2] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-06-09.11:58:39.847 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-06-09.11:58:39.894 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-06-09.11:58:39.894 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:39.894 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort,rule_models
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 102]
25-06-09.11:58:40.015 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-06-09.11:58:40.015 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:58:40.015 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [60, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 844584584980, 102, OpenAI随机额度, 2025-06-09 11:58:39.954, create]
25-06-09.11:58:40.143 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-06-09.11:58:40.143 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-06-09.11:58:40.143 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [86, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 94693366191, {"data":{"awardId":102,"awardTitle":"OpenAI随机额度","orderId":"844584584980","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"94693366191","timestamp":1749441519954}, create]
25-06-09.11:58:40.175 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create'
25-06-09.11:58:40.175 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:40.175 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and id =? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844584584980, 63]
25-06-09.11:58:40.904 [http-nio-8091-exec-2] INFO  EventPublisher         - 发送MQ消息 topic:send_award message:{"data":{"awardId":102,"awardTitle":"OpenAI随机额度","orderId":"844584584980","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"94693366191","timestamp":1749441519954}
25-06-09.11:58:40.907 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=?
25-06-09.11:58:40.907 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-06-09.11:58:40.907 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 94693366191]
25-06-09.11:58:40.907 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state='completed',update_time=now()
        where user_id=? and message_id=? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 94693366191]
25-06-09.11:58:40.912 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  SendAwardCustomer      - 监听用户奖品发送消息 topic: send_award message: {"data":{"awardId":102,"awardTitle":"OpenAI随机额度","orderId":"844584584980","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"94693366191","timestamp":1749441519954}
25-06-09.11:58:40.923 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - Logic SQL: select award_key from award where award_id = ?
25-06-09.11:58:40.923 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-06-09.11:58:40.923 [ConsumeMessageThread_big-market-app-Customer-send_award_1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select award_key from award where award_id = ? ::: [102]
