25-03-18.17:15:57.540 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:57.600 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 20800 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-18.17:15:57.600 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-18.17:15:57.611 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-18.17:15:58.665 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.676 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.733 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.733 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.762 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.762 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.772 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.773 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.787 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.882 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.882 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.890 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.890 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.894 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.894 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.906 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.906 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.910 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.913 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.913 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.915 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:58.915 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@245a26e1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.378 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-18.17:15:59.381 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-18.17:15:59.430 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
25-03-18.17:15:59.602 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.602 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.615 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.623 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.624 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.625 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.625 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.625 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:15:59.626 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-18.17:15:59.647 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:15:59.647 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:15:59.715 [main            ] INFO  GenericScope           - BeanFactory id=9b52d932-7ae5-3e96-bd69-bebc70329b15
25-03-18.17:16:00.273 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:00.329 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.330 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.331 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$627/2102457000] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.331 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.334 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.339 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.600 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$1db56a32] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.776 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$d6740962] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.780 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:00.821 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-18.17:16:00.829 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath1540915259.jar;D:\Program Files (x86)\IntelliJ IDEA 2023.1.7\lib\idea_rt.jar
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=207MB
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-18.17:16:00.830 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=467MB
25-03-18.17:16:00.832 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@38a96593
25-03-18.17:16:00.835 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-18.17:16:00.844 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:16:00.850 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:16:00.856 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-18.17:16:00.859 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:16:10.808 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:16:10.808 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:16:10.948 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:65308, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:16:11.092 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500a4, negotiated timeout = 30000
25-03-18.17:16:11.099 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-18.17:16:11.174 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:16:11.188 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:16:11.195 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-18.17:16:11.334 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-18.17:16:11.441 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-18.17:16:11.451 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-18.17:16:11.451 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-18.17:16:11.451 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-18.17:16:11.491 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-18.17:16:11.506 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-18.17:16:11.687 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-18.17:16:11.687 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 13905 ms
25-03-18.17:16:12.147 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-18.17:16:13.492 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-18.17:16:13.500 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-18.17:16:14.286 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-18.17:16:14.286 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-18.17:16:15.107 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-18.17:16:17.397 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:17.401 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:17.451 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:17.453 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:17.457 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:17.517 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:16:17.518 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:16:19.921 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.922 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.942 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.943 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.943 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.943 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.943 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.959 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:19.962 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:20.051 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:20.051 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:20.054 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:20.071 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:16:20.071 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:16:20.507 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:20.707 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-18.17:16:20.950 [main            ] INFO  Version                - Redisson 3.23.4
25-03-18.17:16:21.558 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:16:22.853 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:16:25.270 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-18.17:16:25.281 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：12
25-03-18.17:16:25.289 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-18.17:16:25.462 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-18.17:16:25.677 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-18.17:16:27.287 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:16:27.385 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-03-18.17:16:27.393 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-03-18.17:16:27.393 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-03-18.17:16:27.393 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-03-18.17:16:27.394 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-03-18.17:16:27.394 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-03-18.17:16:27.394 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-03-18.17:16:27.394 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@494775f1
25-03-18.17:16:29.270 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:16:29.332 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-18.17:16:29.337 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-18.17:16:29.455 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@6a7c0932[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-18.17:16:29.455 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@4e64e44c[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-18.17:16:29.455 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@51413d02[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-18.17:16:29.536 [Thread-97       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-18.17:16:30.710 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:16:30.710 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-18.17:16:31.668 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:16:31.668 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-18.17:16:32.669 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:16:32.669 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-18.17:16:33.669 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:16:33.669 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-18.17:16:33.715 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-18.17:16:33.728 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-18.17:16:35.096 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:16:35.254 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-03-18.17:16:35.254 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-03-18.17:16:35.255 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:35.255 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:35.853 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-18.17:16:35.930 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:35.939 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742289395357&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:35.939 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:36.210 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:36.253 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:36.268 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:16:36.268 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:16:36.755 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:36.760 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:36.768 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:36.873 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:36.956 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:16:36.956 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:16:37.394 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.394 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.518 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:37.519 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.607 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:37.607 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.616 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.617 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@30954a5b; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, anyhost=true, pid=20800, dubbo=2.0.2, side=provider, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742289395357}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.717 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.741 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742289397728&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.741 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:37.834 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.025 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.109 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:38.109 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.193 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:38.193 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.194 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.195 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@3674ea4d; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, anyhost=true, pid=20800, dubbo=2.0.2, side=provider, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742289397728}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.311 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.321 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742289398315&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.322 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.402 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.630 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.718 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:38.718 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.719 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.719 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@31bca543; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, anyhost=true, pid=20800, group=big-market, dubbo=2.0.2, side=provider, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742289398315}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.791 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.792 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.792 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.792 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.792 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.796 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.797 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.901 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:38.901 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.069 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.157 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.270 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.351 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:39.351 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.351 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.351 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.351 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.352 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.366 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.373 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=20800&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742289395271, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.373 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.468 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=20800&qos.enable=true&register=false&release=3.2.5&timestamp=1742289395271, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.469 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=20800&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742289397728, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.469 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.563 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=20800&qos.enable=true&register=false&release=3.2.5&timestamp=1742289397728, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.563 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=20800&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742289398314, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.563 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.669 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=20800&qos.enable=true&register=false&release=3.2.5&timestamp=1742289398314, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.674 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:39.762 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-18.17:16:39.773 [main            ] INFO  Application            - Started Application in 44.632 seconds (JVM running for 45.742)
25-03-18.17:16:39.989 [RMI TCP Connection(3)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-18.17:16:39.989 [RMI TCP Connection(3)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-18.17:16:39.991 [RMI TCP Connection(3)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-03-18.17:16:40.045 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:40.046 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:40.135 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:40.135 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:16:40.236 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:16:40.236 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.483 [Thread-48       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-18.17:21:28.483 [Thread-53       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-18.17:21:28.483 [Thread-53       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-18.17:21:28.483 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.484 [Thread-48       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-18.17:21:28.484 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Waiting for modules(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.484 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.486 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.503 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo wait for application(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown failed, time usage: 19ms, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.503 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.629 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.716 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.799 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.799 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289395357&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.800 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.801 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.801 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.801 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289398315&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.802 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.802 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.802 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.877 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.877 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:28.877 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:29.117 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:21:29.117 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289397728&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.934 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.934 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.935 [SpringApplicationShutdownHook] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.935 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.936 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.936 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.936 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.936 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.937 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=20800&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=20800&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=20800&qos.enable=true&release=3.2.5], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.946 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=20800&qos.enable=true&register=false&release=3.2.5, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:30.946 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:31.046 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=20800&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289398881&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:39.438 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:39.513 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-18.17:21:39.514 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 47860 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-18.17:21:39.515 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-18.17:21:40.586 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.600 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.667 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.667 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.701 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.701 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.715 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.715 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.731 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.850 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.850 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.858 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.858 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.863 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.864 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.877 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.878 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.882 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.886 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.886 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.889 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:40.889 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@554cd74a, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.344 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-18.17:21:41.345 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-18.17:21:41.392 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
25-03-18.17:21:41.587 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.587 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.600 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.611 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.611 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.612 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.613 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.613 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:41.614 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-18.17:21:41.641 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:21:41.641 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:21:41.727 [main            ] INFO  GenericScope           - BeanFactory id=9b52d932-7ae5-3e96-bd69-bebc70329b15
25-03-18.17:21:42.301 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:42.363 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.365 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.366 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$627/1899064535] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.366 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.369 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.374 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.693 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$ec786cb8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.868 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$a5370be8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.874 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:42.920 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-18.17:21:42.926 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-18.17:21:42.926 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-18.17:21:42.926 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-18.17:21:42.926 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-18.17:21:42.926 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-18.17:21:42.926 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath1216201801.jar;C:\Users\14783\AppData\Local\JetBrains\IntelliJIdea2023.1\captureAgent\debugger-agent.jar
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=124MB
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-18.17:21:42.938 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=453MB
25-03-18.17:21:42.946 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@7cdb05aa
25-03-18.17:21:42.949 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-18.17:21:42.958 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:21:42.962 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:21:42.969 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-18.17:21:42.972 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:21:52.896 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:21:52.896 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:21:53.036 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:49424, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:21:53.118 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500a5, negotiated timeout = 30000
25-03-18.17:21:53.125 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-18.17:21:53.205 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:21:53.208 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:21:53.217 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-18.17:21:53.362 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-18.17:21:53.626 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-18.17:21:53.626 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-18.17:21:53.641 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-18.17:21:53.653 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-18.17:21:53.654 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-18.17:21:53.654 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-18.17:21:53.771 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-18.17:21:53.771 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 14033 ms
25-03-18.17:21:54.215 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-18.17:21:55.519 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-18.17:21:55.527 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-18.17:21:56.316 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-18.17:21:56.317 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-18.17:21:57.117 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-18.17:21:59.814 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:59.818 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:59.874 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:59.875 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:59.883 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:21:59.958 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:21:59.958 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:22:02.413 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.413 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.436 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.436 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.437 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.437 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.437 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.455 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.458 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.554 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.554 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.558 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:02.573 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:22:02.573 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:22:02.994 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:03.129 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-18.17:22:03.382 [main            ] INFO  Version                - Redisson 3.23.4
25-03-18.17:22:04.007 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:22:05.419 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:22:07.930 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-18.17:22:07.940 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-18.17:22:07.948 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-18.17:22:08.139 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-18.17:22:08.328 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-18.17:22:10.059 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:22:10.158 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-03-18.17:22:10.167 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-03-18.17:22:10.167 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-03-18.17:22:10.168 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-03-18.17:22:10.169 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-03-18.17:22:10.169 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-03-18.17:22:10.169 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-03-18.17:22:10.169 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@4acdc330
25-03-18.17:22:12.109 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:22:12.175 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-18.17:22:12.179 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-18.17:22:12.299 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@2081b4a8[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-18.17:22:12.299 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@72602969[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-18.17:22:12.299 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@53e432d6[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-18.17:22:12.371 [Thread-99       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-18.17:22:13.400 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:22:13.401 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-18.17:22:14.435 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:22:14.435 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-18.17:22:15.478 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:22:15.478 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-18.17:22:16.477 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:22:16.477 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-18.17:22:16.539 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-18.17:22:16.554 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-18.17:22:17.938 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:22:18.341 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-03-18.17:22:18.341 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-03-18.17:22:18.343 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:18.344 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:18.986 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-18.17:22:19.072 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:19.083 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742289738484&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:19.084 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:19.348 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:19.396 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:19.410 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:22:19.410 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:22:19.888 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:19.894 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:19.902 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.001 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:22:20.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:22:20.490 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.491 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.584 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:20.584 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.651 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:20.651 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.662 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.663 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@3fb3c008; definition: FullServiceDefinition{parameters={pid=47860, dubbo=2.0.2, release=3.2.5, version=1.0, anyhost=true, side=provider, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742289738484}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.742 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.770 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742289740754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.772 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:20.881 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.102 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.200 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:21.200 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.279 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:21.279 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.280 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.280 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@550d660a; definition: FullServiceDefinition{parameters={pid=47860, dubbo=2.0.2, release=3.2.5, version=1.0, anyhost=true, side=provider, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742289740754}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.358 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.370 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742289741363&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.370 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.465 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.652 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.763 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:21.763 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.763 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.764 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@665009c5; definition: FullServiceDefinition{parameters={pid=47860, dubbo=2.0.2, release=3.2.5, group=big-market, version=1.0, anyhost=true, side=provider, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742289741363}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.863 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.863 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.863 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.864 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.864 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.869 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.870 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.976 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:21.977 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.161 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.244 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.358 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.436 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:22.436 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.437 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.437 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.437 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.438 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.453 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.461 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=47860&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742289738364, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.461 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.558 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=47860&qos.enable=true&register=false&release=3.2.5&timestamp=1742289738364, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.559 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=47860&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742289740754, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.559 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.638 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=47860&qos.enable=true&register=false&release=3.2.5&timestamp=1742289740754, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.639 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=47860&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742289741362, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.639 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.732 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=47860&qos.enable=true&register=false&release=3.2.5&timestamp=1742289741362, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.738 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:22.823 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-18.17:22:22.836 [main            ] INFO  Application            - Started Application in 45.866 seconds (JVM running for 47.182)
25-03-18.17:22:23.080 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:23.080 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:23.174 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:23.174 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:23.279 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:22:23.279 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:22:23.538 [RMI TCP Connection(6)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-18.17:22:23.538 [RMI TCP Connection(6)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-18.17:22:23.540 [RMI TCP Connection(6)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-03-18.17:24:04.208 [http-nio-8091-exec-4] ERROR AbstractAuthService    - jwt isVerify Err
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:444)
	at cn.wenzhuo4657.BigMarket.domain.auth.service.AbstractAuthService.isVerify(AbstractAuthService.java:85)
	at cn.wenzhuo4657.BigMarket.domain.auth.service.AuthService.checkToken(AuthService.java:17)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController.queryRaffleAwardListByToken(RaffleStrategyController.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:32:19.398 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping meta caches, latest entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:32:19.908 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping mapping caches, latest entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:17.923 [Thread-50       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-18.17:33:17.923 [Thread-55       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-18.17:33:17.924 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:17.924 [Thread-55       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-18.17:33:17.925 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:17.926 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:17.927 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:17.927 [Thread-50       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-18.17:33:18.062 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.133 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.212 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.212 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289738484&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.214 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.214 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.214 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.214 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289741363&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.215 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.215 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.215 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.294 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.294 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.295 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:18.670 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:33:18.670 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742289740754&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.368 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.368 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.370 [SpringApplicationShutdownHook] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.370 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.371 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.371 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.371 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.372 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.373 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=47860&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=47860&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=47860&qos.enable=true&release=3.2.5], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.373 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=47860&qos.enable=true&register=false&release=3.2.5, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.373 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.456 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=47860&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742289741958&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.836 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.836 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Destroying default framework model: Dubbo Framework[1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroying ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from Dubbo Framework[1] to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.839 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Destroying global resources ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.841 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Dubbo is completely destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.841 [SpringApplicationShutdownHook] INFO  FrameworkExecutorRepository -  [DUBBO] destroying framework executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.842 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@554cd74a, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:33:20.843 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-03-18.17:33:20.847 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:33:20.848 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:33:20.849 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:33:20.850 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:33:21.138 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:33:21.138 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:33:21.139 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:33:21.139 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:33:21.228 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
25-03-18.17:33:21.228 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
25-03-18.17:33:21.228 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-03-18.17:33:21.228 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
25-03-18.17:33:21.231 [Thread-99       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
25-03-18.17:33:21.312 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='big-market-job', registryValue='http://wenzhuo.natapp1.cc'}, registryResult:ReturnT [code=200, msg=null, content=null]
25-03-18.17:33:21.312 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
25-03-18.17:33:21.312 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-03-18.17:33:21.312 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-03-18.17:33:21.312 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-03-18.17:33:21.312 [Thread-98       ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
25-03-18.17:33:21.317 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:33:21.414 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-03-18.17:33:21.418 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-03-18.17:33:21.418 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
25-03-18.17:33:21.419 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
25-03-18.17:33:21.419 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown initiated...
25-03-18.17:33:21.420 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown completed.
25-03-18.17:33:21.422 [Curator-Framework-0] INFO  CuratorFrameworkImpl   - backgroundOperationsLoop exiting
25-03-18.17:33:21.653 [SpringApplicationShutdownHook] INFO  ZooKeeper              - Session: 0x1000000414500a5 closed
25-03-18.17:33:21.653 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x1000000414500a5
25-03-18.17:40:39.208 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:39.262 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 24332 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-18.17:40:39.262 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-18.17:40:39.263 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-18.17:40:40.284 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.303 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.366 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.366 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.400 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.400 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.414 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.415 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.430 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.545 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.545 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.554 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.554 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.559 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.559 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.572 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.573 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.577 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.581 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.581 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.584 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:40.584 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@617fe9e1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.179 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-18.17:40:41.182 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-18.17:40:41.246 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
25-03-18.17:40:41.479 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.480 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.493 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.502 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.503 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.504 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.505 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.505 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:41.506 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-18.17:40:41.529 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:40:41.529 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:40:41.611 [main            ] INFO  GenericScope           - BeanFactory id=9b52d932-7ae5-3e96-bd69-bebc70329b15
25-03-18.17:40:42.219 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:42.275 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.276 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.276 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$627/813496676] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.277 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.280 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.287 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.598 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$8fe16792] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.927 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$48a006c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.935 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:42.995 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-18.17:40:43.003 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath2114375496.jar;D:\Program Files (x86)\IntelliJ IDEA 2023.1.7\lib\idea_rt.jar
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=223MB
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-18.17:40:43.004 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=477MB
25-03-18.17:40:43.007 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@485deee1
25-03-18.17:40:43.010 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-18.17:40:43.021 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:40:43.026 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:40:43.034 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-18.17:40:43.038 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:40:52.495 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:40:52.495 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:40:52.583 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:52247, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:40:52.667 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500a7, negotiated timeout = 30000
25-03-18.17:40:52.672 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-18.17:40:52.732 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-18.17:40:52.747 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:40:52.755 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:40:52.891 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-18.17:40:53.018 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-18.17:40:53.027 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-18.17:40:53.028 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-18.17:40:53.028 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-18.17:40:53.031 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-18.17:40:53.031 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-18.17:40:53.269 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-18.17:40:53.269 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 13842 ms
25-03-18.17:40:53.710 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-18.17:40:54.968 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-18.17:40:54.976 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-18.17:40:55.807 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-18.17:40:55.807 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-18.17:40:56.583 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-18.17:40:59.520 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:59.525 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:59.585 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:59.586 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:59.592 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:40:59.653 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:40:59.653 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:41:03.065 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.065 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.087 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.087 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.087 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.087 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.087 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.105 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.107 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.200 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.200 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.203 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.220 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:41:03.220 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:41:03.666 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:03.864 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-18.17:41:04.134 [main            ] INFO  Version                - Redisson 3.23.4
25-03-18.17:41:04.766 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:41:06.106 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:41:08.663 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-18.17:41:08.674 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-18.17:41:08.686 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-18.17:41:08.893 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-18.17:41:09.090 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-18.17:41:10.748 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:41:10.856 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-03-18.17:41:10.864 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-03-18.17:41:10.864 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-03-18.17:41:10.865 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-03-18.17:41:10.865 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-03-18.17:41:10.865 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-03-18.17:41:10.865 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-03-18.17:41:10.866 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@4bb4adf7
25-03-18.17:41:12.794 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:41:12.853 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-18.17:41:12.857 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-18.17:41:12.961 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@78181f7f[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-18.17:41:12.961 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@6682e9b0[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-18.17:41:12.961 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@27f7db5a[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-18.17:41:13.043 [Thread-97       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-18.17:41:14.187 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:41:14.187 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-18.17:41:15.224 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:41:15.224 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-18.17:41:16.223 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:41:16.223 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-18.17:41:17.224 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:41:17.224 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-18.17:41:17.295 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-18.17:41:17.310 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-18.17:41:18.693 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:41:18.829 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-03-18.17:41:18.829 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-03-18.17:41:18.830 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:18.830 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:19.458 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-18.17:41:19.543 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:19.545 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742290878946&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:19.545 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:19.849 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:19.889 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:19.909 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:41:19.909 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:41:20.396 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:20.402 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:20.410 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:20.511 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:20.589 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:41:20.589 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:41:20.984 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:20.985 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.081 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:21.081 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.162 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:21.162 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.173 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.175 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@59218921; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, anyhost=true, pid=24332, dubbo=2.0.2, side=provider, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742290878946}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.245 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.268 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742290881255&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.268 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.361 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.545 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.635 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:21.635 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.738 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:21.738 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.739 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.740 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@35d0f6ce; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, anyhost=true, pid=24332, dubbo=2.0.2, side=provider, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742290881255}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.815 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.833 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742290881822&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.834 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:21.907 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.111 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.199 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:22.199 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.200 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.200 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@1ee729c9; definition: FullServiceDefinition{parameters={release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, anyhost=true, pid=24332, group=big-market, dubbo=2.0.2, side=provider, application=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742290881822}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.293 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.295 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.296 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.296 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.297 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.301 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.301 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.412 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.413 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.591 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.678 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.794 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.913 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:22.913 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.914 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.914 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.914 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.915 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.926 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.932 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=24332&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742290878848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:22.932 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.033 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=24332&qos.enable=true&register=false&release=3.2.5&timestamp=1742290878848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.033 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=24332&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742290881253, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.033 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.106 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=24332&qos.enable=true&register=false&release=3.2.5&timestamp=1742290881253, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.106 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=24332&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742290881822, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.106 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.185 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=24332&qos.enable=true&register=false&release=3.2.5&timestamp=1742290881822, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.190 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.316 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-18.17:41:23.328 [main            ] INFO  Application            - Started Application in 46.516 seconds (JVM running for 48.04)
25-03-18.17:41:23.637 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:23.638 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.641 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:23.641 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:23.695 [RMI TCP Connection(11)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-18.17:41:23.695 [RMI TCP Connection(11)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-18.17:41:23.696 [RMI TCP Connection(11)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 1 ms
25-03-18.17:41:23.725 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:41:23.725 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:41:27.143 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-18.17:41:27.678 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-03-18.17:41:27.678 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:27.678 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-03-18.17:41:28.290 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ?
25-03-18.17:41:28.290 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:28.290 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ? ::: [11101]
25-03-18.17:41:28.625 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ?
25-03-18.17:41:28.625 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:28.625 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ? ::: [100401]
25-03-18.17:41:28.866 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-03-18.17:41:28.866 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:28.866 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-03-18.17:41:29.090 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ?
25-03-18.17:41:29.090 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:29.090 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? ::: [100006]
25-03-18.17:41:30.770 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ?
25-03-18.17:41:30.770 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:30.770 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ? ::: [100006]
25-03-18.17:41:31.111 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:41:31.111 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:31.111 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-03-18.17:41:31.787 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-03-18.17:41:37.610 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:41:37.749 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:41:37.749 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:37.749 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:41:37.749 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:41:38.290 [http-nio-8091-exec-3] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.17:41:38.293 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.17:41:38.293 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:38.293 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:41:38.293 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:41:38.604 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.17:41:38.604 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:38.604 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:41:38.604 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:41:38.851 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.17:41:38.851 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:41:38.851 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:41:38.851 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:41:39.175 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.17:41:39.175 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:41:39.176 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:41:39.176 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:41:40.018 [http-nio-8091-exec-3] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.apache.shardingsphere.infra.exception.ShardingSphereException: Inline sharding algorithms expression `db0${id % 2+1}` and sharding column `id` not match.
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\RaffleActivityAccountMonthDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.RaffleActivityAccountMonthDao.insertActivityAccountMonth-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_account_month(             id,user_id, activity_id, month, month_count, month_count_surplus, create_time, update_time)         values (                    ?,?, ?, ?, ?, ?, now(), now())
### Cause: org.apache.shardingsphere.infra.exception.ShardingSphereException: Inline sharding algorithms expression `db0${id % 2+1}` and sharding column `id` not match.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy299.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy305.insertActivityAccountMonth(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.lambda$saveCreatePartakeOrderAggregate$1(ActivityRepository.java:475)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.saveCreatePartakeOrderAggregate(ActivityRepository.java:438)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$5ca89f8f.saveCreatePartakeOrderAggregate(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:64)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$c5b98ad3.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.apache.shardingsphere.infra.exception.ShardingSphereException: Inline sharding algorithms expression `db0${id % 2+1}` and sharding column `id` not match.
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\RaffleActivityAccountMonthDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.RaffleActivityAccountMonthDao.insertActivityAccountMonth-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_account_month(             id,user_id, activity_id, month, month_count, month_count_surplus, create_time, update_time)         values (                    ?,?, ?, ?, ?, ?, now(), now())
### Cause: org.apache.shardingsphere.infra.exception.ShardingSphereException: Inline sharding algorithms expression `db0${id % 2+1}` and sharding column `id` not match.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 96 common frames omitted
Caused by: org.apache.shardingsphere.infra.exception.ShardingSphereException: Inline sharding algorithms expression `db0${id % 2+1}` and sharding column `id` not match.
	at org.apache.shardingsphere.sharding.algorithm.sharding.inline.InlineShardingAlgorithm.getTargetShardingNode(InlineShardingAlgorithm.java:93)
	at org.apache.shardingsphere.sharding.algorithm.sharding.inline.InlineShardingAlgorithm.doSharding(InlineShardingAlgorithm.java:72)
	at org.apache.shardingsphere.sharding.route.strategy.type.standard.StandardShardingStrategy.doSharding(StandardShardingStrategy.java:74)
	at org.apache.shardingsphere.sharding.route.strategy.type.standard.StandardShardingStrategy.doSharding(StandardShardingStrategy.java:63)
	at org.apache.shardingsphere.sharding.route.engine.type.standard.ShardingStandardRoutingEngine.routeDataSources(ShardingStandardRoutingEngine.java:206)
	at org.apache.shardingsphere.sharding.route.engine.type.standard.ShardingStandardRoutingEngine.route0(ShardingStandardRoutingEngine.java:194)
	at org.apache.shardingsphere.sharding.route.engine.type.standard.ShardingStandardRoutingEngine.routeByShardingConditionsWithCondition(ShardingStandardRoutingEngine.java:117)
	at org.apache.shardingsphere.sharding.route.engine.type.standard.ShardingStandardRoutingEngine.routeByShardingConditions(ShardingStandardRoutingEngine.java:110)
	at org.apache.shardingsphere.sharding.route.engine.type.standard.ShardingStandardRoutingEngine.getDataNodes(ShardingStandardRoutingEngine.java:87)
	at org.apache.shardingsphere.sharding.route.engine.type.standard.ShardingStandardRoutingEngine.route(ShardingStandardRoutingEngine.java:69)
	at org.apache.shardingsphere.sharding.route.engine.ShardingSQLRouter.createRouteContext(ShardingSQLRouter.java:56)
	at org.apache.shardingsphere.sharding.route.engine.ShardingSQLRouter.createRouteContext(ShardingSQLRouter.java:44)
	at org.apache.shardingsphere.infra.route.engine.impl.PartialSQLRouteExecutor.route(PartialSQLRouteExecutor.java:73)
	at org.apache.shardingsphere.infra.route.engine.SQLRouteEngine.route(SQLRouteEngine.java:53)
	at org.apache.shardingsphere.infra.context.kernel.KernelProcessor.route(KernelProcessor.java:54)
	at org.apache.shardingsphere.infra.context.kernel.KernelProcessor.generateExecutionContext(KernelProcessor.java:46)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.createExecutionContext(ShardingSpherePreparedStatement.java:470)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:364)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy366.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 102 common frames omitted
25-03-18.17:43:37.673 [Thread-51       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-18.17:43:37.673 [Thread-45       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-18.17:43:37.673 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.674 [Thread-51       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-18.17:43:37.674 [Thread-45       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-18.17:43:37.675 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Waiting for modules(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.675 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.679 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.687 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo wait for application(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown failed, time usage: 12ms, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.687 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.751 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.869 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.985 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.985 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290878946&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.986 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.987 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.987 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.987 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881822&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.989 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.989 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:37.989 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:38.080 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:38.080 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:38.080 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:38.358 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:43:38.358 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742290881255&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.149 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.149 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.150 [SpringApplicationShutdownHook] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.150 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.151 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.151 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.151 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.151 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.152 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=24332&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=24332&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=24332&qos.enable=true&release=3.2.5], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.152 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=24332&qos.enable=true&register=false&release=3.2.5, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.152 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.228 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=24332&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742290882394&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.566 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.567 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Destroying default framework model: Dubbo Framework[1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroying ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from Dubbo Framework[1] to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Destroying global resources ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Dubbo is completely destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.569 [SpringApplicationShutdownHook] INFO  FrameworkExecutorRepository -  [DUBBO] destroying framework executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.570 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@617fe9e1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:40.572 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-03-18.17:43:40.576 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:43:40.577 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:43:40.577 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:43:40.578 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:43:40.848 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:43:40.848 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:43:40.848 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:43:40.848 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:43:40.932 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
25-03-18.17:43:40.932 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
25-03-18.17:43:40.932 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-03-18.17:43:40.933 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
25-03-18.17:43:40.935 [Thread-97       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
25-03-18.17:43:41.004 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='big-market-job', registryValue='http://wenzhuo.natapp1.cc'}, registryResult:ReturnT [code=200, msg=null, content=null]
25-03-18.17:43:41.004 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
25-03-18.17:43:41.004 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-03-18.17:43:41.004 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-03-18.17:43:41.005 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-03-18.17:43:41.005 [Thread-96       ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
25-03-18.17:43:41.008 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:43:41.144 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-03-18.17:43:41.149 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-03-18.17:43:41.149 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
25-03-18.17:43:41.151 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
25-03-18.17:43:41.151 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown initiated...
25-03-18.17:43:41.151 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown completed.
25-03-18.17:43:41.153 [Curator-Framework-0] INFO  CuratorFrameworkImpl   - backgroundOperationsLoop exiting
25-03-18.17:43:41.231 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - An exception was thrown while closing send thread for session 0x1000000414500a7.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x1000000414500a7, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-03-18.17:43:41.348 [SpringApplicationShutdownHook] INFO  ZooKeeper              - Session: 0x1000000414500a7 closed
25-03-18.17:43:41.348 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x1000000414500a7
25-03-18.17:43:50.811 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:50.866 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 29104 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-18.17:43:50.866 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-18.17:43:50.868 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-18.17:43:51.828 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.838 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.890 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.890 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.915 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.916 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.926 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.927 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:51.940 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.027 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.027 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.034 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.034 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.038 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.039 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.051 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.051 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.055 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.058 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.059 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.061 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.061 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@3af4e0bf, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.483 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-18.17:43:52.486 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-18.17:43:52.533 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
25-03-18.17:43:52.702 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.702 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.716 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.725 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.726 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.727 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.728 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.728 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:52.728 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-18.17:43:52.749 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:43:52.749 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:43:52.819 [main            ] INFO  GenericScope           - BeanFactory id=9b52d932-7ae5-3e96-bd69-bebc70329b15
25-03-18.17:43:53.353 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:43:53.409 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.410 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.410 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$627/57986233] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.411 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.413 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.417 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.674 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$e89ba3bd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.817 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$a15a42ed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.821 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:43:53.856 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath1001064384.jar;D:\Program Files (x86)\IntelliJ IDEA 2023.1.7\lib\idea_rt.jar
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=201MB
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-18.17:43:53.861 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=467MB
25-03-18.17:43:53.864 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@25cde5bb
25-03-18.17:43:53.865 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-18.17:43:53.875 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:43:53.879 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:43:53.886 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-18.17:43:53.888 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:44:03.842 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:44:03.842 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:44:03.915 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:52745, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:44:04.034 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500a8, negotiated timeout = 30000
25-03-18.17:44:04.041 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-18.17:44:04.126 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:44:04.127 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:44:04.131 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-18.17:44:04.293 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-18.17:44:04.367 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-18.17:44:04.377 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-18.17:44:04.377 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-18.17:44:04.377 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-18.17:44:04.542 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-18.17:44:04.543 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-18.17:44:04.597 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-18.17:44:04.597 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 13560 ms
25-03-18.17:44:05.017 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-18.17:44:06.257 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-18.17:44:06.266 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-18.17:44:07.052 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-18.17:44:07.052 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-18.17:44:07.869 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-18.17:44:10.089 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:10.093 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:10.131 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:10.132 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:10.135 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:10.181 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:44:10.181 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:44:12.270 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.270 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.289 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.291 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.291 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.291 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.291 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.306 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.308 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.395 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.395 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.398 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:12.414 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:44:12.414 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:44:12.873 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:13.051 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-18.17:44:13.309 [main            ] INFO  Version                - Redisson 3.23.4
25-03-18.17:44:13.958 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:44:15.295 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:44:17.789 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-18.17:44:17.800 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-18.17:44:17.809 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-18.17:44:17.994 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-18.17:44:18.190 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-18.17:44:19.875 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:44:19.967 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-03-18.17:44:19.974 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-03-18.17:44:19.974 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-03-18.17:44:19.975 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-03-18.17:44:19.975 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-03-18.17:44:19.975 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-03-18.17:44:19.975 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-03-18.17:44:19.975 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@11544ddd
25-03-18.17:44:21.839 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:44:21.901 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-18.17:44:21.904 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-18.17:44:22.007 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@6682e9b0[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-18.17:44:22.007 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@27f7db5a[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-18.17:44:22.007 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@6245303e[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-18.17:44:22.074 [Thread-92       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-18.17:44:23.072 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:44:23.072 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-18.17:44:24.028 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:44:24.028 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-18.17:44:25.068 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:44:25.068 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-18.17:44:26.109 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:44:26.109 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-18.17:44:26.155 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-18.17:44:26.167 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-18.17:44:27.542 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:44:27.634 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-03-18.17:44:27.634 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-03-18.17:44:27.635 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:27.637 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:28.255 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-18.17:44:28.345 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:28.347 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742291067754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:28.348 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:28.601 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:28.649 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:28.662 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:44:28.662 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:44:29.417 [main            ] WARN  NacosNamingServiceUtils -  [DUBBO] Failed to connect to nacos naming server. Server status: UP. Naming Service Available: false. Dubbo will try to retry in 10. Try times: 1, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:29.759 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:44:29.759 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:44:30.118 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.124 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.131 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.207 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.288 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:44:30.288 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:44:30.683 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.683 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.773 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:30.773 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.843 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:30.844 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.855 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.856 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@648626fb; definition: FullServiceDefinition{parameters={dubbo=2.0.2, side=provider, pid=29104, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, anyhost=true, application=big-market, version=1.0, release=3.2.5, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742291067754}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.950 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.973 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742291070960&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:30.973 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.072 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.280 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.352 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:31.352 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.427 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:31.427 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.428 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.428 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@3108aea; definition: FullServiceDefinition{parameters={dubbo=2.0.2, side=provider, pid=29104, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, anyhost=true, application=big-market, version=1.0, release=3.2.5, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742291070960}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.512 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.524 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742291071516&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.525 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.643 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.803 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.880 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:31.880 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.881 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.881 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@5a92f5ab; definition: FullServiceDefinition{parameters={dubbo=2.0.2, group=big-market, side=provider, pid=29104, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, anyhost=true, application=big-market, version=1.0, release=3.2.5, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742291071516}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.953 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.954 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.954 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.954 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.954 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.960 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:31.960 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.103 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.103 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.244 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.319 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.441 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.522 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:32.522 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.522 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.522 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.522 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.524 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.537 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.544 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29104&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742291067656, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.544 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.607 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29104&qos.enable=true&register=false&release=3.2.5&timestamp=1742291067656, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.607 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29104&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742291070959, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.607 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.681 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29104&qos.enable=true&register=false&release=3.2.5&timestamp=1742291070959, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.682 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29104&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742291071516, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.682 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.754 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29104&qos.enable=true&register=false&release=3.2.5&timestamp=1742291071516, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.758 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:32.851 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-18.17:44:32.862 [main            ] INFO  Application            - Started Application in 44.418 seconds (JVM running for 45.498)
25-03-18.17:44:33.203 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:33.203 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:33.205 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:33.205 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:33.310 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:44:33.310 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:44:33.505 [RMI TCP Connection(18)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-18.17:44:33.505 [RMI TCP Connection(18)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-18.17:44:33.507 [RMI TCP Connection(18)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-03-18.17:44:38.637 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:44:39.311 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:44:39.311 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:39.311 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:39.311 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:39.817 [http-nio-8091-exec-2] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.17:44:39.820 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.17:44:39.820 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:39.820 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:39.820 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:40.086 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.17:44:40.086 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:40.086 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:44:40.086 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:44:40.365 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.17:44:40.365 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:40.365 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:44:40.365 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:44:40.685 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.17:44:40.685 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:40.685 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:40.685 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:41.344 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_month
25-03-18.17:44:41.344 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:41.344 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_month
25-03-18.17:44:41.344 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_month
25-03-18.17:44:42.024 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: insert into raffle_activity_account_month(
            id,user_id, activity_id, month, month_count, month_count_surplus, create_time, update_time)
        values (
                   ?,?, ?, ?, ?, ?, now(), now())
25-03-18.17:44:42.024 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:44:42.024 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into raffle_activity_account_month(
            id,user_id, activity_id, month, month_count, month_count_surplus, create_time, update_time)
        values (?, ?, ?, ?, ?, ?, now(), now()) ::: [5, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03, 200, 189]
25-03-18.17:44:42.191 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ?
25-03-18.17:44:42.192 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:42.192 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ? ::: [190, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:42.192 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ? ::: [190, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:42.670 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_day
25-03-18.17:44:42.670 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:42.670 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_day
25-03-18.17:44:42.670 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from raffle_activity_account_day
25-03-18.17:44:43.232 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: insert into raffle_activity_account_day(
            id,user_id, activity_id, day, day_count, day_count_surplus, create_time, update_time)
        values
            (?,?, ?, ?, ?, ?, now(), now())
25-03-18.17:44:43.232 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:44:43.232 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into raffle_activity_account_day(
            id,user_id, activity_id, day, day_count, day_count_surplus, create_time, update_time)
        values
            (?, ?, ?, ?, ?, ?, now(), now()) ::: [7, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18, 200, 189]
25-03-18.17:44:43.397 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ?
25-03-18.17:44:43.397 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:43.397 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ? ::: [190, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:43.397 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = ? - 1, update_time = now()
        where user_id = ? and activity_id = ? ::: [190, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:43.871 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_raffle_order
25-03-18.17:44:43.871 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:43.871 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.17:44:43.871 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.17:44:44.432 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.17:44:44.432 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:44:44.432 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_002(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [26, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 844128899373, 2025-03-18 17:44:38.638, create]
25-03-18.17:44:44.891 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:844128899373
25-03-18.17:44:44.985 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:44:45.016 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:44:45.016 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:45.016 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.17:44:45.313 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:44:45.469 [http-nio-8091-exec-2] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-18.17:44:45.470 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-18.17:44:45.473 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.17:44:45.473 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:45.473 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-18.17:44:45.694 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.17:44:45.694 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:45.694 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_1]
25-03-18.17:44:45.879 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.17:44:45.879 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:45.879 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_1]
25-03-18.17:44:46.047 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.17:44:46.047 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:46.047 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_1]
25-03-18.17:44:46.281 [http-nio-8091-exec-2] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:44:46.282 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.17:44:46.282 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:46.282 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.17:44:46.282 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.17:44:46.675 [http-nio-8091-exec-2] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-18.17:44:46.676 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:44:46.829 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:44:46.995 [http-nio-8091-exec-2] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-18.17:44:46.995 [http-nio-8091-exec-2] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107 ruleValue:101:1,100
25-03-18.17:44:47.069 [http-nio-8091-exec-2] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.17:44:47.069 [http-nio-8091-exec-2] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_luck_award code:0001
25-03-18.17:44:47.069 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.17:44:47.155 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.17:44:47.156 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:47.156 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 101]
25-03-18.17:44:47.612 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-18.17:44:47.612 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:47.612 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.17:44:47.612 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.17:44:48.494 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.17:44:48.494 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:44:48.494 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [26, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 844128899373, 101, 随机积分, 2025-03-18 17:44:47.471, create]
25-03-18.17:44:48.814 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-03-18.17:44:48.814 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:48.814 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.17:44:48.814 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.17:44:49.391 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.17:44:49.391 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:44:49.391 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [257, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 32867331321, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"844128899373","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"32867331321","timestamp":1742291087472}, create]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:49.566 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 844128899373]
25-03-18.17:44:51.316 [http-nio-8091-exec-2] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=5713cb8c-9ff0-9607-31aa-35826b4ae75b, timestamp=1742291091159}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:44:51.317 [http-nio-8091-exec-2] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"844128899373","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"32867331321","timestamp":1742291087472}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.17:44:51.317 [http-nio-8091-exec-2] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.17:44:51.319 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.17:44:51.319 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:51.319 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 32867331321]
25-03-18.17:44:51.319 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 32867331321]
25-03-18.17:44:55.481 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:44:55.556 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:44:55.556 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:55.556 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:55.556 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:55.879 [http-nio-8091-exec-3] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.17:44:55.879 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.17:44:55.879 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:55.879 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:55.879 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:56.035 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.17:44:56.035 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:56.035 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:44:56.035 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:44:56.196 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.17:44:56.196 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:56.196 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:44:56.196 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:44:56.415 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.17:44:56.415 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:56.415 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:56.415 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:56.844 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.17:44:56.844 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:56.844 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:44:56.844 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:44:57.157 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.17:44:57.157 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:57.157 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:57.157 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:57.473 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.17:44:57.473 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:57.473 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:44:57.473 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:44:57.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.17:44:57.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:44:57.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:57.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:44:58.432 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.17:44:58.432 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:44:58.432 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_003(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [27, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 715393481613, 2025-03-18 17:44:55.481, create]
25-03-18.17:44:58.909 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:715393481613
25-03-18.17:44:58.909 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:44:58.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:44:58.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:58.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.17:44:59.149 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:44:59.294 [http-nio-8091-exec-3] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-18.17:44:59.294 [http-nio-8091-exec-3] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-18.17:44:59.295 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.17:44:59.295 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:59.295 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-18.17:44:59.551 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.17:44:59.551 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:59.551 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-03-18.17:44:59.712 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.17:44:59.712 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:59.712 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-03-18.17:44:59.871 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.17:44:59.871 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:44:59.871 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-03-18.17:45:00.110 [http-nio-8091-exec-3] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.17:45:00.226 [http-nio-8091-exec-3] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.17:45:00.307 [http-nio-8091-exec-3] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.17:45:00.307 [http-nio-8091-exec-3] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103 ruleValue:101:1,100
25-03-18.17:45:00.406 [http-nio-8091-exec-3] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.17:45:00.406 [http-nio-8091-exec-3] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_luck_award code:0001
25-03-18.17:45:00.406 [http-nio-8091-exec-3] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.17:45:00.831 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.17:45:00.831 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:45:00.831 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [27, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 715393481613, 101, 随机积分, 2025-03-18 17:45:00.516, create]
25-03-18.17:45:01.471 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.17:45:01.471 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:45:01.471 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [258, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 78869295227, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"715393481613","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"78869295227","timestamp":1742291100516}, create]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:01.791 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 715393481613]
25-03-18.17:45:03.396 [http-nio-8091-exec-3] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=00870a1e-3bad-0180-d5bf-1953bbb63e88, timestamp=1742291103215}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:45:03.397 [http-nio-8091-exec-3] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"715393481613","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"78869295227","timestamp":1742291100516}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.17:45:03.398 [http-nio-8091-exec-3] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.17:45:03.398 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.17:45:03.398 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:03.398 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 78869295227]
25-03-18.17:45:03.398 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 78869295227]
25-03-18.17:45:06.358 [http-nio-8091-exec-4] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:45:06.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:45:06.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:45:06.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:06.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:06.751 [http-nio-8091-exec-4] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.17:45:06.752 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.17:45:06.752 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:45:06.752 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:06.752 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:06.912 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.17:45:06.912 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:45:06.912 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:45:06.912 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:45:07.057 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.17:45:07.057 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:45:07.057 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:45:07.057 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:45:07.293 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.17:45:07.293 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:07.293 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:07.293 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:07.763 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.17:45:07.763 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:07.763 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:45:07.763 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:45:08.112 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.17:45:08.112 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:08.112 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:08.112 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:08.430 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.17:45:08.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:08.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:45:08.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:45:08.750 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.17:45:08.750 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:08.750 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:08.750 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:45:09.347 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.17:45:09.347 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:45:09.347 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_000(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [28, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 942656714015, 2025-03-18 17:45:06.358, create]
25-03-18.17:45:09.852 [http-nio-8091-exec-4] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:942656714015
25-03-18.17:45:09.852 [http-nio-8091-exec-4] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:45:09.853 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:45:09.853 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:45:09.853 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.17:45:10.052 [http-nio-8091-exec-4] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:45:10.189 [http-nio-8091-exec-4] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-18.17:45:10.189 [http-nio-8091-exec-4] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-18.17:45:10.190 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.17:45:10.190 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:45:10.190 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-18.17:45:10.416 [http-nio-8091-exec-4] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:45:10.417 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.17:45:10.417 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:45:10.417 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.17:45:10.417 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.17:45:10.731 [http-nio-8091-exec-4] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-18.17:45:10.731 [http-nio-8091-exec-4] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:45:10.910 [http-nio-8091-exec-4] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:45:10.990 [http-nio-8091-exec-4] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-18.17:45:10.990 [http-nio-8091-exec-4] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107 ruleValue:101:1,100
25-03-18.17:45:11.069 [http-nio-8091-exec-4] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.17:45:11.069 [http-nio-8091-exec-4] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_luck_award code:0001
25-03-18.17:45:11.069 [http-nio-8091-exec-4] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.17:45:11.471 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.17:45:11.471 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:45:11.471 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [28, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 942656714015, 101, 随机积分, 2025-03-18 17:45:11.151, create]
25-03-18.17:45:12.110 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.17:45:12.110 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:45:12.110 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [259, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 22764178503, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"942656714015","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"22764178503","timestamp":1742291111151}, create]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:12.431 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 942656714015]
25-03-18.17:45:14.192 [http-nio-8091-exec-4] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=f6a1e1a5-e5f0-d9ba-8d4a-34ee0779edb2, timestamp=1742291114012}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:45:14.194 [http-nio-8091-exec-4] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"942656714015","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"22764178503","timestamp":1742291111151}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.17:45:14.194 [http-nio-8091-exec-4] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.17:45:14.194 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.17:45:14.194 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:45:14.194 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 22764178503]
25-03-18.17:45:14.194 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 22764178503]
25-03-18.17:47:01.488 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:47:01.634 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:47:01.634 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:01.634 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:01.634 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:01.961 [http-nio-8091-exec-7] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.17:47:01.962 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.17:47:01.962 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:01.962 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:01.962 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:02.115 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.17:47:02.115 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:02.115 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:02.115 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:02.275 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.17:47:02.275 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:02.275 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:02.275 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:02.529 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.17:47:02.529 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:02.529 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:02.529 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:02.967 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.17:47:02.967 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:02.967 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:02.967 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:03.313 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.17:47:03.314 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:03.314 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:03.314 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:03.635 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.17:47:03.635 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:03.635 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:03.635 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:03.953 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.17:47:03.953 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:03.953 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:03.953 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:04.594 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.17:47:04.594 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:47:04.596 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_001(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [29, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 982539335205, 2025-03-18 17:47:01.488, create]
25-03-18.17:47:05.073 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:982539335205
25-03-18.17:47:05.073 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:47:05.074 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:47:05.074 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:05.074 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.17:47:05.294 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:47:05.478 [http-nio-8091-exec-7] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-18.17:47:05.478 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-18.17:47:05.479 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.17:47:05.479 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:05.479 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-18.17:47:05.695 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.17:47:05.834 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.17:47:05.915 [http-nio-8091-exec-7] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.17:47:05.915 [http-nio-8091-exec-7] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103 ruleValue:101:1,100
25-03-18.17:47:05.993 [http-nio-8091-exec-7] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.17:47:05.993 [http-nio-8091-exec-7] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_luck_award code:0001
25-03-18.17:47:05.993 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.17:47:06.373 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.17:47:06.373 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:47:06.373 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_001(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [29, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 982539335205, 101, 随机积分, 2025-03-18 17:47:06.068, create]
25-03-18.17:47:06.965 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.17:47:06.965 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:47:06.965 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [260, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 68959299207, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"982539335205","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"68959299207","timestamp":1742291226068}, create]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:07.234 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 982539335205]
25-03-18.17:47:08.995 [http-nio-8091-exec-7] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=ef8960e1-8d44-eadb-e8ee-f9c1a5128bef, timestamp=1742291228833}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:47:08.996 [http-nio-8091-exec-7] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"982539335205","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"68959299207","timestamp":1742291226068}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.17:47:08.996 [http-nio-8091-exec-7] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.17:47:08.997 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.17:47:08.997 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:08.997 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 68959299207]
25-03-18.17:47:08.997 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 68959299207]
25-03-18.17:47:15.590 [http-nio-8091-exec-9] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:47:15.685 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:47:15.685 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:15.685 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:15.685 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:16.050 [http-nio-8091-exec-9] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.17:47:16.051 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.17:47:16.051 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:16.051 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:16.051 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:16.199 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.17:47:16.199 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:16.199 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:16.199 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:16.356 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.17:47:16.356 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:16.356 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:16.356 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:16.576 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.17:47:16.576 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:16.576 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:16.576 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:17.042 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.17:47:17.042 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:17.042 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:17.042 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:47:17.313 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.17:47:17.313 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:17.313 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:17.313 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:17.640 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.17:47:17.640 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:17.640 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:17.640 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:47:17.938 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.17:47:17.938 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:17.939 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:17.939 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:47:18.594 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.17:47:18.594 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:47:18.594 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_002(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [30, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 164036232296, 2025-03-18 17:47:15.59, create]
25-03-18.17:47:19.075 [http-nio-8091-exec-9] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:164036232296
25-03-18.17:47:19.075 [http-nio-8091-exec-9] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:47:19.075 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:47:19.075 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:19.075 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.17:47:19.273 [http-nio-8091-exec-9] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:47:19.435 [http-nio-8091-exec-9] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-18.17:47:19.435 [http-nio-8091-exec-9] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-18.17:47:19.437 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.17:47:19.437 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:47:19.437 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-18.17:47:19.617 [http-nio-8091-exec-9] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-18.17:47:19.794 [http-nio-8091-exec-9] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-18.17:47:19.874 [http-nio-8091-exec-9] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.17:47:19.874 [http-nio-8091-exec-9] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104 ruleValue:101:1,100
25-03-18.17:47:19.953 [http-nio-8091-exec-9] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.17:47:19.953 [http-nio-8091-exec-9] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_luck_award code:0001
25-03-18.17:47:19.953 [http-nio-8091-exec-9] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.17:47:20.356 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.17:47:20.356 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:47:20.356 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [30, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 164036232296, 101, 随机积分, 2025-03-18 17:47:20.034, create]
25-03-18.17:47:20.961 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.17:47:20.961 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:47:20.961 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [261, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 64257130812, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"164036232296","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"64257130812","timestamp":1742291240034}, create]
25-03-18.17:47:21.249 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:21.250 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 164036232296]
25-03-18.17:47:22.930 [http-nio-8091-exec-9] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=f747f3b6-e673-ca9a-ebd6-f0194c0ffbce, timestamp=1742291242803}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:47:22.932 [http-nio-8091-exec-9] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"164036232296","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"64257130812","timestamp":1742291240034}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$11c15e73.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$8ded43f7.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.17:47:22.932 [http-nio-8091-exec-9] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.17:47:22.933 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.17:47:22.933 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:47:22.933 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 64257130812]
25-03-18.17:47:22.933 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 64257130812]
25-03-18.17:49:03.474 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.475 [Thread-50       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-18.17:49:03.475 [Thread-50       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-18.17:49:03.475 [Thread-44       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-18.17:49:03.476 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.477 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.478 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.478 [Thread-44       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-18.17:49:03.556 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.635 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.717 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.717 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291067754&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.718 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.718 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.719 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.719 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291071516&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.720 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.720 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.720 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.796 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.796 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:03.797 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:04.070 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:49:04.070 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291070960&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.912 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.912 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.914 [SpringApplicationShutdownHook] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.914 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.915 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.915 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.915 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.915 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.917 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=29104&qos.enable=true&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=29104&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=29104&qos.enable=true&register=false&release=3.2.5], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.923 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=29104&qos.enable=true&register=false&release=3.2.5, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:05.923 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.038 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29104&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291072081&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.372 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.373 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Destroying default framework model: Dubbo Framework[1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroying ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.381 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.383 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.383 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from Dubbo Framework[1] to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.383 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Destroying global resources ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.383 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Dubbo is completely destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.383 [SpringApplicationShutdownHook] INFO  FrameworkExecutorRepository -  [DUBBO] destroying framework executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.383 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@3af4e0bf, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:06.385 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-03-18.17:49:06.390 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:49:06.392 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:49:06.392 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:49:06.393 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:49:06.690 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:06.690 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:06.690 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:06.691 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:06.784 [SpringApplicationShutdownHook] INFO  SchedulerFactoryBean   - Shutting down Quartz Scheduler
25-03-18.17:49:06.784 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
25-03-18.17:49:06.784 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED paused.
25-03-18.17:49:06.811 [SpringApplicationShutdownHook] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
25-03-18.17:49:06.817 [Thread-92       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
25-03-18.17:49:06.917 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='big-market-job', registryValue='http://wenzhuo.natapp1.cc'}, registryResult:ReturnT [code=200, msg=null, content=null]
25-03-18.17:49:06.917 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
25-03-18.17:49:06.917 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-03-18.17:49:06.917 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-03-18.17:49:06.918 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-03-18.17:49:06.918 [Thread-91       ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
25-03-18.17:49:07.042 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:49:07.215 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-03-18.17:49:07.255 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-03-18.17:49:07.255 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
25-03-18.17:49:07.267 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
25-03-18.17:49:07.267 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown initiated...
25-03-18.17:49:07.268 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown completed.
25-03-18.17:49:07.289 [Curator-Framework-0] INFO  CuratorFrameworkImpl   - backgroundOperationsLoop exiting
25-03-18.17:49:07.364 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - An exception was thrown while closing send thread for session 0x1000000414500a8.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x1000000414500a8, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-03-18.17:49:07.475 [SpringApplicationShutdownHook] INFO  ZooKeeper              - Session: 0x1000000414500a8 closed
25-03-18.17:49:07.475 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x1000000414500a8
25-03-18.17:49:12.836 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:12.900 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-18.17:49:12.904 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 42760 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-18.17:49:12.905 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-18.17:49:14.166 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.182 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.253 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.253 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.286 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.286 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.300 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.301 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.315 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.444 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.444 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.452 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.452 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.457 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.457 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.470 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.470 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.475 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.477 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.478 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.480 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.480 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@64693226, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:14.943 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-18.17:49:14.946 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-18.17:49:14.994 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
25-03-18.17:49:15.191 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.191 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.206 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.216 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.217 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.218 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.220 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.220 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.220 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-18.17:49:15.246 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:49:15.246 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.17:49:15.331 [main            ] INFO  GenericScope           - BeanFactory id=9b52d932-7ae5-3e96-bd69-bebc70329b15
25-03-18.17:49:15.927 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:15.994 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:15.995 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:15.995 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$627/795775690] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:15.996 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:15.998 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:16.003 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:16.356 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$3b22b872] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:16.527 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$f3e157a2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:16.532 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:16.581 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath33399118.jar;C:\Users\14783\AppData\Local\JetBrains\IntelliJIdea2023.1\captureAgent\debugger-agent.jar
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-18.17:49:16.586 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-18.17:49:16.587 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-18.17:49:16.587 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-18.17:49:16.587 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-18.17:49:16.587 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=444MB
25-03-18.17:49:16.587 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-18.17:49:16.587 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=503MB
25-03-18.17:49:16.590 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@11ca8f71
25-03-18.17:49:16.592 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-18.17:49:16.604 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:49:16.610 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:49:16.615 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-18.17:49:16.618 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.17:49:31.141 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:49:31.141 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:49:31.236 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:53526, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:49:31.331 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500a9, negotiated timeout = 30000
25-03-18.17:49:31.340 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-18.17:49:31.442 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:49:31.449 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:49:31.457 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-18.17:49:31.625 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-18.17:49:31.765 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-18.17:49:31.879 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-18.17:49:31.879 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-18.17:49:31.894 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-18.17:49:31.896 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-18.17:49:31.896 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-18.17:49:32.065 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-18.17:49:32.065 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 18914 ms
25-03-18.17:49:32.541 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-18.17:49:33.883 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-18.17:49:33.893 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-18.17:49:34.659 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-18.17:49:34.659 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-18.17:49:35.459 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-18.17:49:38.026 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:38.030 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:38.082 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:38.083 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:38.089 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:38.159 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:49:38.159 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:49:41.719 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.719 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.745 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.746 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.746 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.746 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.746 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.764 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.766 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.862 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.862 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.865 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:41.881 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:49:41.881 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:49:42.316 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:42.502 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-18.17:49:42.761 [main            ] INFO  Version                - Redisson 3.23.4
25-03-18.17:49:43.407 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:49:44.823 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.17:49:47.316 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-18.17:49:47.326 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-18.17:49:47.336 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-18.17:49:47.536 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-18.17:49:47.766 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-18.17:49:49.449 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:49:49.557 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-03-18.17:49:49.565 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-03-18.17:49:49.565 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-03-18.17:49:49.565 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-03-18.17:49:49.566 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-03-18.17:49:49.566 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-03-18.17:49:49.566 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-03-18.17:49:49.566 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1b6c8641
25-03-18.17:49:51.473 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:49:51.540 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-18.17:49:51.543 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-18.17:49:51.654 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@38c00fa1[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-18.17:49:51.654 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@239462d2[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-18.17:49:51.654 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@4bac54cc[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-18.17:49:51.728 [Thread-112      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-18.17:49:52.762 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:52.762 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-18.17:49:53.733 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:53.733 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-18.17:49:54.758 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:54.758 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-18.17:49:55.717 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.17:49:55.717 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-18.17:49:55.780 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-18.17:49:55.796 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-18.17:49:57.181 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.17:49:57.323 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-03-18.17:49:57.323 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-03-18.17:49:57.324 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:57.325 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:57.943 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-18.17:49:58.039 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:58.043 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742291397438&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:58.043 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:58.356 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:58.404 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:58.420 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:49:58.420 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:49:58.884 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:58.896 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:58.904 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.001 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.17:49:59.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.17:49:59.515 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.517 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.602 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:49:59.603 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.674 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:49:59.675 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.691 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.692 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@3ca708f4; definition: FullServiceDefinition{parameters={version=1.0, release=3.2.5, pid=42760, side=provider, dubbo=2.0.2, anyhost=true, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742291397438}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.802 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.828 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742291399813&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.830 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:49:59.920 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.119 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.200 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:50:00.200 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.281 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:50:00.281 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.281 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.281 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@894cc99; definition: FullServiceDefinition{parameters={version=1.0, release=3.2.5, pid=42760, side=provider, dubbo=2.0.2, anyhost=true, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742291399813}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.365 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.375 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742291400369&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.375 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.463 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.649 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.760 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:50:00.760 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.760 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.760 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@20f7241; definition: FullServiceDefinition{parameters={version=1.0, release=3.2.5, group=big-market, pid=42760, side=provider, dubbo=2.0.2, anyhost=true, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742291400369}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.846 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.846 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.846 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.847 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.847 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.851 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.852 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.949 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742291400929&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:00.949 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291400929&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.164 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.248 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291400929&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.329 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291400929&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.402 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:50:01.402 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291400929&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.402 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.402 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.404 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742291400929&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.405 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.416 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.425 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42760&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742291397351, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.425 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.516 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42760&qos.enable=true&register=false&release=3.2.5&timestamp=1742291397351, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.517 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42760&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742291399813, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.517 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.596 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42760&qos.enable=true&register=false&release=3.2.5&timestamp=1742291399813, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.597 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42760&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742291400369, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.597 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.674 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=42760&qos.enable=true&register=false&release=3.2.5&timestamp=1742291400369, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.678 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:01.767 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-18.17:50:01.779 [main            ] INFO  Application            - Started Application in 51.504 seconds (JVM running for 52.988)
25-03-18.17:50:02.056 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:50:02.056 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:02.134 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:50:02.134 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:02.170 [RMI TCP Connection(3)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-18.17:50:02.171 [RMI TCP Connection(3)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-18.17:50:02.173 [RMI TCP Connection(3)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-03-18.17:50:02.231 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.17:50:02.231 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:50:51.392 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:50:52.133 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:50:52.133 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:50:52.133 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:52.133 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:52.644 [http-nio-8091-exec-3] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.17:50:52.649 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.17:50:52.649 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:50:52.649 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:52.649 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:52.931 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.17:50:52.931 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:50:52.931 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:50:52.931 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:50:53.169 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.17:50:53.169 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:50:53.169 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:50:53.169 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:50:53.493 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.17:50:53.494 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:50:53.494 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:53.494 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:53.902 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.17:50:53.902 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:50:53.902 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:50:53.902 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.17:50:54.199 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.17:50:54.199 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:50:54.199 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:54.199 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:54.520 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.17:50:54.520 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:50:54.520 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:50:54.520 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.17:50:54.818 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.17:50:54.818 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.17:50:54.818 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:54.818 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:50:55.625 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.17:50:55.625 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.17:50:55.625 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_003(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [31, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 486014283718, 2025-03-18 17:50:51.393, create]
25-03-18.17:50:56.118 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:486014283718
25-03-18.17:50:56.196 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:50:56.217 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:50:56.217 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:50:56.217 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.17:50:56.543 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:50:56.678 [http-nio-8091-exec-3] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-18.17:50:56.680 [http-nio-8091-exec-3] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-18.17:50:56.682 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.17:50:56.682 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:50:56.682 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-18.17:54:11.807 [HikariPool-3 housekeeper] WARN  HikariPool             - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m36s223ms587µs700ns).
25-03-18.17:54:11.807 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=3m37s28ms699µs200ns).
25-03-18.17:54:11.808 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m37s806ms229µs100ns).
25-03-18.17:54:11.809 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Client session timed out, have not heard from server in 198933ms for session id 0x1000000414500a9
25-03-18.17:54:33.411 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:33.412 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:33.412 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:33.413 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:33.417 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:33.413 [http-nio-8091-exec-3] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:54:34.568 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:34.568 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:34.570 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:52.240 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:52.244 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:52.245 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:52.246 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:52.249 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:53.404 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:54:53.412 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x1000000414500a9 for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 198933ms for session id 0x1000000414500a9
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
25-03-18.17:54:53.422 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.17:54:53.422 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:54:53.422 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.17:54:53.423 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.17:54:53.524 [main-EventThread] INFO  ConnectionStateManager - State change: SUSPENDED
25-03-18.17:55:02.857 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:02.861 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:03.530 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:03.531 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:03.532 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:07.688 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:07.695 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:09.281 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:11.827 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:11.828 [http-nio-8091-exec-3] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-18.17:55:15.639 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:55:15.642 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:55:15.645 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:15.645 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:15.645 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:17.650 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:54120, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:55:22.246 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:22.246 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:22.250 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:22.252 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Unable to reconnect to ZooKeeper service, session 0x1000000414500a9 has expired
25-03-18.17:55:23.289 [main-EventThread] WARN  ConnectionState        - Session expired event received
25-03-18.17:55:23.290 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:51.846 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:55:51.849 [Curator-ConnectionStateManager-0] WARN  ConnectionStateManager - Session timeout has elapsed while SUSPENDED. Injecting a session expiration. Elapsed ms: 58325. Adjusted session timeout ms: 30000
25-03-18.17:55:51.854 [main-EventThread] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@11ca8f71
25-03-18.17:55:51.856 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x1000000414500a9 for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionExpiredException: Unable to reconnect to ZooKeeper service, session 0x1000000414500a9 has expired
	at org.apache.zookeeper.ClientCnxn$SendThread.onConnected(ClientCnxn.java:1406)
	at org.apache.zookeeper.ClientCnxnSocket.readConnectResult(ClientCnxnSocket.java:154)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:84)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-03-18.17:55:52.465 [main-EventThread] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:55:52.465 [main-EventThread] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:55:54.567 [Curator-ConnectionStateManager-0] INFO  ZooKeeperTestable      - injectSessionExpiration() called
25-03-18.17:55:54.570 [main-EventThread] INFO  ConnectionStateManager - State change: LOST
25-03-18.17:55:54.570 [main-EventThread] WARN  ConnectionState        - Session expired event received
25-03-18.17:55:54.570 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x1000000414500a9
25-03-18.17:55:54.995 [main-EventThread] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@11ca8f71
25-03-18.17:55:55.211 [main-EventThread] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:55:55.212 [main-EventThread] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:55:55.212 [http-nio-8091-exec-3] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:55:55.212 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x0
25-03-18.17:55:55.212 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0x0dad59f6, L:/192.168.43.185:53625 - R:117.72.36.124/117.72.36.124:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://117.72.36.124:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:55:55.737 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0x8e098645, L:/192.168.43.185:53633 - R:117.72.36.124/117.72.36.124:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://117.72.36.124:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:55:55.738 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0x6081c5e7, L:/192.168.43.185:53634 - R:117.72.36.124/117.72.36.124:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://117.72.36.124:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:56:22.782 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:56:22.782 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:56:22.789 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:56:22.794 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:56:22.794 [http-nio-8091-exec-3] WARN  RuleStockLogicTreeNode - 规则过滤-库存扣减-告警，库存不足。userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.17:56:24.018 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:54197, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:56:24.304 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500aa, negotiated timeout = 30000
25-03-18.17:56:24.308 [main-EventThread] INFO  ConnectionStateManager - State change: RECONNECTED
25-03-18.17:56:26.701 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:56:30.052 [http-nio-8091-exec-3] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0001
25-03-18.17:59:28.846 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Client session timed out, have not heard from server in 171583ms for session id 0x1000000414500aa
25-03-18.17:59:28.846 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x1000000414500aa for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 171583ms for session id 0x1000000414500aa
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
25-03-18.17:59:28.847 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:59:28.848 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:59:28.848 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:59:28.848 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m6s58ms103µs300ns).
25-03-18.17:59:28.847 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:59:28.847 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.17:59:28.848 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=3m6s55ms911µs800ns).
25-03-18.17:59:28.848 [HikariPool-3 housekeeper] WARN  HikariPool             - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m6s56ms797µs300ns).
25-03-18.17:59:28.855 [http-nio-8091-exec-3] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.NullPointerException: null
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:56)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:130)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:59:28.946 [main-EventThread] INFO  ConnectionStateManager - State change: SUSPENDED
25-03-18.17:59:35.247 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.17:59:35.344 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ?
25-03-18.17:59:35.344 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:35.344 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ? ::: [100401]
25-03-18.17:59:35.654 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.17:59:35.654 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:35.654 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:59:35.654 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.17:59:35.982 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:486014283718
25-03-18.17:59:35.982 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:59:35.984 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:59:35.984 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:35.984 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.17:59:36.133 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.17:59:36.198 [http-nio-8091-exec-2] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.NullPointerException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository.getRateRange(StrategyRepository.java:90)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$43dd791e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$f08d59d.getRateRange(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.armory.StrategyArmoryDispatch.getRandomAwardId(StrategyArmoryDispatch.java:80)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.DefaultLogicChain.logic(DefaultLogicChain.java:40)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:56)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:46)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:45)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:130)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.17:59:40.037 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:59:40.037 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:59:40.102 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:54373, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:59:40.174 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Unable to reconnect to ZooKeeper service, session 0x1000000414500aa has expired
25-03-18.17:59:40.174 [main-EventThread] WARN  ConnectionState        - Session expired event received
25-03-18.17:59:40.174 [main-EventThread] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@11ca8f71
25-03-18.17:59:40.174 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x1000000414500aa for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionExpiredException: Unable to reconnect to ZooKeeper service, session 0x1000000414500aa has expired
	at org.apache.zookeeper.ClientCnxn$SendThread.onConnected(ClientCnxn.java:1406)
	at org.apache.zookeeper.ClientCnxnSocket.readConnectResult(ClientCnxnSocket.java:154)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:84)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-03-18.17:59:40.175 [main-EventThread] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.17:59:40.175 [main-EventThread] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.17:59:40.175 [main-EventThread] INFO  ConnectionStateManager - State change: LOST
25-03-18.17:59:40.175 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x1000000414500aa
25-03-18.17:59:50.163 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.17:59:50.163 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.17:59:50.264 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:54380, server: 117.72.36.124/117.72.36.124:2181
25-03-18.17:59:50.337 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500ab, negotiated timeout = 30000
25-03-18.17:59:50.337 [main-EventThread] INFO  ConnectionStateManager - State change: RECONNECTED
25-03-18.17:59:50.533 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.17:59:51.150 [http-nio-8091-exec-5] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-18.17:59:51.154 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-03-18.17:59:51.154 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:51.154 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-03-18.17:59:51.641 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ?
25-03-18.17:59:51.641 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:51.641 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ? ::: [11101]
25-03-18.17:59:51.959 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-03-18.17:59:51.959 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:51.959 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-03-18.17:59:52.265 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ?
25-03-18.17:59:52.265 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:52.265 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? ::: [100006]
25-03-18.17:59:53.840 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ?
25-03-18.17:59:53.840 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:53.840 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ? ::: [100006]
25-03-18.17:59:54.149 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.17:59:54.149 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.17:59:54.149 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-03-18.17:59:54.773 [http-nio-8091-exec-5] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-03-18.17:59:58.420 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping meta caches, latest entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.17:59:58.901 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping mapping caches, latest entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:00:00.988 [http-nio-8091-exec-6] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:00:01.104 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:00:01.104 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:01.104 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:01.104 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:01.414 [http-nio-8091-exec-6] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:486014283718
25-03-18.18:00:01.414 [http-nio-8091-exec-6] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:00:01.415 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:00:01.415 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:01.415 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:00:01.634 [http-nio-8091-exec-6] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:00:01.780 [http-nio-8091-exec-6] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-18.18:00:01.780 [http-nio-8091-exec-6] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-18.18:00:01.781 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:00:01.781 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:01.781 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-18.18:00:01.979 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:00:01.979 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:01.979 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:00:02.118 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:00:02.118 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:02.118 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-03-18.18:00:02.277 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:00:02.277 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:02.277 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:00:08.441 [http-nio-8091-exec-6] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-18.18:00:08.614 [http-nio-8091-exec-6] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-18.18:00:08.775 [http-nio-8091-exec-6] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.18:00:15.476 [http-nio-8091-exec-6] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108 ruleValue:101:1,100
25-03-18.18:00:15.575 [http-nio-8091-exec-6] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.18:00:15.575 [http-nio-8091-exec-6] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_luck_award code:0001
25-03-18.18:00:15.575 [http-nio-8091-exec-6] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.18:00:15.654 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:00:15.654 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:15.654 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 101]
25-03-18.18:00:16.117 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-18.18:00:16.117 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:16.117 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:00:16.117 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:00:16.936 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:00:16.936 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:00:16.936 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [31, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 486014283718, 101, 随机积分, 2025-03-18 18:00:15.937, create]
25-03-18.18:00:17.237 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:00:17.237 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:17.237 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:00:17.237 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:00:17.815 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:00:17.815 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:00:17.815 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [262, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 29965335509, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"486014283718","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"29965335509","timestamp":1742292015939}, create]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:17.989 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 486014283718]
25-03-18.18:00:19.736 [http-nio-8091-exec-6] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=c9629cca-0933-74bf-37fb-2e24f493d20f, timestamp=1742292019579}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:00:19.737 [http-nio-8091-exec-6] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"486014283718","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"29965335509","timestamp":1742292015939}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:00:19.737 [http-nio-8091-exec-6] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:00:19.740 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:00:19.740 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:19.740 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 29965335509]
25-03-18.18:00:19.740 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 29965335509]
25-03-18.18:00:24.596 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:00:24.696 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:00:24.696 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:24.696 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:24.696 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:24.979 [http-nio-8091-exec-7] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:00:24.980 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:00:24.980 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:24.980 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:24.980 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:25.121 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:00:25.121 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:25.121 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:00:25.121 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:00:25.282 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:00:25.282 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:25.282 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:00:25.282 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:00:25.520 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:00:25.520 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:25.520 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:25.520 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:25.976 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:00:25.976 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:25.976 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:00:25.976 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:00:26.294 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:00:26.294 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:26.294 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:26.294 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:26.614 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:00:26.614 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:26.614 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:00:26.614 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:00:26.933 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:00:26.933 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:26.933 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:26.933 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:00:27.397 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_raffle_order
25-03-18.18:00:27.397 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:27.397 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:00:27.397 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:00:27.909 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:00:27.909 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:00:27.909 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_000(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [32, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 272286909230, 2025-03-18 18:00:24.596, create]
25-03-18.18:00:28.373 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:272286909230
25-03-18.18:00:28.373 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:00:28.374 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:00:28.374 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:28.374 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:00:28.614 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:00:28.740 [http-nio-8091-exec-7] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-18.18:00:28.740 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-18.18:00:28.742 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:00:28.742 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:28.742 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-18.18:00:28.957 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:00:28.957 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:28.957 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_2]
25-03-18.18:00:29.098 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:00:29.098 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:29.098 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_2]
25-03-18.18:00:29.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:00:29.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:29.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_2]
25-03-18.18:00:35.230 [http-nio-8091-exec-7] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-18.18:00:35.231 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.18:00:35.231 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:00:35.231 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:00:35.231 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:00:35.582 [http-nio-8091-exec-7] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_2 node:rule_lock code:0000
25-03-18.18:00:35.582 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-18.18:00:35.739 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-18.18:00:35.828 [http-nio-8091-exec-7] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_2 node:rule_stock code:0000
25-03-18.18:00:35.828 [http-nio-8091-exec-7] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106 ruleValue:101:1,100
25-03-18.18:00:35.899 [http-nio-8091-exec-7] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.18:00:35.899 [http-nio-8091-exec-7] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_2 node:rule_luck_award code:0001
25-03-18.18:00:35.899 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.18:00:36.295 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:00:36.295 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:00:36.295 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [32, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 272286909230, 101, 随机积分, 2025-03-18 18:00:35.979, create]
25-03-18.18:00:36.934 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:00:36.934 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:00:36.934 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [263, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 63947112702, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"272286909230","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"63947112702","timestamp":1742292035979}, create]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:37.256 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 272286909230]
25-03-18.18:00:38.971 [http-nio-8091-exec-7] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=25661bf6-2848-32ca-1ee6-7c9e95ef6c86, timestamp=1742292038820}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:00:38.972 [http-nio-8091-exec-7] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"272286909230","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"63947112702","timestamp":1742292035979}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:00:38.972 [http-nio-8091-exec-7] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:00:38.973 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:00:38.973 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:00:38.973 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 63947112702]
25-03-18.18:00:38.973 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 63947112702]
25-03-18.18:02:09.858 [http-nio-8091-exec-10] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-18.18:02:09.859 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-03-18.18:02:09.859 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:09.859 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-03-18.18:02:10.377 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ?
25-03-18.18:02:10.377 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:10.377 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ? ::: [11101]
25-03-18.18:02:10.697 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ?
25-03-18.18:02:10.697 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:10.697 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ? ::: [100401]
25-03-18.18:02:10.938 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-03-18.18:02:10.938 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:10.938 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-03-18.18:02:11.177 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ?
25-03-18.18:02:11.177 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:11.177 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? ::: [100006]
25-03-18.18:02:12.837 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ?
25-03-18.18:02:12.837 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:12.837 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ? ::: [100006]
25-03-18.18:02:13.096 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:02:13.096 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:13.096 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-03-18.18:02:13.735 [http-nio-8091-exec-10] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-03-18.18:02:41.685 [http-nio-8091-exec-11] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:02:41.785 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:02:41.785 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:41.785 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:41.785 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:42.138 [http-nio-8091-exec-11] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:02:42.139 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:02:42.139 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:42.139 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:42.139 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:42.298 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:02:42.298 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:42.298 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:02:42.298 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:02:42.458 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:02:42.458 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:42.458 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:02:42.458 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:02:42.684 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:02:42.684 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:02:42.684 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:42.684 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:43.109 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:02:43.109 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:02:43.109 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:02:43.109 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:02:43.418 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:02:43.418 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:02:43.418 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:43.418 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:43.737 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:02:43.737 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:02:43.737 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:02:43.737 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:02:44.058 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:02:44.058 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:02:44.058 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:44.058 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:02:44.520 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_raffle_order
25-03-18.18:02:44.520 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:44.520 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:02:44.520 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:02:45.098 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:02:45.098 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:02:45.098 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_001(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [33, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 519780435385, 2025-03-18 18:02:41.685, create]
25-03-18.18:02:45.638 [http-nio-8091-exec-11] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:519780435385
25-03-18.18:02:45.639 [http-nio-8091-exec-11] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:02:45.639 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:02:45.639 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:45.639 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:02:45.878 [http-nio-8091-exec-11] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:02:46.040 [http-nio-8091-exec-11] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-18.18:02:46.040 [http-nio-8091-exec-11] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-18.18:02:46.040 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:02:46.040 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:46.040 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-18.18:02:46.279 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:02:46.279 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:46.279 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_1]
25-03-18.18:02:46.460 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:02:46.460 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:46.460 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_1]
25-03-18.18:02:46.600 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:02:46.600 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:46.600 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_1]
25-03-18.18:02:46.857 [http-nio-8091-exec-11] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.18:02:46.858 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.18:02:46.858 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:46.858 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:02:46.858 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:02:47.140 [http-nio-8091-exec-11] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-18.18:02:47.140 [http-nio-8091-exec-11] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.18:02:47.272 [http-nio-8091-exec-11] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.18:02:47.352 [http-nio-8091-exec-11] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-18.18:02:47.352 [http-nio-8091-exec-11] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-18.18:02:47.422 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:02:47.424 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:47.424 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 107]
25-03-18.18:02:47.902 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-18.18:02:47.902 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:47.902 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:02:47.902 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:02:48.779 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:02:48.779 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:02:48.779 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_001(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [33, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 519780435385, 107, OpenAI随机额度, 2025-03-18 18:02:47.737, create]
25-03-18.18:02:49.097 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:02:49.097 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:02:49.097 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:02:49.097 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:02:49.658 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:02:49.658 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:02:49.658 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [264, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 81288401032, {"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"519780435385","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"81288401032","timestamp":1742292167737}, create]
25-03-18.18:02:49.819 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:49.820 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 519780435385]
25-03-18.18:02:52.138 [http-nio-8091-exec-11] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[168], headers={contentType=text/plain;charset=UTF-8, id=f06e636e-d71e-b6de-9cc0-df960627ab9f, timestamp=1742292171656}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:02:52.139 [http-nio-8091-exec-11] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"519780435385","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"81288401032","timestamp":1742292167737}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:02:52.140 [http-nio-8091-exec-11] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:02:52.140 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:02:52.140 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:02:52.140 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 81288401032]
25-03-18.18:02:52.140 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 81288401032]
25-03-18.18:03:11.098 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:03:11.229 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:03:11.229 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:11.229 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:11.230 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:12.827 [http-nio-8091-exec-12] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:03:12.828 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:03:12.828 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:12.828 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:12.828 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:14.059 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:03:14.059 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:14.059 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:03:14.059 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:03:14.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:03:14.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:14.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:03:14.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:03:15.258 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:03:15.258 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:03:15.258 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:15.258 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:16.538 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:03:16.538 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:03:16.538 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:03:16.538 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:03:16.857 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:03:16.857 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:03:16.857 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:16.857 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:17.467 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:03:17.467 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:03:17.467 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:03:17.467 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:03:18.139 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:03:18.139 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:03:18.139 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:18.139 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:03:19.420 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:03:19.420 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:03:19.420 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_002(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [34, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 826098689658, 2025-03-18 18:03:11.098, create]
25-03-18.18:03:20.537 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:826098689658
25-03-18.18:03:20.537 [http-nio-8091-exec-12] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:03:20.538 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:03:20.538 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:20.538 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:03:20.780 [http-nio-8091-exec-12] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:03:20.938 [http-nio-8091-exec-12] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-18.18:03:20.938 [http-nio-8091-exec-12] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-18.18:03:20.940 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:03:20.940 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:20.940 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-18.18:03:21.178 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:03:21.178 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:21.178 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_3]
25-03-18.18:03:21.340 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:03:21.340 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:21.340 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_3]
25-03-18.18:03:21.484 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:03:21.484 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:21.484 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_3]
25-03-18.18:03:22.184 [http-nio-8091-exec-12] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-18.18:03:22.186 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.18:03:22.186 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:22.186 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:03:22.186 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:03:23.421 [http-nio-8091-exec-12] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_3 node:rule_lock code:0000
25-03-18.18:03:23.421 [http-nio-8091-exec-12] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105 ruleValue:101:1,100
25-03-18.18:03:23.499 [http-nio-8091-exec-12] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.18:03:23.499 [http-nio-8091-exec-12] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_3 node:rule_luck_award code:0001
25-03-18.18:03:23.499 [http-nio-8091-exec-12] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.18:03:23.578 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:03:23.578 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:03:23.578 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 101]
25-03-18.18:03:24.139 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:03:24.139 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:03:24.139 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [34, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 826098689658, 101, 随机积分, 2025-03-18 18:03:23.834, create]
25-03-18.18:03:25.418 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:03:25.418 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:03:25.418 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [265, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 60773648011, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"826098689658","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"60773648011","timestamp":1742292203834}, create]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:26.699 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 826098689658]
25-03-18.18:03:29.036 [http-nio-8091-exec-12] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=bdbab3da-e783-8ddc-b395-bb5c806cd2c9, timestamp=1742292208883}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:03:29.037 [http-nio-8091-exec-12] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"826098689658","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"60773648011","timestamp":1742292203834}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:03:29.038 [http-nio-8091-exec-12] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:03:29.038 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:03:29.038 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:03:29.038 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 60773648011]
25-03-18.18:03:29.038 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 60773648011]
25-03-18.18:05:21.343 [http-nio-8091-exec-15] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:05:21.426 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:05:21.426 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:21.426 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:21.426 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:21.745 [http-nio-8091-exec-15] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:05:21.746 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:05:21.746 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:21.746 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:21.746 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:21.908 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:05:21.908 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:21.908 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:05:21.908 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:05:22.065 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:05:22.065 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:22.065 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:05:22.065 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:05:22.288 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:05:22.288 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:05:22.288 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:22.288 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:22.741 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:05:22.741 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:05:22.741 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:05:22.741 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:05:23.020 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:05:23.021 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:05:23.021 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:23.021 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:23.307 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:05:23.307 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:05:23.307 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:05:23.307 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:05:23.581 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:05:23.581 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:05:23.581 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:23.581 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:05:24.154 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:05:24.154 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:05:24.154 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_003(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [35, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 673392143687, 2025-03-18 18:05:21.343, create]
25-03-18.18:05:24.596 [http-nio-8091-exec-15] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:673392143687
25-03-18.18:05:24.596 [http-nio-8091-exec-15] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:05:24.597 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:05:24.597 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:24.597 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:05:24.802 [http-nio-8091-exec-15] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:05:24.943 [http-nio-8091-exec-15] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-18.18:05:24.943 [http-nio-8091-exec-15] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-18.18:05:24.944 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:05:24.944 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:24.944 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-18.18:05:25.167 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:05:25.167 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:25.167 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_2]
25-03-18.18:05:25.323 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:05:25.323 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:25.323 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_2]
25-03-18.18:05:25.482 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:05:25.482 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:25.482 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_2]
25-03-18.18:05:25.711 [http-nio-8091-exec-15] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-18.18:05:25.712 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.18:05:25.712 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:05:25.712 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:05:25.712 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:05:26.007 [http-nio-8091-exec-15] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_2 node:rule_lock code:0000
25-03-18.18:05:26.007 [http-nio-8091-exec-15] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-18.18:05:26.141 [http-nio-8091-exec-15] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-18.18:05:26.226 [http-nio-8091-exec-15] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_2 node:rule_stock code:0000
25-03-18.18:05:26.227 [http-nio-8091-exec-15] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106 ruleValue:101:1,100
25-03-18.18:05:26.301 [http-nio-8091-exec-15] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.18:05:26.301 [http-nio-8091-exec-15] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_2 node:rule_luck_award code:0001
25-03-18.18:05:26.301 [http-nio-8091-exec-15] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.18:05:26.702 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:05:26.702 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:05:26.702 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [35, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 673392143687, 101, 随机积分, 2025-03-18 18:05:26.382, create]
25-03-18.18:05:27.343 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:05:27.343 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:05:27.343 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [266, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 20608686711, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"673392143687","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"20608686711","timestamp":1742292326382}, create]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:27.595 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 673392143687]
25-03-18.18:05:29.302 [http-nio-8091-exec-15] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=86d9baf7-bd30-e273-6823-d598f1c2d9e1, timestamp=1742292329169}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:05:29.303 [http-nio-8091-exec-15] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"673392143687","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"20608686711","timestamp":1742292326382}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:05:29.303 [http-nio-8091-exec-15] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:05:29.305 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:05:29.305 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:05:29.305 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 20608686711]
25-03-18.18:05:29.305 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 20608686711]
25-03-18.18:07:17.706 [http-nio-8091-exec-22] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:07:17.825 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:07:17.825 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:17.825 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:17.825 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:18.144 [http-nio-8091-exec-22] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:07:18.145 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:07:18.145 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:18.145 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:18.145 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:18.309 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:07:18.310 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:18.310 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:07:18.310 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:07:18.464 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:07:18.465 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:18.465 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:07:18.465 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:07:18.687 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:07:18.688 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:07:18.688 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:18.688 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:19.185 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:07:19.185 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:07:19.185 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:07:19.185 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:07:19.467 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:07:19.467 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:07:19.467 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:19.467 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:19.757 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:07:19.757 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:07:19.757 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:07:19.757 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:07:20.063 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:07:20.063 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:07:20.063 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:20.063 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:07:20.664 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:07:20.664 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:07:20.664 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_000(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [36, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 428212705601, 2025-03-18 18:07:17.706, create]
25-03-18.18:07:21.103 [http-nio-8091-exec-22] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:428212705601
25-03-18.18:07:21.104 [http-nio-8091-exec-22] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:07:21.105 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:07:21.105 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:21.105 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:07:21.324 [http-nio-8091-exec-22] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:07:21.487 [http-nio-8091-exec-22] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-18.18:07:21.487 [http-nio-8091-exec-22] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-18.18:07:21.488 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:07:21.488 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:21.488 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-18.18:07:21.728 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:07:21.728 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:21.728 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:07:21.859 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:07:21.859 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:21.859 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-03-18.18:07:21.989 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:07:21.989 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:07:21.989 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:07:24.126 [http-nio-8091-exec-22] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-18.18:07:30.572 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:07:34.529 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:07:34.530 [http-nio-8091-exec-22] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-18.18:07:54.383 [http-nio-8091-exec-22] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.18:08:12.217 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Client session timed out, have not heard from server in 25183ms for session id 0x1000000414500ab
25-03-18.18:08:12.217 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x1000000414500ab for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 25183ms for session id 0x1000000414500ab
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
25-03-18.18:08:12.218 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:08:12.218 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:08:12.222 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0x7d90e7d8, L:/192.168.43.185:54179 - R:117.72.36.124/117.72.36.124:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://117.72.36.124:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:08:12.222 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:08:12.223 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0xf1dcdd66, L:/192.168.43.185:54178 - R:117.72.36.124/117.72.36.124:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://117.72.36.124:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:08:12.224 [redisson-timer-4-1] ERROR PingConnectionHandler  - Unable to send PING command over channel: [id: 0x08e176c5, L:/192.168.43.185:54180 - R:117.72.36.124/117.72.36.124:6379]
org.redisson.client.RedisTimeoutException: Command execution timeout for command: (PING), params: [], Redis client: [addr=redis://117.72.36.124:6379]
	at org.redisson.client.RedisConnection.lambda$async$0(RedisConnection.java:256)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.run(HashedWheelTimer.java:715)
	at io.netty.util.concurrent.ImmediateExecutor.execute(ImmediateExecutor.java:34)
	at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:703)
	at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:790)
	at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:503)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:08:13.593 [main-EventThread] INFO  ConnectionStateManager - State change: SUSPENDED
25-03-18.18:11:44.536 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.536 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.536 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.537 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.537 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=3m32s317ms23µs800ns).
25-03-18.18:11:44.537 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m32s316ms657µs300ns).
25-03-18.18:11:44.538 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.538 [Curator-ConnectionStateManager-0] WARN  ConnectionStateManager - Session timeout has elapsed while SUSPENDED. Injecting a session expiration. Elapsed ms: 210945. Adjusted session timeout ms: 30000
25-03-18.18:11:44.538 [Curator-ConnectionStateManager-0] INFO  ZooKeeperTestable      - injectSessionExpiration() called
25-03-18.18:11:44.538 [HikariPool-3 housekeeper] WARN  HikariPool             - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=3m32s318ms445µs400ns).
25-03-18.18:11:44.541 [main-EventThread] WARN  ConnectionState        - Session expired event received
25-03-18.18:11:44.541 [main-EventThread] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@11ca8f71
25-03-18.18:11:44.542 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.542 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.542 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.542 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-18.18:11:44.543 [http-nio-8091-exec-22] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104 ruleValue:101:1,100
25-03-18.18:11:44.543 [main-EventThread] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.18:11:44.544 [main-EventThread] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.18:11:44.544 [main-EventThread] INFO  ConnectionStateManager - State change: LOST
25-03-18.18:11:44.545 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x1000000414500ab
25-03-18.18:11:44.650 [http-nio-8091-exec-22] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101 awardRuleValue:1,100
25-03-18.18:11:44.650 [http-nio-8091-exec-22] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_luck_award code:0001
25-03-18.18:11:44.650 [http-nio-8091-exec-22] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 1,100
25-03-18.18:11:44.722 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:11:44.722 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:11:44.722 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 101]
25-03-18.18:11:45.195 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-18.18:11:45.195 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:11:45.195 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:11:45.195 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:11:45.992 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:11:45.992 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:11:45.992 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [36, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 428212705601, 101, 随机积分, 2025-03-18 18:11:45.031, create]
25-03-18.18:11:46.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:11:46.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:11:46.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:11:46.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:11:46.631 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.18:11:46.633 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:11:46.633 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.18:11:46.633 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:11:46.634 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.18:11:46.634 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:11:46.792 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:11:46.792 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:11:46.792 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [267, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 67521456916, {"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"428212705601","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"67521456916","timestamp":1742292705031}, create]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:46.950 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 428212705601]
25-03-18.18:11:48.204 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.18:11:48.204 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291397438&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:11:48.312 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.18:11:48.312 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:11:48.315 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.18:11:48.315 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=42760&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:11:48.513 [http-nio-8091-exec-22] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[184], headers={contentType=text/plain;charset=UTF-8, id=2716216e-d349-4b2e-44b7-2be47ee04770, timestamp=1742292708347}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:11:48.513 [http-nio-8091-exec-22] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardConfig":"1,100","awardId":101,"awardTitle":"随机积分","orderId":"428212705601","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"67521456916","timestamp":1742292705031}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:11:48.514 [http-nio-8091-exec-22] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:11:48.514 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:11:48.514 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:11:48.514 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 67521456916]
25-03-18.18:11:48.514 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 67521456916]
25-03-18.18:11:54.062 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.18:11:54.062 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.18:11:54.151 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:55006, server: 117.72.36.124/117.72.36.124:2181
25-03-18.18:11:54.243 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500ac, negotiated timeout = 30000
25-03-18.18:11:54.243 [main-EventThread] INFO  ConnectionStateManager - State change: RECONNECTED
25-03-18.18:11:54.396 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.18:11:54.508 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.18:11:54.508 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.18:11:54.510 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Client session timed out, have not heard from server in 220917ms for session id 0x1000000414500ab
25-03-18.18:11:54.510 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x1000000414500ab for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 220917ms for session id 0x1000000414500ab
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1230)
25-03-18.18:12:01.079 [http-nio-8091-exec-20] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-18.18:12:01.080 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-03-18.18:12:01.080 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:01.080 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-03-18.18:12:01.592 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ?
25-03-18.18:12:01.592 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:01.592 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ? ::: [11101]
25-03-18.18:12:01.911 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ?
25-03-18.18:12:01.911 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:01.911 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ? ::: [100401]
25-03-18.18:12:02.154 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-03-18.18:12:02.154 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:02.154 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-03-18.18:12:02.377 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ?
25-03-18.18:12:02.377 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:02.377 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? ::: [100006]
25-03-18.18:12:04.056 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ?
25-03-18.18:12:04.056 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:04.056 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ? ::: [100006]
25-03-18.18:12:04.368 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:12:04.368 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:04.368 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-03-18.18:12:04.951 [http-nio-8091-exec-20] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-03-18.18:12:05.840 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.18:12:05.840 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.18:12:05.927 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /192.168.43.185:55014, server: 117.72.36.124/117.72.36.124:2181
25-03-18.18:12:06.027 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Unable to reconnect to ZooKeeper service, session 0x1000000414500ab has expired
25-03-18.18:12:06.029 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Session 0x1000000414500ab for sever 117.72.36.124/117.72.36.124:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$SessionExpiredException: Unable to reconnect to ZooKeeper service, session 0x1000000414500ab has expired
	at org.apache.zookeeper.ClientCnxn$SendThread.onConnected(ClientCnxn.java:1406)
	at org.apache.zookeeper.ClientCnxnSocket.readConnectResult(ClientCnxnSocket.java:154)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:84)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
25-03-18.18:12:07.196 [http-nio-8091-exec-25] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-18.18:12:07.197 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-03-18.18:12:07.197 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:07.197 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-03-18.18:12:07.737 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-03-18.18:12:07.737 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:07.737 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-03-18.18:12:08.855 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:12:08.855 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:08.855 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-03-18.18:12:09.591 [http-nio-8091-exec-25] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-03-18.18:12:13.030 [http-nio-8091-exec-18] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:12:13.113 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:12:13.113 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:13.113 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:13.113 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:13.433 [http-nio-8091-exec-18] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:12:13.433 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:12:13.433 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:13.433 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:13.433 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:13.594 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:12:13.594 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:13.594 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:13.594 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:13.753 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:12:13.753 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:13.753 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:13.753 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:13.974 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:12:13.974 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:13.974 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:13.974 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:14.472 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:12:14.472 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:14.472 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:14.472 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:14.840 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:12:14.840 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:14.840 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:14.840 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:15.192 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:12:15.192 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:15.192 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:15.193 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:15.511 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:12:15.511 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:15.511 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:15.511 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:15.992 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_raffle_order
25-03-18.18:12:15.992 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:15.992 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:12:15.992 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:12:16.552 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:12:16.553 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:12:16.553 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_001(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [37, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 882455848368, 2025-03-18 18:12:13.03, create]
25-03-18.18:12:17.032 [http-nio-8091-exec-18] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:882455848368
25-03-18.18:12:17.032 [http-nio-8091-exec-18] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:12:17.033 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:12:17.033 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:17.033 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:12:17.227 [http-nio-8091-exec-18] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:12:17.362 [http-nio-8091-exec-18] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-18.18:12:17.362 [http-nio-8091-exec-18] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-18.18:12:17.363 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:12:17.363 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:17.363 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-18.18:12:17.536 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:12:17.537 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:17.537 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:12:17.676 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:12:17.676 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:17.676 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-03-18.18:12:17.813 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:12:17.813 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:17.813 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:12:20.367 [http-nio-8091-exec-18] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-18.18:12:20.552 [http-nio-8091-exec-18] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-18.18:12:20.632 [http-nio-8091-exec-18] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.18:12:20.632 [http-nio-8091-exec-18] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-18.18:12:20.712 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:12:20.712 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:20.712 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 101]
25-03-18.18:12:21.175 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-18.18:12:21.175 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:21.175 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:12:21.175 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:12:22.073 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:12:22.073 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:12:22.073 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_001(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [37, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 882455848368, 101, 随机积分, 2025-03-18 18:12:21.03, create]
25-03-18.18:12:22.373 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:12:22.373 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:22.373 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:12:22.373 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:12:22.909 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:12:22.909 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:12:22.909 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [268, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 77282443639, {"data":{"awardId":101,"awardTitle":"随机积分","orderId":"882455848368","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"77282443639","timestamp":1742292741030}, create]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:23.054 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 882455848368]
25-03-18.18:12:24.713 [http-nio-8091-exec-18] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[162], headers={contentType=text/plain;charset=UTF-8, id=de6ec70b-362d-e077-d41a-82e8fbe0fa8d, timestamp=1742292744551}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:12:24.714 [http-nio-8091-exec-18] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":101,"awardTitle":"随机积分","orderId":"882455848368","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"77282443639","timestamp":1742292741030}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:12:24.714 [http-nio-8091-exec-18] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:12:24.715 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:12:24.715 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:24.715 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 77282443639]
25-03-18.18:12:24.715 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 77282443639]
25-03-18.18:12:27.472 [http-nio-8091-exec-23] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:12:27.592 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:12:27.592 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:27.593 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:27.593 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:27.912 [http-nio-8091-exec-23] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:12:27.913 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:12:27.913 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:27.913 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:27.913 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:28.073 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:12:28.073 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:28.073 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:28.073 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:28.233 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:12:28.233 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:28.233 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:28.233 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:28.452 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ?
25-03-18.18:12:28.452 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:28.452 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ? ::: [100401]
25-03-18.18:12:28.755 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:12:28.755 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:28.755 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:28.755 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:29.353 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:12:29.353 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:29.353 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:29.353 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:12:29.672 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:12:29.672 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:29.672 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:29.672 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:29.990 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:12:29.990 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:29.990 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:29.990 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:12:30.311 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:12:30.311 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:12:30.311 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:30.311 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:12:30.712 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_raffle_order
25-03-18.18:12:30.712 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:30.712 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:12:30.712 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_raffle_order_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_raffle_order_003
25-03-18.18:12:31.272 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:12:31.272 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:12:31.272 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_002(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [38, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 301466214975, 2025-03-18 18:12:27.472, create]
25-03-18.18:12:31.734 [http-nio-8091-exec-23] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:301466214975
25-03-18.18:12:31.734 [http-nio-8091-exec-23] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:12:31.735 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:12:31.735 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:12:31.735 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:12:31.992 [http-nio-8091-exec-23] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:12:32.053 [http-nio-8091-exec-23] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.NullPointerException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository.getRateRange(StrategyRepository.java:90)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$FastClassBySpringCGLIB$$43dd791e.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.StrategyRepository$$EnhancerBySpringCGLIB$$f08d59d.getRateRange(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.armory.StrategyArmoryDispatch.getRandomAwardId(StrategyArmoryDispatch.java:80)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.DefaultLogicChain.logic(DefaultLogicChain.java:40)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.rule.chain.impl.BackListLogicChain.logic(BackListLogicChain.java:56)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.raffle.DefaultRaffleStrategy.raffleLogicChain(DefaultRaffleStrategy.java:46)
	at cn.wenzhuo4657.BigMarket.domain.strategy.service.AbstractRaffleStrategy.performRaffle(AbstractRaffleStrategy.java:45)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:130)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:13:05.424 [http-nio-8091-exec-24] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-18.18:13:05.425 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-03-18.18:13:05.425 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:05.425 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-03-18.18:13:05.912 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ?
25-03-18.18:13:05.913 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:05.913 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ? ::: [11101]
25-03-18.18:13:06.219 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-03-18.18:13:06.219 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:06.219 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-03-18.18:13:06.456 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ?
25-03-18.18:13:06.456 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:06.456 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? ::: [100006]
25-03-18.18:13:08.135 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ?
25-03-18.18:13:08.135 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:08.135 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ? ::: [100006]
25-03-18.18:13:08.473 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:13:08.473 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:08.473 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-03-18.18:13:09.112 [http-nio-8091-exec-24] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-03-18.18:13:24.137 [http-nio-8091-exec-21] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:13:24.235 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:13:24.235 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:24.235 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:24.235 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:24.554 [http-nio-8091-exec-21] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:301466214975
25-03-18.18:13:24.554 [http-nio-8091-exec-21] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:13:24.555 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:13:24.555 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:24.555 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:13:24.774 [http-nio-8091-exec-21] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:13:24.953 [http-nio-8091-exec-21] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-18.18:13:24.953 [http-nio-8091-exec-21] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-18.18:13:24.953 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:13:24.953 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:24.953 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-18.18:13:25.175 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:13:25.175 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:25.175 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:13:25.310 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:13:25.310 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:25.310 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-03-18.18:13:25.434 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:13:25.434 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:25.434 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-03-18.18:13:25.631 [http-nio-8091-exec-21] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-18.18:13:25.774 [http-nio-8091-exec-21] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-18.18:13:25.838 [http-nio-8091-exec-21] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.18:13:25.838 [http-nio-8091-exec-21] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-18.18:13:25.913 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:13:25.913 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:25.913 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 108]
25-03-18.18:13:26.314 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-18.18:13:26.314 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:26.314 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:13:26.314 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-18.18:13:27.152 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:13:27.152 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:27.152 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [38, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 301466214975, 108, OpenAI随机额度, 2025-03-18 18:13:26.153, create]
25-03-18.18:13:27.456 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:13:27.456 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:27.456 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:13:27.456 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-18.18:13:28.011 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:13:28.011 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:28.011 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [269, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 37340470958, {"data":{"awardId":108,"awardTitle":"OpenAI随机额度","orderId":"301466214975","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"37340470958","timestamp":1742292806153}, create]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:28.154 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 301466214975]
25-03-18.18:13:29.913 [http-nio-8091-exec-21] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[168], headers={contentType=text/plain;charset=UTF-8, id=d21dbdab-0991-66d1-2a90-684b75c843b6, timestamp=1742292809736}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:13:29.914 [http-nio-8091-exec-21] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":108,"awardTitle":"OpenAI随机额度","orderId":"301466214975","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"37340470958","timestamp":1742292806153}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:13:29.914 [http-nio-8091-exec-21] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:13:29.916 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:13:29.916 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:29.916 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 37340470958]
25-03-18.18:13:29.916 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 37340470958]
25-03-18.18:13:36.532 [http-nio-8091-exec-26] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:13:36.614 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:13:36.614 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:36.614 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:36.614 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:36.953 [http-nio-8091-exec-26] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:13:36.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:13:36.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:36.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:36.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:37.115 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:13:37.115 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:37.115 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:37.115 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:37.275 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:13:37.275 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:37.275 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:37.275 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:37.497 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:13:37.497 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:37.497 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:37.497 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:37.993 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:13:37.995 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:37.995 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:37.995 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:38.313 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:13:38.313 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:38.313 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:38.313 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:38.632 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:13:38.632 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:38.632 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:38.632 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:38.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:13:38.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:38.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:38.954 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:39.595 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:13:39.595 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:39.595 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_003(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [39, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 083224821351, 2025-03-18 18:13:36.532, create]
25-03-18.18:13:40.030 [http-nio-8091-exec-26] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:083224821351
25-03-18.18:13:40.030 [http-nio-8091-exec-26] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:13:40.031 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:13:40.031 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:40.031 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:13:40.233 [http-nio-8091-exec-26] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:13:40.393 [http-nio-8091-exec-26] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-18.18:13:40.393 [http-nio-8091-exec-26] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-18.18:13:40.393 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:13:40.393 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:40.393 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-18.18:13:40.614 [http-nio-8091-exec-26] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-18.18:13:40.793 [http-nio-8091-exec-26] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-18.18:13:40.874 [http-nio-8091-exec-26] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.18:13:40.874 [http-nio-8091-exec-26] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-18.18:13:41.276 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:13:41.276 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:41.276 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [39, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 083224821351, 108, OpenAI随机额度, 2025-03-18 18:13:40.936, create]
25-03-18.18:13:41.915 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:13:41.915 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:41.915 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [270, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 05546143399, {"data":{"awardId":108,"awardTitle":"OpenAI随机额度","orderId":"083224821351","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"05546143399","timestamp":1742292820936}, create]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:42.234 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 083224821351]
25-03-18.18:13:43.993 [http-nio-8091-exec-26] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[168], headers={contentType=text/plain;charset=UTF-8, id=89b12dd7-01f2-b5d5-59de-d92ca9d5ff4e, timestamp=1742292823834}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:13:43.995 [http-nio-8091-exec-26] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":108,"awardTitle":"OpenAI随机额度","orderId":"083224821351","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"05546143399","timestamp":1742292820936}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:13:43.996 [http-nio-8091-exec-26] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:13:43.996 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:13:43.996 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:43.996 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 05546143399]
25-03-18.18:13:43.996 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 05546143399]
25-03-18.18:13:46.348 [http-nio-8091-exec-27] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:13:46.473 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:13:46.473 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:46.473 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:46.473 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:46.794 [http-nio-8091-exec-27] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:13:46.795 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:13:46.795 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:46.795 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:46.795 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:46.956 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:13:46.956 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:46.956 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:46.956 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:47.114 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:13:47.114 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:47.114 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:47.114 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:47.337 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:13:47.338 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:47.338 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:47.338 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:47.769 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:13:47.769 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:47.769 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:47.769 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:13:48.074 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:13:48.074 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:48.074 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:48.074 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:48.394 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:13:48.394 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:48.394 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:48.394 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:13:48.714 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:13:48.714 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:48.714 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:48.714 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:13:49.276 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:13:49.276 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:49.276 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_000(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [40, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 040984358602, 2025-03-18 18:13:46.348, create]
25-03-18.18:13:49.753 [http-nio-8091-exec-27] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:040984358602
25-03-18.18:13:49.753 [http-nio-8091-exec-27] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:13:49.754 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:13:49.754 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:49.754 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:13:49.976 [http-nio-8091-exec-27] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:13:50.136 [http-nio-8091-exec-27] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-18.18:13:50.136 [http-nio-8091-exec-27] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-18.18:13:50.137 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:13:50.137 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:50.137 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-18.18:13:50.377 [http-nio-8091-exec-27] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.18:13:50.536 [http-nio-8091-exec-27] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.18:13:50.633 [http-nio-8091-exec-27] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.18:13:50.633 [http-nio-8091-exec-27] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-18.18:13:50.696 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:13:50.696 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:13:50.696 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 103]
25-03-18.18:13:51.356 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:13:51.356 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:51.356 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [40, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 040984358602, 103, OpenAI随机额度, 2025-03-18 18:13:51.034, create]
25-03-18.18:13:51.996 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:13:51.996 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:13:51.996 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [271, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 89069844469, {"data":{"awardId":103,"awardTitle":"OpenAI随机额度","orderId":"040984358602","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"89069844469","timestamp":1742292831034}, create]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:52.314 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 040984358602]
25-03-18.18:13:54.155 [http-nio-8091-exec-27] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[168], headers={contentType=text/plain;charset=UTF-8, id=6fb5c96f-e851-aa25-fc6d-bd528aa4995a, timestamp=1742292833994}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:13:54.155 [http-nio-8091-exec-27] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":103,"awardTitle":"OpenAI随机额度","orderId":"040984358602","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"89069844469","timestamp":1742292831034}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:13:54.155 [http-nio-8091-exec-27] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:13:54.156 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:13:54.156 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:13:54.156 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 89069844469]
25-03-18.18:13:54.156 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 89069844469]
25-03-18.18:14:03.775 [http-nio-8091-exec-28] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:14:03.881 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:14:03.881 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:03.881 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:03.881 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:04.234 [http-nio-8091-exec-28] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:14:04.235 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:14:04.235 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:04.235 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:04.235 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:04.396 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:14:04.396 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:04.396 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:04.396 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:04.556 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:14:04.556 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:04.556 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:04.556 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:04.776 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:14:04.776 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:04.776 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:04.776 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:05.275 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:14:05.275 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:05.275 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:05.275 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:05.595 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:14:05.595 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:05.595 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:05.595 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:05.914 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:14:05.914 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:05.914 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:05.914 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:06.202 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:14:06.202 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:06.202 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:06.202 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:06.795 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:14:06.795 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:14:06.795 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_raffle_order_001(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [41, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 365277144761, 2025-03-18 18:14:03.775, create]
25-03-18.18:14:07.254 [http-nio-8091-exec-28] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:365277144761
25-03-18.18:14:07.254 [http-nio-8091-exec-28] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:14:07.255 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:14:07.255 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:07.255 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:14:07.494 [http-nio-8091-exec-28] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:14:07.658 [http-nio-8091-exec-28] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-18.18:14:07.658 [http-nio-8091-exec-28] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-18.18:14:07.659 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:14:07.659 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:07.659 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-18.18:14:07.871 [http-nio-8091-exec-28] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.18:14:08.031 [http-nio-8091-exec-28] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-18.18:14:08.114 [http-nio-8091-exec-28] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-18.18:14:08.114 [http-nio-8091-exec-28] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-18.18:14:08.475 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:14:08.475 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:14:08.475 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_001(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [41, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 365277144761, 103, OpenAI随机额度, 2025-03-18 18:14:08.177, create]
25-03-18.18:14:09.115 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:14:09.115 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:14:09.115 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [272, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 96956820840, {"data":{"awardId":103,"awardTitle":"OpenAI随机额度","orderId":"365277144761","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"96956820840","timestamp":1742292848177}, create]
25-03-18.18:14:09.433 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:14:09.433 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:09.433 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:09.435 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:09.435 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:09.435 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:09.435 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:09.435 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:09.435 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:09.435 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 365277144761]
25-03-18.18:14:11.195 [http-nio-8091-exec-28] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[168], headers={contentType=text/plain;charset=UTF-8, id=56ea6b82-1b46-409f-b075-e032be201c9b, timestamp=1742292851033}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:14:11.196 [http-nio-8091-exec-28] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":103,"awardTitle":"OpenAI随机额度","orderId":"365277144761","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"96956820840","timestamp":1742292848177}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:14:11.196 [http-nio-8091-exec-28] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:14:11.196 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:14:11.197 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:11.197 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 96956820840]
25-03-18.18:14:11.197 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 96956820840]
25-03-18.18:14:13.307 [http-nio-8091-exec-29] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-18.18:14:13.393 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
25-03-18.18:14:13.393 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:13.393 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:13.393 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create' UNION ALL select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:13.685 [http-nio-8091-exec-29] INFO  AbstractRaffleActivityPartake - 创建参与活动订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 userRaffleOrderEntity:null
25-03-18.18:14:13.687 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ?
25-03-18.18:14:13.687 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:13.687 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:13.687 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, total_count, total_count_surplus, day_count,
               day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? and activity_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:13.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ?
25-03-18.18:14:13.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:13.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:13.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, month, month_count, month_count_surplus
        from raffle_activity_account_month
        where user_id = ? and activity_id = ? and month = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:13.996 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ?
25-03-18.18:14:13.996 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:13.996 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:13.996 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, day, day_count, day_count_surplus
        from raffle_activity_account_day
        where user_id = ? and activity_id = ? and day = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:14.217 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0
25-03-18.18:14:14.217 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:14.217 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:14.217 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set total_count_surplus = total_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and total_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:14.715 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0
25-03-18.18:14:14.715 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:14.715 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:14.715 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_month
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03]
25-03-18.18:14:15.037 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0
25-03-18.18:14:15.037 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:15.037 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:15.037 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set month_count_surplus = month_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and month_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:15.338 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0
25-03-18.18:14:15.338 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:15.338 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:15.338 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account_day
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 2025-03-18]
25-03-18.18:14:15.607 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0
25-03-18.18:14:15.607 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:15.607 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:15.607 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update raffle_activity_account
        set day_count_surplus = day_count_surplus - 1, update_time = now()
        where user_id = ? and activity_id = ? and day_count_surplus > 0 ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-18.18:14:16.236 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_raffle_order(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(
                  ?,?, ?, ?, ?, ?, ?, ?, now(), now()
              )
25-03-18.18:14:16.236 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:14:16.236 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_raffle_order_002(
            id,user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state, create_time, update_time
        )
        values(?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [42, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 测试活动, 100006, 425458617919, 2025-03-18 18:14:13.307, create]
25-03-18.18:14:16.714 [http-nio-8091-exec-29] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:425458617919
25-03-18.18:14:16.714 [http-nio-8091-exec-29] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:14:16.715 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-18.18:14:16.715 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:16.715 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-18.18:14:16.936 [http-nio-8091-exec-29] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-18.18:14:17.114 [http-nio-8091-exec-29] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-18.18:14:17.114 [http-nio-8091-exec-29] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-18.18:14:17.115 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-18.18:14:17.115 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:17.115 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-18.18:14:17.336 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-18.18:14:17.336 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:17.336 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_1]
25-03-18.18:14:17.496 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-18.18:14:17.496 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:17.496 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_1]
25-03-18.18:14:17.617 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-18.18:14:17.617 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:17.617 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_1]
25-03-18.18:14:17.834 [http-nio-8091-exec-29] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.18:14:17.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-18.18:14:17.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:17.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:14:17.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-18.18:14:18.155 [http-nio-8091-exec-29] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-18.18:14:18.155 [http-nio-8091-exec-29] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.18:14:18.300 [http-nio-8091-exec-29] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-18.18:14:18.397 [http-nio-8091-exec-29] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-18.18:14:18.397 [http-nio-8091-exec-29] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-18.18:14:18.458 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-18.18:14:18.458 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-18.18:14:18.458 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 107]
25-03-18.18:14:19.116 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-18.18:14:19.116 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:14:19.116 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [42, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 425458617919, 107, OpenAI随机额度, 2025-03-18 18:14:18.773, create]
25-03-18.18:14:19.769 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-18.18:14:19.769 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-18.18:14:19.769 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [273, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 96332464964, {"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"425458617919","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"96332464964","timestamp":1742292858773}, create]
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:20.074 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:20.075 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:20.075 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 425458617919]
25-03-18.18:14:21.835 [http-nio-8091-exec-29] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[168], headers={contentType=text/plain;charset=UTF-8, id=f10efdb6-0c56-b47d-9536-38ed2248c168, timestamp=1742292861674}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-18.18:14:21.836 [http-nio-8091-exec-29] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"425458617919","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"96332464964","timestamp":1742292858773}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$5cc914b5.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$57d397b5.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 97 common frames omitted
25-03-18.18:14:21.836 [http-nio-8091-exec-29] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-18.18:14:21.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-18.18:14:21.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-18.18:14:21.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 96332464964]
25-03-18.18:14:21.836 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 96332464964]
25-03-18.18:15:37.993 [Thread-60       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-18.18:15:37.993 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:15:37.994 [Thread-65       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-18.18:15:37.995 [Thread-65       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-18.18:15:37.996 [Thread-60       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-18.18:15:37.996 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Waiting for modules(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:15:37.996 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:15:37.997 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291399813&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:15:38.010 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo wait for application(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown failed, time usage: 14ms, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:15:38.010 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.18:15:38.083 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742291400369&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-18.19:40:59.576 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:40:59.718 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-18.19:40:59.721 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 29244 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-18.19:40:59.722 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-18.19:41:02.163 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.191 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.318 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.319 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.387 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.388 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.415 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.418 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.463 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.717 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.717 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.732 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.733 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.742 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.743 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.772 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.772 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.781 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.786 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.787 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.791 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:02.791 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@7fb9f71f, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:03.910 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-18.19:41:03.917 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-18.19:41:04.045 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 94 ms. Found 0 Redis repository interfaces.
25-03-18.19:41:04.478 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.478 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.509 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.529 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.529 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.532 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.534 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.534 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:04.535 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-18.19:41:04.584 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.19:41:04.584 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-18.19:41:04.790 [main            ] INFO  GenericScope           - BeanFactory id=9b52d932-7ae5-3e96-bd69-bebc70329b15
25-03-18.19:41:06.104 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:06.236 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:06.237 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:06.238 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$627/1501382858] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:06.239 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:06.247 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:06.258 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:06.845 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$62a03622] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:07.169 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$1b5ed552] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:07.179 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:07.279 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath35610614.jar;D:\Program Files (x86)\IntelliJ IDEA 2023.1.7\lib\idea_rt.jar
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-18.19:41:07.291 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-18.19:41:07.292 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-18.19:41:07.292 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-18.19:41:07.292 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-18.19:41:07.292 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=163MB
25-03-18.19:41:07.292 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-18.19:41:07.292 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=453MB
25-03-18.19:41:07.295 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@2d2fc130
25-03-18.19:41:07.300 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-18.19:41:07.318 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-18.19:41:07.326 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-18.19:41:07.339 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-18.19:41:07.344 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-18.19:41:19.088 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-18.19:41:19.088 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-18.19:41:19.136 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.224.6.117:62080, server: 117.72.36.124/117.72.36.124:2181
25-03-18.19:41:19.241 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500b1, negotiated timeout = 30000
25-03-18.19:41:19.251 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-18.19:41:19.325 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.19:41:19.326 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-18.19:41:19.339 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-18.19:41:19.424 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-18.19:41:19.486 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-18.19:41:19.487 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-18.19:41:19.875 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-18.19:41:19.894 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-18.19:41:19.895 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-18.19:41:19.895 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-18.19:41:20.363 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-18.19:41:20.364 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 20236 ms
25-03-18.19:41:21.417 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-18.19:41:23.095 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-18.19:41:23.111 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-18.19:41:23.558 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-18.19:41:23.559 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-18.19:41:24.183 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-18.19:41:27.483 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:27.492 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:27.580 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:27.581 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:27.590 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:27.720 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.19:41:27.720 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.19:41:32.586 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.586 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.631 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.632 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.632 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.632 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.632 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.670 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.677 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.882 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.882 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.889 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:32.922 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.19:41:32.922 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.19:41:33.177 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:41:33.269 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-18.19:41:33.939 [main            ] INFO  Version                - Redisson 3.23.4
25-03-18.19:41:35.282 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.19:41:35.923 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-18.19:41:42.882 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-18.19:41:42.905 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-18.19:41:42.928 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-18.19:41:43.470 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-18.19:41:43.766 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-18.19:41:46.418 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.19:41:46.718 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-03-18.19:41:46.737 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-03-18.19:41:46.737 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-03-18.19:41:46.738 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-03-18.19:41:46.739 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-03-18.19:41:46.739 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-03-18.19:41:46.739 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-03-18.19:41:46.739 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@60bd11f7
25-03-18.19:41:50.273 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.19:41:50.435 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-18.19:41:50.443 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-18.19:41:50.729 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@7a725c89[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-18.19:41:50.730 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@13c147f8[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-18.19:41:50.730 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@5936e4ba[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-18.19:41:50.885 [Thread-143      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-18.19:41:53.374 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.19:41:53.374 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-18.19:41:55.497 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.19:41:55.497 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-18.19:41:57.641 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.19:41:57.641 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-18.19:42:00.945 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-18.19:42:00.946 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-18.19:42:01.083 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-18.19:42:01.113 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-18.19:42:03.156 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-18.19:42:03.429 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-03-18.19:42:03.430 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-03-18.19:42:03.432 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:03.434 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:04.849 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-18.19:42:05.064 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.067 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742298123520&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.069 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.373 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /192.168.254.1:20880, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.474 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.505 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.19:42:05.505 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.19:42:05.792 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.809 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.830 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.870 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:05.912 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-18.19:42:05.912 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-18.19:42:06.166 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.167 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.256 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:06.256 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.292 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:06.292 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.315 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.317 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@778549d8; definition: FullServiceDefinition{parameters={version=1.0, pid=29244, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, application=big-market, release=3.2.5, anyhost=true, side=provider, dubbo=2.0.2, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=192.168.254.1, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742298123520}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.360 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.417 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742298126380&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.419 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.458 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.662 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.697 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:06.697 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.732 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:06.733 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.734 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.735 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@5f22eadd; definition: FullServiceDefinition{parameters={version=1.0, pid=29244, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, application=big-market, release=3.2.5, anyhost=true, side=provider, dubbo=2.0.2, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=192.168.254.1, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742298126380}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.773 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.807 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742298126785&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.813 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:06.855 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.098 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.159 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:07.160 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.161 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.161 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@1ef0c08f; definition: FullServiceDefinition{parameters={version=1.0, pid=29244, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, application=big-market, release=3.2.5, anyhost=true, side=provider, group=big-market, dubbo=2.0.2, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=192.168.254.1, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742298126785}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.203 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.205 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.205 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.206 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.207 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.216 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.217 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.349 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742298127284&version=1.0.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.349 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://192.168.254.1:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742298127284&version=1.0.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.432 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.473 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://192.168.254.1:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742298127284&version=1.0.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.651 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://192.168.254.1:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742298127284&version=1.0.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.686 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:07.687 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742298127284&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.688 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.688 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.688 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://192.168.254.1:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742298127284&version=1.0.0], dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.690 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.718 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.737 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29244&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742298123477, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.738 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.784 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29244&qos.enable=true&register=false&release=3.2.5&timestamp=1742298123477, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.786 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29244&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742298126380, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.787 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.819 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29244&qos.enable=true&register=false&release=3.2.5&timestamp=1742298126380, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.820 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29244&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742298126784, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:07.821 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:08.107 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=29244&qos.enable=true&register=false&release=3.2.5&timestamp=1742298126784, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:08.115 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:08.167 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:08.167 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:08.191 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-18.19:42:08.212 [main            ] INFO  Application            - Started Application in 73.093 seconds (JVM running for 75.114)
25-03-18.19:42:08.375 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:08.377 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:08.390 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 192.168.254.1, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-18.19:42:08.391 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:08.643 [RMI TCP Connection(5)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-18.19:42:08.643 [RMI TCP Connection(5)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-18.19:42:08.648 [RMI TCP Connection(5)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 5 ms
25-03-18.19:42:15.604 [Thread-74       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-18.19:42:15.604 [Thread-69       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-18.19:42:15.605 [Thread-74       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-18.19:42:15.604 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.607 [Thread-69       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-18.19:42:15.609 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.609 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.612 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.647 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.681 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.715 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.716 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298123520&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.719 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.719 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126380&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.719 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.721 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://192.168.254.1:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=192.168.254.1&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=29244&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742298126785&version=1.0, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.722 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.723 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.723 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.755 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.755 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /192.168.254.1:20880, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-18.19:42:15.755 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /192.168.254.1:20880, dubbo version: 3.2.5, current host: 192.168.254.1
25-03-19.20:01:25.943 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:26.117 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-19.20:01:26.121 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 17100 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-19.20:01:26.123 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-19.20:01:28.391 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.426 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.572 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.573 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.648 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.649 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.677 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.679 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.715 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.976 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.977 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.994 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:28.994 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.004 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.005 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.033 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.033 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.042 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.050 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.051 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.055 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.055 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@2b329bbd, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:29.957 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-19.20:01:29.962 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-19.20:01:30.078 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
25-03-19.20:01:30.505 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.507 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.540 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.561 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.562 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.564 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.566 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.566 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:30.567 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-19.20:01:30.572 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-19.20:01:30.572 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-19.20:01:30.766 [main            ] INFO  GenericScope           - BeanFactory id=eb94c24b-1908-32a7-b2d9-01ef0ab62b6a
25-03-19.20:01:32.097 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:32.233 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.236 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.237 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$584/24138677] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.238 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.245 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.253 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.257 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.260 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.265 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.269 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:32.624 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$b373ba7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:33.004 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$1c1f1697] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:33.017 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:33.124 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-19.20:01:33.136 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-19.20:01:33.136 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-19.20:01:33.136 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath75089483.jar;C:\Users\14783\AppData\Local\JetBrains\IntelliJIdea2023.1\captureAgent\debugger-agent.jar
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=192MB
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-19.20:01:33.137 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=400MB
25-03-19.20:01:33.142 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@d08f85a
25-03-19.20:01:33.147 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-19.20:01:33.167 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-19.20:01:33.178 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-19.20:01:33.193 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-19.20:01:33.199 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:01:44.864 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-19.20:01:44.864 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-19.20:01:44.896 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.224.6.117:64293, server: 117.72.36.124/117.72.36.124:2181
25-03-19.20:01:45.026 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500bb, negotiated timeout = 30000
25-03-19.20:01:45.037 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-19.20:01:45.085 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-19.20:01:45.085 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-19.20:01:45.094 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-19.20:01:45.191 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-19.20:01:45.259 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-19.20:01:45.266 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-19.20:01:45.686 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-19.20:01:45.709 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-19.20:01:45.710 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-19.20:01:45.710 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-19.20:01:45.971 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-19.20:01:45.971 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 19456 ms
25-03-19.20:01:46.178 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-19.20:01:48.139 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-19.20:01:48.164 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-19.20:01:48.635 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-19.20:01:48.635 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-19.20:01:49.253 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-19.20:01:49.346 [main            ] INFO  ConfigurationLogger    - ShardingRuleConfiguration:
{}

25-03-19.20:01:49.350 [main            ] INFO  ConfigurationLogger    - Properties:
sql-show: 'true'

25-03-19.20:01:49.529 [main            ] INFO  ShardingSphere-metadata - Loading 0 logic tables' meta data.
25-03-19.20:01:49.533 [main            ] INFO  ShardingSphere-metadata - Meta data load finished, cost 183 milliseconds.
25-03-19.20:01:49.974 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:49.982 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:50.084 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:50.087 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:50.097 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:50.228 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:01:50.228 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:01:54.452 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.452 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.497 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.502 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.503 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.503 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.503 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.550 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.556 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.792 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.792 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.799 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:54.833 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:01:54.833 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:01:55.086 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:01:55.166 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-19.20:01:55.576 [main            ] INFO  Version                - Redisson 3.23.4
25-03-19.20:01:56.745 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-19.20:01:58.423 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-19.20:02:04.076 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-19.20:02:04.096 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-19.20:02:04.115 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-19.20:02:04.534 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-19.20:02:04.866 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-19.20:02:07.310 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:02:10.571 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:02:10.702 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-19.20:02:10.710 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-19.20:02:10.950 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@21aa0ec5[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-19.20:02:10.950 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@7cf1bf54[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-19.20:02:10.950 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@3919e2d7[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-19.20:02:11.114 [Thread-129      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-19.20:02:13.075 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:02:13.076 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-19.20:02:15.191 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:02:15.191 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-19.20:02:17.161 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:02:17.161 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-19.20:02:19.245 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:02:19.245 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-19.20:02:19.370 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-19.20:02:19.408 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-19.20:02:21.322 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:02:21.623 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:21.625 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:23.038 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-19.20:02:23.250 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:23.254 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742385741797&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:23.255 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:23.883 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:23.975 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.007 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:02:24.007 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:02:24.305 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.317 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.333 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.374 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.413 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:02:24.413 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:02:24.677 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.678 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.731 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:24.731 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.861 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:24.861 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.889 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.906 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@494b019b; definition: FullServiceDefinition{parameters={anyhost=true, release=3.2.5, side=provider, dubbo=2.0.2, application=big-market, pid=17100, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742385741797}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:24.959 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.012 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742385744984&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.012 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.054 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.279 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.312 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:25.313 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.347 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:25.348 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.350 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.350 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@31f7ce0c; definition: FullServiceDefinition{parameters={anyhost=true, release=3.2.5, side=provider, dubbo=2.0.2, application=big-market, pid=17100, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742385744984}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.388 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.409 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742385745396&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.410 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.449 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.654 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.693 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:25.693 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.694 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.694 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@68afab5c; definition: FullServiceDefinition{parameters={anyhost=true, release=3.2.5, side=provider, dubbo=2.0.2, application=big-market, pid=17100, version=1.0, group=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742385745396}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.788 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.788 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.788 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.789 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.789 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.799 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.800 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.915 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742385745868&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.915 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742385745868&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:25.996 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.031 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742385745868&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.188 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742385745868&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.223 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:26.223 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742385745868&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.224 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.224 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.224 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742385745868&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.232 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.257 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.271 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=17100&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742385741674, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.271 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.313 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=17100&qos.enable=true&register=false&release=3.2.5&timestamp=1742385741674, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.314 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=17100&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742385744983, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.314 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.345 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=17100&qos.enable=true&register=false&release=3.2.5&timestamp=1742385744983, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.346 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=17100&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742385745396, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.346 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.378 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=17100&qos.enable=true&register=false&release=3.2.5&timestamp=1742385745396, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.386 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.465 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-19.20:02:26.497 [main            ] INFO  Application            - Started Application in 64.871 seconds (JVM running for 67.849)
25-03-19.20:02:26.716 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:26.716 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.824 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:26.825 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:26.936 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:02:26.938 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=17100&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:02:28.113 [RMI TCP Connection(3)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-19.20:02:28.113 [RMI TCP Connection(3)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-19.20:02:28.116 [RMI TCP Connection(3)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 3 ms
25-03-19.20:02:28.233 [RMI TCP Connection(4)-172.25.176.1] WARN  DataSourceHealthIndicator - DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:94)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:88)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.GeneratedMethodAccessor180.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy222.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 47 common frames omitted
25-03-19.20:03:24.842 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:30:45.359 [HikariPool-3 housekeeper] WARN  HikariPool             - HikariPool-3 - Thread starvation or clock leap detected (housekeeper delta=26m55s959ms256µs800ns).
25-03-19.20:30:45.371 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping meta caches, latest entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:30:45.372 [Dubbo-framework-cache-refreshing-scheduler-thread-1] INFO  AbstractCacheManager$CacheRefreshTask -  [DUBBO] Dumping mapping caches, latest entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:30:45.390 [HikariPool-2 housekeeper] WARN  HikariPool             - HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=26m56s621ms692µs200ns).
25-03-19.20:30:45.390 [HikariPool-1 housekeeper] WARN  HikariPool             - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=26m57s22ms594µs900ns).
25-03-19.20:30:45.390 [main-SendThread(117.72.36.124:2181)] WARN  ClientCnxn             - Client session timed out, have not heard from server in 1610502ms for session id 0x1000000414500bb
25-03-19.20:30:45.567 [main-EventThread] INFO  ConnectionStateManager - State change: SUSPENDED
25-03-19.20:30:45.855 [Thread-59       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-19.20:30:45.855 [Thread-64       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-19.20:30:45.857 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:30:45.857 [Thread-64       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-19.20:30:45.860 [Thread-59       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-19.20:30:45.860 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:30:45.860 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:30:45.863 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385744984&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:30:45.902 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385745396&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:30:45.941 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742385741797&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:46.383 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:46.464 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-19.20:32:46.487 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 32896 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-19.20:32:46.488 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-19.20:32:47.806 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:47.826 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:47.916 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:47.917 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:47.968 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:47.969 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:47.995 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:47.997 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.024 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.223 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.223 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.236 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.236 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.245 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.246 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.270 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.270 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.278 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.285 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.285 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.289 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.290 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@5782d777, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:48.826 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-19.20:32:48.830 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-19.20:32:48.889 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
25-03-19.20:32:49.147 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.148 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.163 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.176 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.177 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.179 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.180 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.180 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:49.180 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-19.20:32:49.184 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-19.20:32:49.184 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-19.20:32:49.286 [main            ] INFO  GenericScope           - BeanFactory id=eb94c24b-1908-32a7-b2d9-01ef0ab62b6a
25-03-19.20:32:50.110 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:32:50.223 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.224 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.225 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$584/622897669] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.226 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.232 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.241 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.sharding-org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.sharding.SpringBootShardingRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.244 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.masterslave-org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.masterslave.SpringBootMasterSlaveRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.248 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.encrypt-org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.encrypt.SpringBootEncryptRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.252 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere.shadow-org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.shadow.SpringBootShadowRuleConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.256 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.common.SpringBootPropertiesConfigurationProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.551 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration' of type [org.apache.shardingsphere.shardingjdbc.spring.boot.SpringBootConfiguration$$EnhancerBySpringCGLIB$$65503ffc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.868 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$76381aec] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.875 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:32:50.935 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-19.20:32:50.943 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath12942220.jar;C:\Users\14783\AppData\Local\JetBrains\IntelliJIdea2023.1\captureAgent\debugger-agent.jar
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=110MB
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-19.20:32:50.944 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=505MB
25-03-19.20:32:50.947 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@14ad42
25-03-19.20:32:50.950 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-19.20:32:50.962 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-19.20:32:50.968 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-19.20:32:50.998 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-19.20:32:51.004 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:33:03.313 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-19.20:33:03.314 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-19.20:33:03.374 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.224.6.117:50449, server: 117.72.36.124/117.72.36.124:2181
25-03-19.20:33:03.488 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500bc, negotiated timeout = 30000
25-03-19.20:33:03.496 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-19.20:33:03.533 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-19.20:33:03.533 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-19.20:33:03.542 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-19.20:33:03.686 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-19.20:33:03.765 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-19.20:33:03.765 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-19.20:33:03.837 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-19.20:33:03.848 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-19.20:33:03.849 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-19.20:33:03.849 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-19.20:33:03.988 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-19.20:33:03.988 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 17259 ms
25-03-19.20:33:04.105 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-19.20:33:05.275 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-19.20:33:05.288 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-19.20:33:05.755 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-19.20:33:05.755 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-19.20:33:06.393 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-19.20:33:06.442 [main            ] INFO  ConfigurationLogger    - ShardingRuleConfiguration:
{}

25-03-19.20:33:06.445 [main            ] INFO  ConfigurationLogger    - Properties:
sql-show: 'true'

25-03-19.20:33:06.685 [main            ] INFO  ShardingSphere-metadata - Loading 0 logic tables' meta data.
25-03-19.20:33:06.687 [main            ] INFO  ShardingSphere-metadata - Meta data load finished, cost 242 milliseconds.
25-03-19.20:33:06.953 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:06.958 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:07.014 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:07.015 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:07.021 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:07.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:33:07.082 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:33:09.284 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.284 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.309 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.310 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.310 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.312 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.312 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.338 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.342 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.465 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.465 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.469 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.492 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:33:09.492 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:33:09.743 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:09.805 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-19.20:33:10.039 [main            ] INFO  Version                - Redisson 3.23.4
25-03-19.20:33:10.696 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-19.20:33:11.458 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-19.20:33:14.220 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-19.20:33:14.231 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-19.20:33:14.243 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-19.20:33:14.477 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-19.20:33:14.643 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-19.20:33:16.405 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:33:18.581 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:33:18.656 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-19.20:33:18.661 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-19.20:33:18.792 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@1cf38112[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-19.20:33:18.792 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@59e6fb8a[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-19.20:33:18.792 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@502cd238[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-19.20:33:18.932 [Thread-98       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-19.20:33:20.100 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:33:20.100 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-19.20:33:21.138 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:33:21.138 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-19.20:33:23.163 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:33:23.163 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-19.20:33:24.208 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:33:24.208 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-19.20:33:24.279 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-19.20:33:24.297 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-19.20:33:25.777 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:33:26.040 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:26.041 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:26.872 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-19.20:33:26.985 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:26.986 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742387606218&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:26.987 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:27.375 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:27.427 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:27.444 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:33:27.444 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:33:27.715 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:27.721 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:27.730 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:27.767 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.083 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:33:28.083 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:33:28.667 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.668 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.712 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:28.713 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.749 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:28.749 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.760 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.761 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@10be5db9; definition: FullServiceDefinition{parameters={dubbo=2.0.2, version=1.0, release=3.2.5, anyhost=true, pid=32896, side=provider, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742387606218}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.812 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.844 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742387608825&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:28.845 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.167 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.200 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.240 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:29.240 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.284 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:29.284 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.285 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.285 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@78464ed4; definition: FullServiceDefinition{parameters={dubbo=2.0.2, version=1.0, release=3.2.5, anyhost=true, pid=32896, side=provider, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742387608825}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.320 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.333 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742387609325&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.334 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.369 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.574 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.639 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:29.639 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.640 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.640 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@12b23ef3; definition: FullServiceDefinition{parameters={dubbo=2.0.2, group=big-market, version=1.0, release=3.2.5, anyhost=true, pid=32896, side=provider, application=big-market, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742387609325}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.676 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.677 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.677 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.677 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.678 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.683 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.683 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.761 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.762 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.832 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:29.865 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.027 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.059 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:30.059 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.059 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.059 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.059 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.060 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.076 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.086 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=32896&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742387606064, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.086 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.122 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=32896&qos.enable=true&register=false&release=3.2.5&timestamp=1742387606064, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.123 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=32896&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742387608824, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.123 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.155 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=32896&qos.enable=true&register=false&release=3.2.5&timestamp=1742387608824, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.156 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=32896&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742387609325, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.156 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.187 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=32896&qos.enable=true&register=false&release=3.2.5&timestamp=1742387609325, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.193 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.248 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:30.248 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.249 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-19.20:33:30.260 [main            ] INFO  Application            - Started Application in 46.718 seconds (JVM running for 47.914)
25-03-19.20:33:30.575 [RMI TCP Connection(3)-172.25.176.1] WARN  DataSourceHealthIndicator - DataSource health check failed
org.springframework.dao.InvalidDataAccessApiUsageException: ConnectionCallback; isValid; nested exception is java.sql.SQLFeatureNotSupportedException: isValid
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:96)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:342)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:130)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:116)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:94)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:88)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLFeatureNotSupportedException: isValid
	at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationConnection.isValid(AbstractUnsupportedOperationConnection.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.jdbc.core.JdbcTemplate$CloseSuppressingInvocationHandler.invoke(JdbcTemplate.java:1614)
	at com.sun.proxy.$Proxy222.isValid(Unknown Source)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.isConnectionValid(DataSourceHealthIndicator.java:134)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:334)
	... 48 common frames omitted
25-03-19.20:33:30.611 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:30.611 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:30.725 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:33:30.726 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:33:31.373 [RMI TCP Connection(5)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-19.20:33:31.373 [RMI TCP Connection(5)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-19.20:33:31.375 [RMI TCP Connection(5)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 2 ms
25-03-19.20:33:48.221 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.316 [http-nio-8091-exec-6] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.317 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.317 [http-nio-8091-exec-9] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.318 [http-nio-8091-exec-11] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.318 [http-nio-8091-exec-10] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.318 [http-nio-8091-exec-4] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.318 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.318 [http-nio-8091-exec-5] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.318 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.319 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.320 [http-nio-8091-exec-13] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.322 [http-nio-8091-exec-8] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.325 [http-nio-8091-exec-14] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.325 [http-nio-8091-exec-15] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.328 [http-nio-8091-exec-17] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.328 [http-nio-8091-exec-18] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.329 [http-nio-8091-exec-21] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.329 [http-nio-8091-exec-20] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.330 [http-nio-8091-exec-23] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.330 [http-nio-8091-exec-16] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.330 [http-nio-8091-exec-22] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.329 [http-nio-8091-exec-19] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.330 [http-nio-8091-exec-24] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:51.330 [http-nio-8091-exec-25] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:33:52.784 [http-nio-8091-exec-14] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.784 [http-nio-8091-exec-9] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.784 [http-nio-8091-exec-3] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.787 [http-nio-8091-exec-4] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.796 [http-nio-8091-exec-13] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.786 [http-nio-8091-exec-12] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.801 [http-nio-8091-exec-6] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.786 [http-nio-8091-exec-7] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.795 [http-nio-8091-exec-10] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.796 [http-nio-8091-exec-1] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.797 [http-nio-8091-exec-11] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.797 [http-nio-8091-exec-15] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.803 [http-nio-8091-exec-17] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.837 [http-nio-8091-exec-8] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.839 [http-nio-8091-exec-16] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.844 [http-nio-8091-exec-21] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.851 [http-nio-8091-exec-18] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.854 [http-nio-8091-exec-19] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.855 [http-nio-8091-exec-5] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.GeneratedMethodAccessor233.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:33:52.863 [http-nio-8091-exec-25] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.872 [http-nio-8091-exec-20] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.872 [http-nio-8091-exec-22] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.GeneratedMethodAccessor233.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.876 [http-nio-8091-exec-24] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.878 [http-nio-8091-exec-23] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor205.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 92 common frames omitted
25-03-19.20:33:52.963 [http-nio-8091-exec-2] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserRaffleOrderDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserRaffleOrderDao.queryNoUsedRaffleOrder-Inline
### The error occurred while setting parameters
### SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state         from user_raffle_order         where user_id = ? and activity_id = ? and order_state = 'create'         for update
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:108)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy169.queryNoUsedRaffleOrder(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryNoUsedRaffleOrder(ActivityRepository.java:341)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryNoUsedRaffleOrder(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:51)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.partake.AbstractRaffleActivityPartake.createOrder(AbstractRaffleActivityPartake.java:72)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:128)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_02.user_raffle_order' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 94 common frames omitted
25-03-19.20:38:11.593 [http-nio-8091-exec-31] WARN  DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'activityId' for method parameter type Long is present but converted to null]
25-03-19.20:38:18.551 [http-nio-8091-exec-32] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-19.20:38:18.680 [http-nio-8091-exec-32] ERROR RaffleActivityController - 活动装配，数据预热，失败 activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.raffle_activity_sku' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\RaffleActivitySkuDao.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount            from raffle_activity_sku         where  activity_id=?
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_02.raffle_activity_sku' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_02.raffle_activity_sku' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:177)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:78)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy163.queryActivitySkuListByActivityId(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryActivitySkuListByActivityId(ActivityRepository.java:564)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryActivitySkuListByActivityId(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.armory.ActivityArmory.assembleActivitySkuByActivityId(ActivityArmory.java:52)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.armory(RaffleActivityController.java:97)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.armory(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_02.raffle_activity_sku' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.GeneratedMethodAccessor233.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
25-03-19.20:38:19.896 [http-nio-8091-exec-33] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-19.20:38:20.032 [http-nio-8091-exec-33] ERROR RaffleActivityController - 活动装配，数据预热，失败 activityId:100401
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.raffle_activity_sku' doesn't exist
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\RaffleActivitySkuDao.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount            from raffle_activity_sku         where  activity_id=?
### Cause: java.sql.SQLSyntaxErrorException: Table 'big_market_01.raffle_activity_sku' doesn't exist
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Table 'big_market_01.raffle_activity_sku' doesn't exist
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy161.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:177)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:78)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy163.queryActivitySkuListByActivityId(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository.queryActivitySkuListByActivityId(ActivityRepository.java:564)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$FastClassBySpringCGLIB$$8a1ff5ba.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.ActivityRepository$$EnhancerBySpringCGLIB$$af97d63d.queryActivitySkuListByActivityId(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.activity.service.armory.ActivityArmory.assembleActivitySkuByActivityId(ActivityArmory.java:52)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.armory(RaffleActivityController.java:97)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$ff37f054.armory(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Table 'big_market_01.raffle_activity_sku' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:62)
	at org.apache.shardingsphere.shardingjdbc.executor.SQLExecuteCallbackFactory$2.executeSQL(SQLExecuteCallbackFactory.java:58)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute0(SQLExecuteCallback.java:82)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteCallback.execute(SQLExecuteCallback.java:58)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.syncExecute(ExecutorEngine.java:97)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.parallelExecute(ExecutorEngine.java:93)
	at org.apache.shardingsphere.underlying.executor.engine.ExecutorEngine.execute(ExecutorEngine.java:76)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:68)
	at org.apache.shardingsphere.sharding.execute.sql.execute.SQLExecuteTemplate.execute(SQLExecuteTemplate.java:51)
	at org.apache.shardingsphere.shardingjdbc.executor.AbstractStatementExecutor.executeCallback(AbstractStatementExecutor.java:129)
	at org.apache.shardingsphere.shardingjdbc.executor.PreparedStatementExecutor.execute(PreparedStatementExecutor.java:148)
	at org.apache.shardingsphere.shardingjdbc.jdbc.core.statement.ShardingPreparedStatement.execute(ShardingPreparedStatement.java:145)
	at sun.reflect.GeneratedMethodAccessor233.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy226.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doQuery(MybatisSimpleExecutor.java:67)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:155)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
25-03-19.20:40:05.902 [Thread-50       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Start destroying common HttpClient
25-03-19.20:40:05.902 [Thread-55       ] WARN  NotifyCenter           - [NotifyCenter] Start destroying Publisher
25-03-19.20:40:05.902 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Run shutdown hook now., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:05.903 [Thread-55       ] WARN  NotifyCenter           - [NotifyCenter] Destruction of the end
25-03-19.20:40:05.905 [Thread-50       ] WARN  HttpClientBeanHolder   - [HttpClientBeanHolder] Destruction of the end
25-03-19.20:40:05.905 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:05.905 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Waiting for modules(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:05.909 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:05.930 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo wait for application(Dubbo Application[1.1](big-market)) managed by Spring to be shutdown failed, time usage: 25ms, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:05.930 [DubboShutdownHook] INFO  DubboShutdownHook      -  [DUBBO] Dubbo shutdown hooks execute now. Dubbo Application[1.1](big-market), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:05.944 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:05.980 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.097 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.097 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387606218&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.102 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.102 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.103 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unregister: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.105 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387609325&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.106 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.106 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default application from Dubbo Application[1.1](big-market) to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.107 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.149 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Destroying protocol [DubboProtocol] ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.151 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Closing dubbo server: /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.156 [SpringApplicationShutdownHook] INFO  AbstractServer         -  [DUBBO] Close NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:06.524 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:40:06.524 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742387608825&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.249 [SpringApplicationShutdownHook] INFO  DubboProtocol          -  [DUBBO] Unexport service: dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.249 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.253 [SpringApplicationShutdownHook] INFO  InjvmProtocol          -  [DUBBO] Unexport service: injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.253 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.254 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.254 [SpringApplicationShutdownHook] INFO  Server                 -  [DUBBO] qos-server stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.254 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.256 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.257 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=32896&qos.enable=true&register=false&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=32896&qos.enable=true&release=3.2.5, nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=32896&qos.enable=true&register=false&release=3.2.5], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.257 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy registry:nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&interface=org.apache.dubbo.registry.RegistryService&pid=32896&qos.enable=true&register=false&release=3.2.5, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.257 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Unsubscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.287 [SpringApplicationShutdownHook] INFO  NacosRegistry          -  [DUBBO] Destroy unsubscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=32896&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742387609737&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.629 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.630 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.635 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Destroying default framework model: Dubbo Framework[1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.635 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroying ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.635 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.635 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] is stopping., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.635 [SpringApplicationShutdownHook] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.0.0] has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.636 [SpringApplicationShutdownHook] INFO  RegistryManager        -  [DUBBO] Close all registries [], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.636 [SpringApplicationShutdownHook] INFO  DefaultExecutorRepository -  [DUBBO] destroying application executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.636 [SpringApplicationShutdownHook] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.0](DUBBO_INTERNAL_APPLICATION) has stopped., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.636 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.636 [SpringApplicationShutdownHook] INFO  FrameworkModel         -  [DUBBO] Reset global default framework from Dubbo Framework[1] to null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.637 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Destroying global resources ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.637 [SpringApplicationShutdownHook] INFO  GlobalResourcesRepository -  [DUBBO] Dubbo is completely destroyed, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.638 [SpringApplicationShutdownHook] INFO  FrameworkExecutorRepository -  [DUBBO] destroying framework executor repository .., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.640 [SpringApplicationShutdownHook] INFO  DubboSpringInitializer -  [DUBBO] Unbind Dubbo Module[1.1.1] from spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@5782d777, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:08.652 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-19.20:40:08.655 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-19.20:40:08.658 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-19.20:40:08.662 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-19.20:40:09.381 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:40:09.381 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:40:09.381 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:40:09.382 [SpringApplicationShutdownHook] INFO  DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:40:09.466 [Thread-98       ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server stop.
25-03-19.20:40:09.496 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job registry-remove success, registryParam:RegistryParam{registryGroup='EXECUTOR', registryKey='big-market-job', registryValue='http://wenzhuo.natapp1.cc'}, registryResult:ReturnT [code=200, msg=null, content=null]
25-03-19.20:40:09.496 [xxl-job, executor ExecutorRegistryThread] INFO  ExecutorRegistryThread - >>>>>>>>>>> xxl-job, executor registry thread destroy.
25-03-19.20:40:09.496 [SpringApplicationShutdownHook] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server destroy success.
25-03-19.20:40:09.497 [xxl-job, executor JobLogFileCleanThread] INFO  JobLogFileCleanThread  - >>>>>>>>>>> xxl-job, executor JobLogFileCleanThread thread destroy.
25-03-19.20:40:09.497 [xxl-job, executor TriggerCallbackThread] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor callback thread destroy.
25-03-19.20:40:09.497 [Thread-97       ] INFO  TriggerCallbackThread  - >>>>>>>>>>> xxl-job, executor retry callback thread destroy.
25-03-19.20:40:09.506 [NettyClientSelector_1] INFO  RocketmqRemoting       - closeChannel: close the connection to remote address[117.72.36.124:9876] result: true
25-03-19.20:40:09.585 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
25-03-19.20:40:09.607 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
25-03-19.20:40:09.607 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown initiated...
25-03-19.20:40:09.626 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-2 - Shutdown completed.
25-03-19.20:40:09.626 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown initiated...
25-03-19.20:40:09.634 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-3 - Shutdown completed.
25-03-19.20:40:09.637 [Curator-Framework-0] INFO  CuratorFrameworkImpl   - backgroundOperationsLoop exiting
25-03-19.20:40:09.775 [SpringApplicationShutdownHook] INFO  ZooKeeper              - Session: 0x1000000414500bc closed
25-03-19.20:40:09.775 [main-EventThread] INFO  ClientCnxn             - EventThread shut down for session: 0x1000000414500bc
25-03-19.20:40:30.331 [main            ] INFO  WelcomeLogoApplicationListener -  [DUBBO] 

 :: Dubbo (v3.2.5) : https://github.com/apache/dubbo
 :: Discuss group : dev@dubbo.apache.org
, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:30.506 [background-preinit] INFO  Version                - HV000001: Hibernate Validator 6.2.5.Final
25-03-19.20:40:30.519 [main            ] INFO  Application            - Starting Application using Java 1.8.0_321 on 4657001021 with PID 15356 (E:\code\java\idea\big-market\big-market-app\target\classes started by 14783 in E:\code\java\idea\big-market)
25-03-19.20:40:30.532 [main            ] INFO  Application            - The following 1 profile is active: "dev"
25-03-19.20:40:32.939 [main            ] INFO  FrameworkModel         -  [DUBBO] Dubbo Framework[1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:32.967 [main            ] INFO  GlobalResourcesRepository -  [DUBBO] Creating global shared handler ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.100 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.0](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.102 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.0.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.174 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.175 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.205 [main            ] INFO  SerializeSecurityManager -  [DUBBO] Serialize check serializable: true, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.207 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.240 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.483 [main            ] INFO  ApplicationModel       -  [DUBBO] Dubbo Application[1.1](unknown) is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.483 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.0] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.502 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.503 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.515 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.516 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.546 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default application: Dubbo Application[1.1](unknown), dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.546 [main            ] INFO  ScopeModel             -  [DUBBO] Dubbo Module[1.1.1] is created, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.557 [main            ] INFO  AbstractConfigManager  -  [DUBBO] Config settings: {dubbo.config.mode=STRICT, dubbo.config.ignore-duplicated-interface=false}, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.565 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize allow list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.allowlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.565 [main            ] INFO  SerializeSecurityConfigurator -  [DUBBO] Read serialize blocked list from jar:file:/D:/maven/local-maven/org/apache/dubbo/dubbo/3.2.5/dubbo-3.2.5.jar!/security/serialize.blockedlist, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.570 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Use default module model of target application: Dubbo Module[1.1.1], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:33.570 [main            ] INFO  DubboSpringInitializer -  [DUBBO] Bind Dubbo Module[1.1.1] to spring container: org.springframework.beans.factory.support.DefaultListableBeanFactory@664e5dee, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:34.561 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-03-19.20:40:34.567 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-03-19.20:40:34.671 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 73 ms. Found 0 Redis repository interfaces.
25-03-19.20:40:35.124 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.124 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.156 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Found 3 classes annotated by Dubbo @Service under package [cn.wenzhuo4657.BigMarket]: [cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController, cn.wenzhuo4657.BigMarket.trigger.http.RaffleStrategyController, cn.wenzhuo4657.BigMarket.trigger.rpc.RebateServiceRPC], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.178 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.178 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0:]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.182 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] Register ServiceBean[ServiceBean:cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0:big-market]: Root bean: class [org.apache.dubbo.config.spring.ServiceBean]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.183 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator bean can't be found in BeanFactory with name [org.springframework.context.annotation.internalConfigurationBeanNameGenerator], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.183 [main            ] INFO  ServiceAnnotationPostProcessor -  [DUBBO] BeanNameGenerator will be a instance of org.springframework.context.annotation.AnnotationBeanNameGenerator , it maybe a potential problem on bean name generation., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:35.185 [main            ] WARN  ServiceAnnotationPostProcessor -  [DUBBO] No class annotated by Dubbo @Service was found under package [cn.wenzhuo4657.trigger.api], ignore re-scanned classes: 0, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-28. This may be caused by No annotations were found on the class, go to https://dubbo.apache.org/faq/5/28 to find instructions. 
25-03-19.20:40:35.241 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboRelaxedBinding2AutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-19.20:40:35.243 [main            ] INFO  ConfigurationClassPostProcessor - Cannot enhance @Configuration bean definition 'org.apache.dubbo.spring.boot.autoconfigure.DubboAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
25-03-19.20:40:35.461 [main            ] INFO  GenericScope           - BeanFactory id=9b52d932-7ae5-3e96-bd69-bebc70329b15
25-03-19.20:40:36.734 [main            ] INFO  ReferenceAnnotationBeanPostProcessor -  [DUBBO] class org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor was destroying!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:36.879 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:36.881 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:36.882 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$627/359659279] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:36.883 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:36.890 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'stringToNoneShardingStrategyConfigurationConverter' of type [org.apache.shardingsphere.spring.boot.converter.StringToNoneShardingStrategyConfigurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:36.904 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.shardingsphere-org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration' of type [org.apache.shardingsphere.spring.boot.prop.SpringBootPropertiesConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:37.576 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration' of type [org.apache.shardingsphere.spring.boot.ShardingSphereAutoConfiguration$$EnhancerBySpringCGLIB$$7204dd86] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:37.987 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zooKeeperClientConfig' of type [cn.wenzhuo4657.BigMarket.config.ZooKeeperClientConfig$$EnhancerBySpringCGLIB$$2ac37cb6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:37.996 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeper.sdk.config-cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties' of type [cn.wenzhuo4657.BigMarket.config.ZookeeperClientConfigProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:38.097 [main            ] INFO  CuratorFrameworkImpl   - Starting
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:host.name=4657001021.mshome.net
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:java.version=1.8.0_321
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:java.vendor=Oracle Corporation
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:java.home=C:\Program Files\Java\jdk1.8.0_321\jre
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:java.class.path=C:\Users\14783\AppData\Local\Temp\classpath1810871553.jar;C:\Users\14783\AppData\Local\JetBrains\IntelliJIdea2023.1\captureAgent\debugger-agent.jar
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:java.library.path=C:\Program Files\Java\jdk1.8.0_321\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Razer Chroma SDK\bin;C:\Program Files\Razer Chroma SDK\bin;C:\Program Files\Java\jdk1.8.0_321\bin;D:\Program Files (x86)\Ruby33-x64\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\Git\bin;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;D:\Program Files (x86)\Git LFS;C:\Program Files (x86)\Windows Kits\10\Windows Performance Toolkit\;C:\Program Files (x86)\Windows Kits\10\Microsoft Application Virtualization\Sequencer\;E:\software\apache-jmeter-5.6.3\apache-jmeter-5.6.3\bin;D:\ant\apache-ant-1.10.15\bin;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;C:\Program Files (x86)\Razer\ChromaBroadcast\bin;C:\Program Files\Razer\ChromaBroadcast\bin;e:\software\Trae CN\bin;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;e:\software\Trae CN\bin;C:\Windows\system32;C:\Program Files (x86)\VMware\VMware Workstation\bin\;C:\Program Files (x86)\Common Files\Oracle\Java\java8path;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\dotnet\;D:\maven\apache-maven-3.9.9\bin;E:\software\Git\cmd;E:\software\redis-windows;E:\software\nvm\nvm;E:\software\nvm\nodejs;D:\gradle\gradle-8.10.2\bin;E:\software\giff\git-cliff-2.6.1\bin;C:\Program Files (x86)\VMware\VMware Workstation\bin\;E:\software\mysql\mysql8.0\mysql-8.0.39-winx64\bin;C:\Windows\system32;E:\software\mysql\mysql5.7\mysql-5.7.30-winx64\bin;C:\Windows;C:\Windows\System32\Wbem;C:\Windo;E:\software\Fiddler;E:\software\fffmpeg\ffmpeg-7.0.2-essentials_build\bin;;.
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:java.io.tmpdir=C:\Users\14783\AppData\Local\Temp\
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:java.compiler=<NA>
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:os.name=Windows 11
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:os.arch=amd64
25-03-19.20:40:38.121 [main            ] INFO  ZooKeeper              - Client environment:os.version=10.0
25-03-19.20:40:38.122 [main            ] INFO  ZooKeeper              - Client environment:user.name=14783
25-03-19.20:40:38.122 [main            ] INFO  ZooKeeper              - Client environment:user.home=C:\Users\14783
25-03-19.20:40:38.122 [main            ] INFO  ZooKeeper              - Client environment:user.dir=E:\code\java\idea\big-market
25-03-19.20:40:38.122 [main            ] INFO  ZooKeeper              - Client environment:os.memory.free=435MB
25-03-19.20:40:38.122 [main            ] INFO  ZooKeeper              - Client environment:os.memory.max=3609MB
25-03-19.20:40:38.122 [main            ] INFO  ZooKeeper              - Client environment:os.memory.total=501MB
25-03-19.20:40:38.126 [main            ] INFO  ZooKeeper              - Initiating client connection, connectString=117.72.36.124:2181 sessionTimeout=30000 watcher=org.apache.curator.ConnectionState@2c8f65da
25-03-19.20:40:38.133 [main            ] INFO  X509Util               - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
25-03-19.20:40:38.156 [main            ] INFO  ClientCnxnSocket       - jute.maxbuffer value is 1048575 Bytes
25-03-19.20:40:38.163 [main            ] INFO  ClientCnxn             - zookeeper.request.timeout value is 0. feature enabled=false
25-03-19.20:40:38.180 [main            ] INFO  CuratorFrameworkImpl   - Default schema
25-03-19.20:40:38.187 [main            ] INFO  PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'zookeeperClient' of type [org.apache.curator.framework.imps.CuratorFrameworkImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
25-03-19.20:40:48.860 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Opening socket connection to server 117.72.36.124/117.72.36.124:2181.
25-03-19.20:40:48.860 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - SASL config status: Will not attempt to authenticate using SASL (unknown error)
25-03-19.20:40:48.890 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Socket connection established, initiating session, client: /10.224.6.117:51286, server: 117.72.36.124/117.72.36.124:2181
25-03-19.20:40:48.982 [main-SendThread(117.72.36.124:2181)] INFO  ClientCnxn             - Session establishment complete on server 117.72.36.124/117.72.36.124:2181, session id = 0x1000000414500bd, negotiated timeout = 30000
25-03-19.20:40:48.996 [main-EventThread] INFO  ConnectionStateManager - State change: CONNECTED
25-03-19.20:40:49.093 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-19.20:40:49.093 [main-EventThread] INFO  EnsembleTracker        - New config event received: {}
25-03-19.20:40:49.110 [main            ] INFO  Compatibility          - Using org.apache.zookeeper.server.quorum.MultipleAddresses
25-03-19.20:40:49.467 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config节点发生变化，
25-03-19.20:40:49.527 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/rateLimiterSwitch节点发生变化，
25-03-19.20:40:49.529 [Curator-SafeNotifyService-0] INFO  DCCValueBeanFactory    - DCC监听生效，/big-market-dcc/config/degradeSwitch节点发生变化，
25-03-19.20:40:49.934 [main            ] INFO  TomcatWebServer        - Tomcat initialized with port(s): 8091 (http)
25-03-19.20:40:49.955 [main            ] INFO  Http11NioProtocol      - Initializing ProtocolHandler ["http-nio-8091"]
25-03-19.20:40:49.955 [main            ] INFO  StandardService        - Starting service [Tomcat]
25-03-19.20:40:49.955 [main            ] INFO  StandardEngine         - Starting Servlet engine: [Apache Tomcat/9.0.75]
25-03-19.20:40:50.206 [main            ] INFO  [/]                    - Initializing Spring embedded WebApplicationContext
25-03-19.20:40:50.207 [main            ] INFO  ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 19230 ms
25-03-19.20:40:51.255 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
25-03-19.20:40:52.910 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
25-03-19.20:40:52.928 [main            ] INFO  HikariDataSource       - HikariPool-2 - Starting...
25-03-19.20:40:53.679 [main            ] INFO  HikariDataSource       - HikariPool-2 - Start completed.
25-03-19.20:40:53.679 [main            ] INFO  HikariDataSource       - HikariPool-3 - Starting...
25-03-19.20:40:54.436 [main            ] INFO  HikariDataSource       - HikariPool-3 - Start completed.
25-03-19.20:40:58.551 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] loading dubbo config beans ..., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:58.558 [main            ] INFO  DubboConfigBeanInitializer -  [DUBBO] dubbo config beans are loaded., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:58.654 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the DynamicConfigurationFactory extension[name : nacos] supports as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:58.657 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the config center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:58.668 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as config-center: <dubbo:config-center highestPriority="false" id="config-center-nacos-117.72.36.124-8848" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:40:58.794 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:40:58.794 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:41:02.984 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:02.984 [main            ] INFO  ConfigurationUtils     -  [DUBBO] Config center was specified, but no config item found., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.026 [main            ] INFO  ConfigManager          -  [DUBBO] The current configurations or effective configurations are as follows:, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.027 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:application enableFileCache="true" executorManagementMode="isolation" version="1.0" parameters="{}" name="big-market" qosEnable="true" protocol="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.027 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:protocol preferSerialization="fastjson2,hessian2" port="-1" name="dubbo" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.028 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.028 [main            ] INFO  ConfigManager          -  [DUBBO] <dubbo:ssl />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.068 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.074 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.291 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] No value is configured in the registry, the MetadataReportFactory extension[name : nacos] supports as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.291 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] The registry[<dubbo:registry id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" />] will be used as the metadata center, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.298 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] use registry as metadata-center: <dubbo:metadata-report id="nacos-registry" address="nacos://117.72.36.124:8848" protocol="nacos" port="8848" parameters="{client=null}" />, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:03.331 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:41:03.331 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:41:04.057 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) has been initialized!, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:04.159 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/rateLimiterSwitch rateLimiterSwitch close
25-03-19.20:41:04.725 [main            ] INFO  Version                - Redisson 3.23.4
25-03-19.20:41:05.971 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-19.20:41:07.127 [redisson-netty-2-23] INFO  MasterConnectionPool   - 10 connections initialized for 117.72.36.124/117.72.36.124:6379
25-03-19.20:41:12.805 [main            ] INFO  DCCValueBeanFactory    - DCC 节点监听 设置配置 /big-market-dcc/config/degradeSwitch degradeSwitch close
25-03-19.20:41:12.826 [main            ] INFO  ThreadPoolConfig       - CPU核数12,手动配置：20，最终选择：6
25-03-19.20:41:12.846 [main            ] INFO  XxlJobAutoConfig       - >>>>>>>>>>> xxl-job config init.
25-03-19.20:41:13.298 [main            ] INFO  WelcomePageHandlerMapping - Adding welcome page: class path resource [public/index.html]
25-03-19.20:41:13.590 [main            ] INFO  DynamicThreadPoolAutoConfig - 线程池信息，["threadPoolExecutor"]
25-03-19.20:41:16.057 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:41:16.283 [main            ] INFO  StdSchedulerFactory    - Using default implementation for ThreadExecutor
25-03-19.20:41:16.304 [main            ] INFO  SchedulerSignalerImpl  - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
25-03-19.20:41:16.304 [main            ] INFO  QuartzScheduler        - Quartz Scheduler v.2.3.2 created.
25-03-19.20:41:16.305 [main            ] INFO  RAMJobStore            - RAMJobStore initialized.
25-03-19.20:41:16.306 [main            ] INFO  QuartzScheduler        - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

25-03-19.20:41:16.306 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
25-03-19.20:41:16.307 [main            ] INFO  StdSchedulerFactory    - Quartz scheduler version: 2.3.2
25-03-19.20:41:16.307 [main            ] INFO  QuartzScheduler        - JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@62b8904c
25-03-19.20:41:19.399 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:41:19.530 [main            ] WARN  LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
25-03-19.20:41:19.537 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-03-19.20:41:19.778 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:SendMessageTaskJob_DB1, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@4d121ab6[class cn.wenzhuo4657.BigMarket.trigger.job.SendMessageTaskJob#exec_db01]
25-03-19.20:41:19.778 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:UpdateActivitySkuStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@290def7d[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateActivitySkuStockJob#exec]
25-03-19.20:41:19.778 [main            ] INFO  XxlJobExecutor         - >>>>>>>>>>> xxl-job register jobhandler success, name:updateAwardStockJob, jobHandler:com.xxl.job.core.handler.impl.MethodJobHandler@10ea1754[class cn.wenzhuo4657.BigMarket.trigger.job.UpdateAwardStockJob#exec]
25-03-19.20:41:19.935 [Thread-138      ] INFO  EmbedServer            - >>>>>>>>>>> xxl-job remoting server start success, nettype = class com.xxl.job.core.server.EmbedServer, port = 9999
25-03-19.20:41:21.905 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_award', namespace='', nameServer='117.72.36.124:9876', topic='send_award', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:41:21.905 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:sendAwardCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
25-03-19.20:41:23.920 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-credit_adjust_success', namespace='', nameServer='117.72.36.124:9876', topic='credit_adjust_success', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:41:23.920 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:creditAdjustSuccessCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
25-03-19.20:41:26.732 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-send_rebate', namespace='', nameServer='117.72.36.124:9876', topic='send_rebate', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:41:26.732 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:rebateMessageCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
25-03-19.20:41:28.835 [main            ] INFO  DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='big-market-app-Customer-activity_sku_stock_zero', namespace='', nameServer='117.72.36.124:9876', topic='activity_sku_stock_zero', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false}
25-03-19.20:41:28.835 [main            ] INFO  ListenerContainerConfiguration - Register the listener to container, listenerBeanName:activitySkuStockZeroCustomer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_4
25-03-19.20:41:28.983 [main            ] INFO  Http11NioProtocol      - Starting ProtocolHandler ["http-nio-8091"]
25-03-19.20:41:29.018 [main            ] INFO  TomcatWebServer        - Tomcat started on port(s): 8091 (http) with context path ''
25-03-19.20:41:30.971 [main            ] INFO  InetUtils              - Cannot determine local hostname
25-03-19.20:41:31.467 [main            ] INFO  SchedulerFactoryBean   - Starting Quartz Scheduler now
25-03-19.20:41:31.468 [main            ] INFO  QuartzScheduler        - Scheduler quartzScheduler_$_NON_CLUSTERED started.
25-03-19.20:41:31.473 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:31.474 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:32.837 [main            ] WARN  ServiceConfig          -  [DUBBO] Use random available port(20880) for protocol dubbo, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 5-8. This may be caused by , go to https://dubbo.apache.org/faq/5/8 to find instructions. 
25-03-19.20:41:33.080 [main            ] INFO  Server                 -  [DUBBO] qos-server bind localhost:22222, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:33.082 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742388091612&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:33.084 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:33.355 [main            ] INFO  AbstractServer         -  [DUBBO] Start NettyServer bind /0.0.0.0:20880, export /169.254.139.88:20880, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:33.460 [main            ] INFO  MetaCacheManager       -  [DUBBO] Successfully loaded meta cache from file .metadata.big-market.nacos.117.72.36.124:8848, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:33.493 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:41:33.493 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:41:33.894 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:33.906 [main            ] INFO  MappingCacheManager    -  [DUBBO] Successfully loaded mapping cache from file .mapping.big-market, entries 0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:33.926 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:34.247 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:34.291 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
25-03-19.20:41:34.291 [main            ] INFO  ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
25-03-19.20:41:35.598 [main            ] INFO  NacosNamingServiceWrapper -  [DUBBO] Nacos batch register enable: false, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.599 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.659 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:35.659 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.775 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:35.775 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.795 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.799 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@421ee3c2; definition: FullServiceDefinition{parameters={anyhost=true, release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, dubbo=2.0.2, side=provider, application=big-market, pid=15356, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742388091612}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=randomRaffle, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=strategyArmory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardList, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleAwardListByToken, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleAwardListRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryRaffleStrategyRuleWeight, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.RaffleStrategyRuleWeightRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.840 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.904 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742388095868&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.904 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:35.952 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.146 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.183 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:36.184 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.351 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:36.351 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.353 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.353 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@3f9252c3; definition: FullServiceDefinition{parameters={anyhost=true, release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, dubbo=2.0.2, side=provider, application=big-market, pid=15356, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742388095868}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=draw, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=draw, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.ActivityDrawRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=armory, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccountByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebate, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserActivityAccount, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.UserActivityAccountRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=queryUserCreditAccount, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=calendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=isCalendarSignRebateByToken, parameterTypes=[java.lang.String], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=querySkuProductListByActivityId, parameterTypes=[java.lang.Long], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[java.lang.String, cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=creditPayExchangeSku, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.dto.SkuProductShopCartRequestDTO], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.389 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.413 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService to local registry url : injvm://127.0.0.1/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&side=provider&timestamp=1742388096399&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.415 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.527 [main            ] INFO  ServiceConfig          -  [DUBBO] Register dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRebateService url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0 to registry 117.72.36.124:8848, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.665 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.736 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:36.737 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.738 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.738 [DubboSaveMetadataReport-thread-1] INFO  NacosMetadataReport    -  [DUBBO] store provider metadata. Identifier : org.apache.dubbo.metadata.report.identifier.MetadataIdentifier@2d8eacc1; definition: FullServiceDefinition{parameters={anyhost=true, release=3.2.5, version=1.0, interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, dubbo=2.0.2, side=provider, application=big-market, pid=15356, group=big-market, executor-management-mode=isolation, file-cache=true, application.version=1.0, methods=PayCredit,rebate, deprecated=false, service-name-mapping=true, qos.enable=true, generic=false, bind.port=20880, revision=1.0, bind.ip=169.254.139.88, prefer.serialization=fastjson2,hessian2, background=false, dynamic=true, timestamp=1742388096399}} ServiceDefinition [canonicalName=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService, codeSource=file:/E:/code/java/idea/big-market/big-market-api/target/classes/, methods=[MethodDefinition [name=rebate, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response], MethodDefinition [name=PayCredit, parameterTypes=[cn.wenzhuo4657.BigMarket.tigger.api.reponse.Request], returnType=cn.wenzhuo4657.BigMarket.tigger.api.reponse.Response]]], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.783 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.783 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] is starting., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.783 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.0] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.785 [main            ] INFO  DefaultModuleDeployer  -  [DUBBO] Dubbo Module[1.1.1] has started., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.785 [main            ] INFO  DefaultMetricsServiceExporter -  [DUBBO] The MetricsConfig not exist, will not export metrics service., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.797 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] org.apache.dubbo.metadata.MetadataServiceService Port hasn't been set will use default protocol defined in protocols., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.798 [main            ] INFO  InternalServiceConfigBuilder -  [DUBBO] Using dubbo protocol to export org.apache.dubbo.metadata.MetadataService service on port -1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.956 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to local registry url : injvm://127.0.0.1/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&exporter.listener=injvm&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service.filter=-default&side=provider&timestamp=1742388096904&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:36.956 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742388096904&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.037 [main            ] INFO  MigrationRuleListener  -  [DUBBO] Listening for migration rules on dataId big-market.migration, group DUBBO_SERVICEDISCOVERY_MIGRATION, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.073 [main            ] INFO  ServiceConfig          -  [DUBBO] Export dubbo service org.apache.dubbo.metadata.MetadataService to url dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742388096904&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.238 [main            ] INFO  NacosRegistry          -  [DUBBO] Subscribe: provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742388096904&version=1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.278 [main            ] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:37.278 [main            ] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742388096904&version=1.0.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.280 [main            ] INFO  ServiceConfig          -  [DUBBO] Try to register interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.280 [main            ] INFO  ServiceConfig          -  [DUBBO] Successfully registered interface application mapping for service big-market/org.apache.dubbo.metadata.MetadataService:1.0.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.280 [main            ] INFO  ConfigurableMetadataServiceExporter -  [DUBBO] The MetadataService exports urls : [dubbo://169.254.139.88:20880/org.apache.dubbo.metadata.MetadataService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&delay=0&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&getAndListenInstanceMetadata.1.callback=true&getAndListenInstanceMetadata.return=true&getAndListenInstanceMetadata.sent=true&group=big-market&interface=org.apache.dubbo.metadata.MetadataService&methods=exportInstanceMetadata,getAndListenInstanceMetadata,getExportedServiceURLs,getExportedURLs,getInstanceMetadataChangedListenerMap,getMetadataInfo,getMetadataInfos,getMetadataURL,getServiceDefinition,getSubscribedURLs,isMetadataService,serviceName,toSortedStrings,version&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&register=false&release=3.2.5&revision=3.2.5&service-name-mapping=true&service.filter=-default&side=provider&timestamp=1742388096904&version=1.0.0], dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.282 [main            ] INFO  ServiceInstanceMetadataUtils -  [DUBBO] Start registering instance address to registry., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.311 [main            ] INFO  DefaultApplicationDeployer -  [DUBBO] Dubbo Application[1.1](big-market) is ready., dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.329 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15356&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742388091525, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.331 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.377 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15356&qos.enable=true&register=false&release=3.2.5&timestamp=1742388091525, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.378 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15356&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742388095867, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.378 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.439 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15356&qos.enable=true&register=false&release=3.2.5&timestamp=1742388095867, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.440 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0 to registry service-discovery-registry://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15356&qos.enable=true&register=false&registry=nacos&release=3.2.5&timestamp=1742388096397, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.441 [main            ] INFO  NacosRegistry          -  [DUBBO] Register: dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.596 [main            ] INFO  RegistryProtocol       -  [DUBBO] Registered dubbo service big-market/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService:1.0 url dubbo://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?application=big-market&application.version=1.0&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&prefer.serialization=fastjson2,hessian2&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0 to registry nacos://117.72.36.124:8848/org.apache.dubbo.registry.RegistryService?REGISTRY_CLUSTER=nacos-registry&application=big-market&application.version=1.0&dubbo=2.0.2&executor-management-mode=isolation&file-cache=true&pid=15356&qos.enable=true&register=false&release=3.2.5&timestamp=1742388096397, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.605 [main            ] INFO  MetadataInfo           -  [DUBBO] metadata revision changed: null -> 95d9642134a2cde3432ca7fba7289362, app: big-market, services: 3, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:37.683 [main            ] INFO  ScheduledAnnotationBeanPostProcessor - No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
25-03-19.20:41:37.709 [main            ] INFO  Application            - Started Application in 71.8 seconds (JVM running for 73.736)
25-03-19.20:41:37.935 [Dubbo-framework-registry-notification-0-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:37.935 [Dubbo-framework-registry-notification-0-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleStrategyService&methods=queryRaffleAwardList,queryRaffleAwardListByToken,queryRaffleStrategyRuleWeight,randomRaffle,strategyArmory&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388091612&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:38.016 [Dubbo-framework-registry-notification-2-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:38.016 [Dubbo-framework-registry-notification-2-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRaffleActivityService&methods=armory,calendarSignRebate,calendarSignRebateByToken,creditPayExchangeSku,draw,isCalendarSignRebate,isCalendarSignRebateByToken,querySkuProductListByActivityId,queryUserActivityAccount,queryUserCreditAccount,queryUserCreditAccountByToken&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388095868&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:38.023 [Dubbo-framework-registry-notification-4-thread-1] WARN  NacosRegistry          -  [DUBBO] Received empty url address list and empty protection is disabled, will clear current available addresses, dubbo version: 3.2.5, current host: 169.254.139.88, error code: 1-37. This may be caused by , go to https://dubbo.apache.org/faq/1/37 to find instructions. 
25-03-19.20:41:38.023 [Dubbo-framework-registry-notification-4-thread-1] INFO  NacosRegistry          -  [DUBBO] Notify urls for subscribe url provider://169.254.139.88:20880/cn.wenzhuo4657.BigMarket.tigger.api.IRebateService?anyhost=true&application=big-market&application.version=1.0&background=false&bind.ip=169.254.139.88&bind.port=20880&category=configurators&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&executor-management-mode=isolation&file-cache=true&generic=false&group=big-market&interface=cn.wenzhuo4657.BigMarket.tigger.api.IRebateService&methods=PayCredit,rebate&pid=15356&prefer.serialization=fastjson2,hessian2&qos.enable=true&release=3.2.5&revision=1.0&service-name-mapping=true&side=provider&timestamp=1742388096399&version=1.0, url size: 1, dubbo version: 3.2.5, current host: 169.254.139.88
25-03-19.20:41:39.293 [RMI TCP Connection(7)-172.25.176.1] INFO  [/]                    - Initializing Spring DispatcherServlet 'dispatcherServlet'
25-03-19.20:41:39.293 [RMI TCP Connection(7)-172.25.176.1] INFO  DispatcherServlet      - Initializing Servlet 'dispatcherServlet'
25-03-19.20:41:39.296 [RMI TCP Connection(7)-172.25.176.1] INFO  DispatcherServlet      - Completed initialization in 3 ms
25-03-19.20:41:48.849 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动装配，数据预热，开始 activityId:100401
25-03-19.20:41:50.197 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=?
25-03-19.20:41:50.197 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:41:50.198 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select sku, activity_count_id, stock_count, stock_count_surplus, product_amount
           from raffle_activity_sku
        where  activity_id=? ::: [100401]
25-03-19.20:41:50.942 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ?
25-03-19.20:41:50.942 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:41:50.942 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_count_id, total_count, day_count, month_count, create_time, update_time
        from raffle_activity_count
        where activity_count_id = ? ::: [11101]
25-03-19.20:41:51.157 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ?
25-03-19.20:41:51.157 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:41:51.157 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
            id, activity_id, activity_name, activity_desc, begin_date_time, end_date_time, strategy_id, state, create_time, update_time
        from raffle_activity
        where activity_id= ? ::: [100401]
25-03-19.20:41:51.270 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select  strategy_id
        from raffle_activity
        where activity_id=?
25-03-19.20:41:51.270 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:41:51.270 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  strategy_id
        from raffle_activity
        where activity_id=? ::: [100401]
25-03-19.20:41:51.392 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ?
25-03-19.20:41:51.392 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:41:51.392 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select
             
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? ::: [100006]
25-03-19.20:41:52.388 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ?
25-03-19.20:41:52.389 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:41:52.389 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,strategy_desc,rule_models
        from strategy
        where strategy_id = ? ::: [100006]
25-03-19.20:41:52.851 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:41:52.851 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:41:52.851 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select strategy_id,award_id,rule_model,rule_type,rule_value,rule_desc
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_weight]
25-03-19.20:41:53.315 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动装配，数据预热，完成 activityId:100401
25-03-19.20:42:04.646 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.646 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.662 [http-nio-8091-exec-4] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.698 [http-nio-8091-exec-6] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.725 [http-nio-8091-exec-5] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.757 [http-nio-8091-exec-8] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.770 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.770 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.770 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.770 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.770 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.770 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.772 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.782 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.811 [http-nio-8091-exec-9] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.837 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.837 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.837 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.839 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.839 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.839 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.839 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.839 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.839 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.839 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.842 [http-nio-8091-exec-11] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.852 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.853 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.873 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.883 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.903 [http-nio-8091-exec-10] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.919 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.919 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.920 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.933 [http-nio-8091-exec-18] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.961 [http-nio-8091-exec-14] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.962 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.963 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.963 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.987 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.988 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:04.992 [http-nio-8091-exec-15] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.025 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.026 [http-nio-8091-exec-16] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.044 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.044 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.044 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.045 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.045 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.045 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.045 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.045 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.045 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.045 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.055 [http-nio-8091-exec-17] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.065 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.065 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.065 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.065 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.065 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.066 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.066 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.066 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.066 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.066 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.086 [http-nio-8091-exec-13] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.111 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.116 [http-nio-8091-exec-25] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.138 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.139 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.143 [http-nio-8091-exec-21] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.173 [http-nio-8091-exec-20] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.176 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.182 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.183 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.185 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.202 [http-nio-8091-exec-24] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.221 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.221 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.221 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.221 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.222 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.222 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.222 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.222 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.222 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.222 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.231 [http-nio-8091-exec-22] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.247 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.266 [http-nio-8091-exec-23] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.268 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.292 [http-nio-8091-exec-32] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.321 [http-nio-8091-exec-26] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.331 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.332 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.353 [http-nio-8091-exec-27] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.375 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.382 [http-nio-8091-exec-38] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.390 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.412 [http-nio-8091-exec-29] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.418 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.418 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.418 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.418 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.418 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.418 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.418 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.420 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.420 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.420 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.450 [http-nio-8091-exec-31] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.450 [http-nio-8091-exec-4] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:05.472 [http-nio-8091-exec-30] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.472 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.502 [http-nio-8091-exec-19] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.514 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.515 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.516 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.517 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.518 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.538 [http-nio-8091-exec-36] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.543 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.544 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.548 [http-nio-8091-exec-4] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:05.561 [http-nio-8091-exec-43] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.578 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.579 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.579 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.591 [http-nio-8091-exec-35] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.601 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:05.601 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:05.601 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.613 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.621 [http-nio-8091-exec-37] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.634 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.652 [http-nio-8091-exec-28] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.666 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.682 [http-nio-8091-exec-48] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.697 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.697 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.697 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.697 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.697 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.697 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.698 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.698 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.698 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.698 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.712 [http-nio-8091-exec-40] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.718 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.720 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.726 [http-nio-8091-exec-4] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:05.741 [http-nio-8091-exec-41] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.757 [http-nio-8091-exec-6] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:05.758 [http-nio-8091-exec-6] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.760 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:05.760 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:05.760 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.760 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.772 [http-nio-8091-exec-33] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.779 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.806 [http-nio-8091-exec-4] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:05.807 [http-nio-8091-exec-42] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.807 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.809 [http-nio-8091-exec-4] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:05.812 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:05.812 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:05.812 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:05.831 [http-nio-8091-exec-34] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.841 [http-nio-8091-exec-6] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.842 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.864 [http-nio-8091-exec-45] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.874 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.891 [http-nio-8091-exec-44] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.897 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.905 [http-nio-8091-exec-6] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:05.905 [http-nio-8091-exec-6] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:05.907 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:05.907 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:05.907 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:05.922 [http-nio-8091-exec-46] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.926 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.956 [http-nio-8091-exec-47] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.957 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-19.20:42:05.957 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:05.957 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-03-19.20:42:05.981 [http-nio-8091-exec-39] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:05.986 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.003 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-19.20:42:06.003 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.003 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_luck_award]
25-03-19.20:42:06.012 [http-nio-8091-exec-49] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.028 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.039 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-19.20:42:06.039 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.039 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-03-19.20:42:06.041 [http-nio-8091-exec-50] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.041 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.074 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.075 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.101 [http-nio-8091-exec-51] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.105 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.107 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-19.20:42:06.107 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.107 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_luck_award]
25-03-19.20:42:06.131 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.132 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.140 [http-nio-8091-exec-52] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.163 [http-nio-8091-exec-53] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.172 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.179 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-19.20:42:06.179 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.179 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-03-19.20:42:06.191 [http-nio-8091-exec-54] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.198 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.199 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.221 [http-nio-8091-exec-55] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.223 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.239 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-19.20:42:06.240 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.240 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_luck_award]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.251 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.252 [http-nio-8091-exec-56] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.281 [http-nio-8091-exec-57] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.283 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.315 [http-nio-8091-exec-58] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.332 [http-nio-8091-exec-5] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:06.332 [http-nio-8091-exec-5] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.333 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:06.333 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.333 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:06.349 [http-nio-8091-exec-59] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.352 [http-nio-8091-exec-4] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:06.354 [http-nio-8091-exec-1] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:06.354 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.359 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:06.359 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.359 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:06.372 [http-nio-8091-exec-60] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.388 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.392 [http-nio-8091-exec-6] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.394 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.402 [http-nio-8091-exec-61] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.405 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.415 [http-nio-8091-exec-4] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:06.423 [http-nio-8091-exec-5] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.436 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.436 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.436 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.437 [http-nio-8091-exec-62] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.458 [http-nio-8091-exec-6] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:06.459 [http-nio-8091-exec-1] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.465 [http-nio-8091-exec-63] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.467 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.492 [http-nio-8091-exec-64] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.495 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.496 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.509 [http-nio-8091-exec-5] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:06.510 [http-nio-8091-exec-5] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:06.511 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:06.511 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.511 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:06.513 [http-nio-8091-exec-4] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:06.513 [http-nio-8091-exec-6] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:06.516 [http-nio-8091-exec-4] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:06.516 [http-nio-8091-exec-6] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:06.519 [http-nio-8091-exec-1] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:06.519 [http-nio-8091-exec-1] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:06.520 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:06.520 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.520 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.521 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.523 [http-nio-8091-exec-65] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.550 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:06.550 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:06.550 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.550 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.550 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 108]
25-03-19.20:42:06.550 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 105]
25-03-19.20:42:06.550 [http-nio-8091-exec-66] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.556 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.581 [http-nio-8091-exec-67] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.585 [http-nio-8091-exec-9] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:06.585 [http-nio-8091-exec-9] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.590 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:06.590 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.590 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:06.606 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  * from  rule_tree
        where tree_id=?
25-03-19.20:42:06.606 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.606 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  * from  rule_tree
        where tree_id=? ::: [tree_lock_1]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.610 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.612 [http-nio-8091-exec-68] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.675 [http-nio-8091-exec-69] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.691 [http-nio-8091-exec-70] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.693 [http-nio-8091-exec-1] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:06.703 [http-nio-8091-exec-71] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.704 [http-nio-8091-exec-9] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.722 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.734 [http-nio-8091-exec-72] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.735 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.749 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select *
        from rule_tree_node
        where
            tree_id=?
25-03-19.20:42:06.749 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.749 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select *
        from rule_tree_node
        where
            tree_id=? ::: [tree_lock_1]
25-03-19.20:42:06.749 [http-nio-8091-exec-1] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:06.762 [http-nio-8091-exec-73] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.764 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.764 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.765 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.768 [http-nio-8091-exec-9] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:06.768 [http-nio-8091-exec-9] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:06.771 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:06.771 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.771 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:06.779 [http-nio-8091-exec-1] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:06.779 [http-nio-8091-exec-1] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:06.793 [http-nio-8091-exec-74] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.794 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.803 [http-nio-8091-exec-2] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:06.803 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.809 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:06.809 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.809 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:06.810 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:06.810 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.810 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 103]
25-03-19.20:42:06.815 [http-nio-8091-exec-8] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:06.815 [http-nio-8091-exec-8] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.820 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:06.820 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.820 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:06.823 [http-nio-8091-exec-75] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.831 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.852 [http-nio-8091-exec-76] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.854 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.862 [http-nio-8091-exec-9] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:06.872 [http-nio-8091-exec-2] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.881 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.881 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.882 [http-nio-8091-exec-77] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.912 [http-nio-8091-exec-78] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.913 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.919 [http-nio-8091-exec-9] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:06.933 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:06.933 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.933 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:06.933 [http-nio-8091-exec-2] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:06.933 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:06.933 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:06.934 [http-nio-8091-exec-8] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.934 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:06.934 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.934 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:06.942 [http-nio-8091-exec-79] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.943 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.947 [http-nio-8091-exec-9] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:06.947 [http-nio-8091-exec-9] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:06.975 [http-nio-8091-exec-7] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:06.979 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:06.979 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:06.979 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:06.983 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.983 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.984 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.984 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.984 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.984 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.984 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.984 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:06.984 [http-nio-8091-exec-80] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:06.985 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:06.985 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:06.985 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.001 [http-nio-8091-exec-8] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:07.001 [http-nio-8091-exec-8] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:07.002 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.004 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.004 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:07.004 [http-nio-8091-exec-81] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.019 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.021 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:07.033 [http-nio-8091-exec-82] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.034 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.046 [http-nio-8091-exec-12] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.047 [http-nio-8091-exec-68] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.047 [http-nio-8091-exec-12] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.050 [http-nio-8091-exec-68] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.050 [http-nio-8091-exec-7] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.052 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.052 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.052 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.052 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.052 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.052 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.063 [http-nio-8091-exec-83] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.069 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select * from rule_tree_node_line
        where tree_id=?
25-03-19.20:42:07.070 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.070 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select * from rule_tree_node_line
        where tree_id=? ::: [tree_lock_1]
25-03-19.20:42:07.082 [http-nio-8091-exec-2] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:07.090 [http-nio-8091-exec-8] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:07.091 [http-nio-8091-exec-84] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.091 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.111 [http-nio-8091-exec-2] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.111 [http-nio-8091-exec-2] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:07.113 [http-nio-8091-exec-68] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.113 [http-nio-8091-exec-7] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:07.114 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:07.116 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.116 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.116 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:07.122 [http-nio-8091-exec-85] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.125 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.162 [http-nio-8091-exec-5] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:07.162 [http-nio-8091-exec-8] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.164 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.165 [http-nio-8091-exec-86] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.168 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:07.169 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.169 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:07.169 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:07.181 [http-nio-8091-exec-87] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.190 [http-nio-8091-exec-68] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:07.190 [http-nio-8091-exec-68] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:07.190 [http-nio-8091-exec-8] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.190 [http-nio-8091-exec-8] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:07.192 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.193 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.193 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.194 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.196 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.196 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.211 [http-nio-8091-exec-88] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.212 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.238 [http-nio-8091-exec-18] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.238 [http-nio-8091-exec-18] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.239 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.239 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.239 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.244 [http-nio-8091-exec-89] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.246 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.247 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.271 [http-nio-8091-exec-90] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.273 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.281 [http-nio-8091-exec-68] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:07.295 [http-nio-8091-exec-14] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.295 [http-nio-8091-exec-14] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.296 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.296 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.296 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.297 [http-nio-8091-exec-16] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.297 [http-nio-8091-exec-16] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.298 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.298 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.298 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.309 [http-nio-8091-exec-91] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.311 [http-nio-8091-exec-18] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.333 [http-nio-8091-exec-92] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.338 [http-nio-8091-exec-68] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.340 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.356 [http-nio-8091-exec-14] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.362 [http-nio-8091-exec-93] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.362 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.364 [http-nio-8091-exec-16] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.367 [http-nio-8091-exec-18] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:07.367 [http-nio-8091-exec-18] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:07.368 [http-nio-8091-exec-12] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.368 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.368 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.369 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:07.369 [http-nio-8091-exec-68] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.369 [http-nio-8091-exec-68] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.391 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.392 [http-nio-8091-exec-94] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.403 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:07.403 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.403 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 104]
25-03-19.20:42:07.414 [http-nio-8091-exec-14] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:07.415 [http-nio-8091-exec-14] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:07.416 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.416 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.416 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:07.419 [http-nio-8091-exec-16] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:07.419 [http-nio-8091-exec-16] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:07.422 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.422 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.422 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:07.422 [http-nio-8091-exec-95] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.423 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.423 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.423 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.424 [http-nio-8091-exec-12] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:07.424 [http-nio-8091-exec-12] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:07.425 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.425 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.425 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:07.451 [http-nio-8091-exec-96] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.453 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.459 [http-nio-8091-exec-18] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:07.461 [http-nio-8091-exec-11] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.464 [http-nio-8091-exec-11] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.467 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.467 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.467 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.480 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.489 [http-nio-8091-exec-97] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.502 [http-nio-8091-exec-14] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:07.510 [http-nio-8091-exec-98] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.510 [http-nio-8091-exec-16] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:07.519 [http-nio-8091-exec-18] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:07.519 [http-nio-8091-exec-12] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:07.520 [http-nio-8091-exec-17] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.520 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.520 [http-nio-8091-exec-17] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.520 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.520 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.520 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.520 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.520 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.520 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.521 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.521 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.521 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.521 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.521 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.521 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:07.531 [http-nio-8091-exec-11] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.541 [http-nio-8091-exec-99] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.542 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.543 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.547 [http-nio-8091-exec-7] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:07.550 [http-nio-8091-exec-18] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.550 [http-nio-8091-exec-18] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:07.559 [http-nio-8091-exec-14] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:07.571 [http-nio-8091-exec-16] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.572 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.573 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.573 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.573 [http-nio-8091-exec-100] INFO  RaffleActivityController - 活动抽奖 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
25-03-19.20:42:07.574 [http-nio-8091-exec-7] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.574 [http-nio-8091-exec-7] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:07.576 [http-nio-8091-exec-12] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:07.577 [http-nio-8091-exec-17] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.589 [http-nio-8091-exec-14] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.589 [http-nio-8091-exec-11] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:07.589 [http-nio-8091-exec-14] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:07.589 [http-nio-8091-exec-11] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:07.590 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.590 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.590 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Logic SQL: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update
25-03-19.20:42:07.603 [http-nio-8091-exec-16] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional[org.apache.shardingsphere.sql.parser.sql.common.segment.dml.predicate.LockSegment@10a323f0], window=Optional.empty)
25-03-19.20:42:07.603 [http-nio-8091-exec-16] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_000
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_001
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.603 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_002
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.605 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select user_id, activity_id, activity_name, strategy_id, order_id, order_time, order_state
        from user_raffle_order_003
        where user_id = ? and activity_id = ? and order_state = 'create'
        for update ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401]
25-03-19.20:42:07.605 [http-nio-8091-exec-12] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.605 [http-nio-8091-exec-12] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:07.624 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:07.624 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.624 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 106]
25-03-19.20:42:07.633 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:07.634 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.634 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 106]
25-03-19.20:42:07.638 [http-nio-8091-exec-17] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:07.638 [http-nio-8091-exec-17] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:07.641 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:07.641 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.641 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:07.732 [http-nio-8091-exec-17] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:07.795 [http-nio-8091-exec-17] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:07.825 [http-nio-8091-exec-17] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:07.825 [http-nio-8091-exec-17] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:07.942 [http-nio-8091-exec-11] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:07.947 [http-nio-8091-exec-25] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:07.947 [http-nio-8091-exec-25] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:07.949 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:07.949 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:07.949 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.004 [http-nio-8091-exec-21] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.004 [http-nio-8091-exec-21] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.005 [http-nio-8091-exec-11] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:08.005 [http-nio-8091-exec-25] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.006 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.006 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.006 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.029 [http-nio-8091-exec-13] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.031 [http-nio-8091-exec-13] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.032 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.032 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.032 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.033 [http-nio-8091-exec-11] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:08.033 [http-nio-8091-exec-11] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:08.060 [http-nio-8091-exec-25] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:08.060 [http-nio-8091-exec-25] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:08.063 [http-nio-8091-exec-21] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.063 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.063 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.063 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:08.099 [http-nio-8091-exec-13] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.123 [http-nio-8091-exec-21] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:08.123 [http-nio-8091-exec-21] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:08.124 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.124 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.124 [http-nio-8091-exec-21] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:08.156 [http-nio-8091-exec-25] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:08.157 [http-nio-8091-exec-13] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:08.157 [http-nio-8091-exec-13] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:08.157 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:08.157 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.157 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.157 [http-nio-8091-exec-25] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.158 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.158 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.158 [http-nio-8091-exec-13] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:08.209 [http-nio-8091-exec-21] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:08.224 [http-nio-8091-exec-32] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.224 [http-nio-8091-exec-32] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.224 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.224 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.225 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.244 [http-nio-8091-exec-20] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.244 [http-nio-8091-exec-20] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.249 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.249 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.249 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.259 [http-nio-8091-exec-13] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:08.260 [http-nio-8091-exec-22] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.262 [http-nio-8091-exec-22] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.264 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.264 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.264 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.267 [http-nio-8091-exec-21] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:08.286 [http-nio-8091-exec-32] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.294 [http-nio-8091-exec-21] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:08.294 [http-nio-8091-exec-21] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:08.338 [http-nio-8091-exec-13] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:08.338 [http-nio-8091-exec-20] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.374 [http-nio-8091-exec-32] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:08.374 [http-nio-8091-exec-32] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:08.377 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.377 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.377 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:08.403 [http-nio-8091-exec-20] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:08.403 [http-nio-8091-exec-20] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:08.404 [http-nio-8091-exec-22] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.404 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.404 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.404 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:08.444 [http-nio-8091-exec-24] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.444 [http-nio-8091-exec-24] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.445 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.445 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.445 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.459 [http-nio-8091-exec-22] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:08.460 [http-nio-8091-exec-22] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:08.461 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.461 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.461 [http-nio-8091-exec-22] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:08.467 [http-nio-8091-exec-32] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:08.467 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:08.467 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.469 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.469 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.495 [http-nio-8091-exec-20] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:08.496 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:08.496 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.496 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.496 [http-nio-8091-exec-20] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.504 [http-nio-8091-exec-24] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.513 [http-nio-8091-exec-26] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.517 [http-nio-8091-exec-26] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.518 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.518 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.518 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.527 [http-nio-8091-exec-27] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.527 [http-nio-8091-exec-27] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.532 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.532 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.532 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.549 [http-nio-8091-exec-22] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:08.559 [http-nio-8091-exec-24] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:08.559 [http-nio-8091-exec-24] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:08.560 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.560 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.560 [http-nio-8091-exec-24] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:08.579 [http-nio-8091-exec-26] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.597 [http-nio-8091-exec-27] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.610 [http-nio-8091-exec-22] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:08.623 [http-nio-8091-exec-13] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:08.623 [http-nio-8091-exec-13] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:08.639 [http-nio-8091-exec-22] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:08.639 [http-nio-8091-exec-22] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:08.639 [http-nio-8091-exec-26] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:08.639 [http-nio-8091-exec-26] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:08.640 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.640 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.640 [http-nio-8091-exec-26] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:08.650 [http-nio-8091-exec-24] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:08.654 [http-nio-8091-exec-27] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:08.654 [http-nio-8091-exec-27] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:08.657 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.657 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.657 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:08.689 [http-nio-8091-exec-15] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.693 [http-nio-8091-exec-15] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.696 [http-nio-8091-exec-30] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.696 [http-nio-8091-exec-30] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.696 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.696 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.696 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.699 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.699 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.699 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.705 [http-nio-8091-exec-38] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.705 [http-nio-8091-exec-38] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.706 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.706 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.706 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.707 [http-nio-8091-exec-24] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:08.726 [http-nio-8091-exec-26] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:08.738 [http-nio-8091-exec-24] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:08.738 [http-nio-8091-exec-24] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:08.748 [http-nio-8091-exec-29] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.748 [http-nio-8091-exec-29] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.749 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.749 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.749 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.752 [http-nio-8091-exec-27] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:08.753 [http-nio-8091-exec-31] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.753 [http-nio-8091-exec-31] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.773 [http-nio-8091-exec-30] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.773 [http-nio-8091-exec-15] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.775 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.776 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.776 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.797 [http-nio-8091-exec-38] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.802 [http-nio-8091-exec-26] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:08.808 [http-nio-8091-exec-27] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:08.810 [http-nio-8091-exec-29] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.835 [http-nio-8091-exec-30] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:08.835 [http-nio-8091-exec-26] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:08.835 [http-nio-8091-exec-15] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:08.835 [http-nio-8091-exec-30] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:08.835 [http-nio-8091-exec-15] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:08.835 [http-nio-8091-exec-26] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:08.836 [http-nio-8091-exec-31] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.836 [http-nio-8091-exec-27] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:08.836 [http-nio-8091-exec-27] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:08.837 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.837 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.837 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.837 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.837 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:08.837 [http-nio-8091-exec-15] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:08.853 [http-nio-8091-exec-38] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:08.853 [http-nio-8091-exec-38] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:08.854 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.854 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.854 [http-nio-8091-exec-38] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:08.864 [http-nio-8091-exec-29] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:08.864 [http-nio-8091-exec-29] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:08.865 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:08.865 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.865 [http-nio-8091-exec-27] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 102]
25-03-19.20:42:08.865 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.865 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.865 [http-nio-8091-exec-29] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:08.892 [http-nio-8091-exec-31] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:08.893 [http-nio-8091-exec-31] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:08.893 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:08.893 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.893 [http-nio-8091-exec-31] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:08.921 [http-nio-8091-exec-30] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:08.921 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:08.921 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.921 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.921 [http-nio-8091-exec-30] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:08.931 [http-nio-8091-exec-15] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:08.942 [http-nio-8091-exec-38] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:08.964 [http-nio-8091-exec-35] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.964 [http-nio-8091-exec-35] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.964 [http-nio-8091-exec-36] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:08.966 [http-nio-8091-exec-36] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:08.969 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.969 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:08.969 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.969 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:08.969 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.969 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:08.991 [http-nio-8091-exec-29] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:08.997 [http-nio-8091-exec-37] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.000 [http-nio-8091-exec-37] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.000 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.000 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.000 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.005 [http-nio-8091-exec-23] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.005 [http-nio-8091-exec-23] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.006 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.006 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.006 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.013 [http-nio-8091-exec-15] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:09.013 [http-nio-8091-exec-31] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:09.028 [http-nio-8091-exec-38] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:09.031 [http-nio-8091-exec-36] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.033 [http-nio-8091-exec-35] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.044 [http-nio-8091-exec-15] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.044 [http-nio-8091-exec-15] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:09.056 [http-nio-8091-exec-38] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.057 [http-nio-8091-exec-38] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:09.075 [http-nio-8091-exec-29] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:09.076 [http-nio-8091-exec-23] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.097 [http-nio-8091-exec-37] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.100 [http-nio-8091-exec-31] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:09.102 [http-nio-8091-exec-29] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.102 [http-nio-8091-exec-35] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:09.102 [http-nio-8091-exec-35] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:09.102 [http-nio-8091-exec-29] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:09.103 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.104 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.104 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:09.130 [http-nio-8091-exec-31] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.130 [http-nio-8091-exec-31] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:09.157 [http-nio-8091-exec-37] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:09.157 [http-nio-8091-exec-37] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:09.168 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.168 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.168 [http-nio-8091-exec-37] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:09.198 [http-nio-8091-exec-35] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:09.199 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:09.199 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.199 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:09.199 [http-nio-8091-exec-35] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:09.216 [http-nio-8091-exec-43] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.216 [http-nio-8091-exec-43] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.222 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.222 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.222 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.237 [http-nio-8091-exec-48] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.237 [http-nio-8091-exec-48] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.238 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.238 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.238 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.251 [http-nio-8091-exec-19] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.252 [http-nio-8091-exec-19] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.256 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.256 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.256 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.258 [http-nio-8091-exec-37] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:09.258 [http-nio-8091-exec-41] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.259 [http-nio-8091-exec-41] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.259 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.259 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.259 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.264 [http-nio-8091-exec-34] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.264 [http-nio-8091-exec-34] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.265 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.265 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.265 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.281 [http-nio-8091-exec-43] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.301 [http-nio-8091-exec-48] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.317 [http-nio-8091-exec-37] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:09.335 [http-nio-8091-exec-41] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.342 [http-nio-8091-exec-19] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.345 [http-nio-8091-exec-34] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.345 [http-nio-8091-exec-37] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.345 [http-nio-8091-exec-37] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:09.357 [http-nio-8091-exec-48] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:09.357 [http-nio-8091-exec-48] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:09.358 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.358 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.358 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:09.367 [http-nio-8091-exec-36] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:09.367 [http-nio-8091-exec-36] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:09.368 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.368 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.368 [http-nio-8091-exec-36] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:09.381 [http-nio-8091-exec-43] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:09.381 [http-nio-8091-exec-43] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:09.382 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.382 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.382 [http-nio-8091-exec-43] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:09.385 [http-nio-8091-exec-23] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:09.385 [http-nio-8091-exec-23] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:09.385 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.385 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.386 [http-nio-8091-exec-23] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:09.421 [http-nio-8091-exec-41] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:09.421 [http-nio-8091-exec-41] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:09.423 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.423 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.423 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:09.431 [http-nio-8091-exec-34] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:09.431 [http-nio-8091-exec-34] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:09.431 [http-nio-8091-exec-19] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:09.431 [http-nio-8091-exec-19] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:09.433 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.433 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.433 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.433 [http-nio-8091-exec-34] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:09.433 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.433 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:09.447 [http-nio-8091-exec-48] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:09.448 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:09.448 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.448 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:09.448 [http-nio-8091-exec-48] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:09.490 [http-nio-8091-exec-36] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:09.493 [http-nio-8091-exec-23] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:09.526 [http-nio-8091-exec-43] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:09.526 [http-nio-8091-exec-40] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.526 [http-nio-8091-exec-40] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.532 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.532 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.532 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.543 [http-nio-8091-exec-19] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:09.545 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:09.545 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.545 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:09.545 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:09.567 [http-nio-8091-exec-45] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.569 [http-nio-8091-exec-45] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.571 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.571 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.571 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.587 [http-nio-8091-exec-34] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:09.588 [http-nio-8091-exec-40] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.592 [http-nio-8091-exec-36] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:09.595 [http-nio-8091-exec-42] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.595 [http-nio-8091-exec-42] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.600 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.600 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.600 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.602 [http-nio-8091-exec-23] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:09.607 [http-nio-8091-exec-33] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.607 [http-nio-8091-exec-33] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.607 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.607 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.607 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.620 [http-nio-8091-exec-36] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.621 [http-nio-8091-exec-36] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:09.624 [http-nio-8091-exec-43] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:09.644 [http-nio-8091-exec-40] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:09.644 [http-nio-8091-exec-40] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:09.645 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.646 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.646 [http-nio-8091-exec-40] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:09.656 [http-nio-8091-exec-42] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.658 [http-nio-8091-exec-23] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.658 [http-nio-8091-exec-23] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:09.660 [http-nio-8091-exec-44] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.660 [http-nio-8091-exec-44] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.663 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.663 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.663 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.665 [http-nio-8091-exec-45] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.669 [http-nio-8091-exec-39] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.669 [http-nio-8091-exec-39] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.671 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.671 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.671 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.674 [http-nio-8091-exec-34] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:09.686 [http-nio-8091-exec-43] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.686 [http-nio-8091-exec-43] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:09.703 [http-nio-8091-exec-34] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.703 [http-nio-8091-exec-34] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:09.712 [http-nio-8091-exec-33] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.720 [http-nio-8091-exec-44] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.761 [http-nio-8091-exec-28] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:09.761 [http-nio-8091-exec-28] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.764 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:09.764 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.764 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:09.769 [http-nio-8091-exec-33] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:09.769 [http-nio-8091-exec-33] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:09.771 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.771 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.771 [http-nio-8091-exec-33] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:09.776 [http-nio-8091-exec-44] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:09.776 [http-nio-8091-exec-44] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:09.778 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.778 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.778 [http-nio-8091-exec-44] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:09.823 [http-nio-8091-exec-28] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.833 [http-nio-8091-exec-42] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:09.833 [http-nio-8091-exec-42] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:09.834 [http-nio-8091-exec-41] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:09.834 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.834 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.834 [http-nio-8091-exec-42] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:09.853 [http-nio-8091-exec-39] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:09.876 [http-nio-8091-exec-40] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:09.876 [http-nio-8091-exec-44] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:09.918 [http-nio-8091-exec-42] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:09.939 [http-nio-8091-exec-39] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:09.941 [http-nio-8091-exec-39] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:09.941 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:09.941 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.941 [http-nio-8091-exec-39] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:09.946 [http-nio-8091-exec-33] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:09.950 [http-nio-8091-exec-41] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:09.957 [http-nio-8091-exec-44] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:09.957 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:09.957 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:09.957 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:09.957 [http-nio-8091-exec-1] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:09.980 [http-nio-8091-exec-41] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:09.980 [http-nio-8091-exec-41] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:10.001 [http-nio-8091-exec-33] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:10.004 [http-nio-8091-exec-46] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.004 [http-nio-8091-exec-46] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.007 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.007 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.007 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.020 [http-nio-8091-exec-45] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:10.020 [http-nio-8091-exec-45] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:10.020 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.020 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.020 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.020 [http-nio-8091-exec-9] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.021 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.021 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.021 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:10.027 [http-nio-8091-exec-44] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.027 [http-nio-8091-exec-44] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:10.028 [http-nio-8091-exec-40] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:10.028 [http-nio-8091-exec-33] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.028 [http-nio-8091-exec-33] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:10.048 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:10.048 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.048 [http-nio-8091-exec-41] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 101]
25-03-19.20:42:10.057 [http-nio-8091-exec-28] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:10.057 [http-nio-8091-exec-28] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:10.058 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.058 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.058 [http-nio-8091-exec-28] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:10.062 [http-nio-8091-exec-3] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.062 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.063 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.063 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.063 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.069 [http-nio-8091-exec-46] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.092 [http-nio-8091-exec-42] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:10.111 [http-nio-8091-exec-40] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.113 [http-nio-8091-exec-40] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:10.129 [http-nio-8091-exec-3] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.181 [http-nio-8091-exec-51] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.181 [http-nio-8091-exec-51] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.183 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.183 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.183 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.202 [http-nio-8091-exec-45] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:10.204 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:10.204 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.204 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:10.204 [http-nio-8091-exec-45] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:10.206 [http-nio-8091-exec-46] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:10.206 [http-nio-8091-exec-46] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:10.206 [http-nio-8091-exec-47] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.209 [http-nio-8091-exec-47] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.206 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.209 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.209 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:10.210 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.210 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.210 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.218 [http-nio-8091-exec-42] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.218 [http-nio-8091-exec-42] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:10.238 [http-nio-8091-exec-52] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.238 [http-nio-8091-exec-52] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.239 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.239 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.239 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.248 [http-nio-8091-exec-51] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.256 [http-nio-8091-exec-3] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:10.256 [http-nio-8091-exec-3] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:10.257 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.257 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.257 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.257 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:10.257 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.257 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.257 [http-nio-8091-exec-2] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.261 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.261 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.261 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.262 [http-nio-8091-exec-8] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.280 [http-nio-8091-exec-49] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.282 [http-nio-8091-exec-49] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.284 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.284 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.284 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.301 [http-nio-8091-exec-53] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.301 [http-nio-8091-exec-53] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.302 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.302 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.302 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.328 [http-nio-8091-exec-28] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:10.347 [http-nio-8091-exec-51] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:10.347 [http-nio-8091-exec-51] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:10.347 [http-nio-8091-exec-52] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.348 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.348 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.348 [http-nio-8091-exec-51] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:10.351 [http-nio-8091-exec-46] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:10.351 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:10.351 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.351 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:10.351 [http-nio-8091-exec-46] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:10.354 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.354 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.354 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.354 [http-nio-8091-exec-6] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.364 [http-nio-8091-exec-47] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.381 [http-nio-8091-exec-50] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.381 [http-nio-8091-exec-50] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.382 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.382 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.382 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.384 [http-nio-8091-exec-49] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.385 [http-nio-8091-exec-55] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.387 [http-nio-8091-exec-55] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.393 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.396 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.400 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.406 [http-nio-8091-exec-53] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.408 [http-nio-8091-exec-54] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.408 [http-nio-8091-exec-54] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.408 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.410 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.410 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.428 [http-nio-8091-exec-39] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.449 [http-nio-8091-exec-50] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.461 [http-nio-8091-exec-28] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:10.461 [http-nio-8091-exec-3] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.469 [http-nio-8091-exec-53] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:10.469 [http-nio-8091-exec-53] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:10.470 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.470 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.470 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:10.477 [http-nio-8091-exec-49] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:10.477 [http-nio-8091-exec-49] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:10.478 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.478 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.478 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:10.486 [http-nio-8091-exec-52] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:10.486 [http-nio-8091-exec-52] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:10.487 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.487 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.487 [http-nio-8091-exec-52] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:10.490 [http-nio-8091-exec-28] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.490 [http-nio-8091-exec-28] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:10.504 [http-nio-8091-exec-47] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:10.504 [http-nio-8091-exec-47] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:10.506 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.506 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.506 [http-nio-8091-exec-47] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:10.513 [http-nio-8091-exec-51] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:10.528 [http-nio-8091-exec-55] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.551 [http-nio-8091-exec-50] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:10.551 [http-nio-8091-exec-50] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:10.552 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.552 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.552 [http-nio-8091-exec-50] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:10.566 [http-nio-8091-exec-3] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.579 [http-nio-8091-exec-39] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.584 [http-nio-8091-exec-55] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:10.584 [http-nio-8091-exec-55] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:10.585 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.585 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.585 [http-nio-8091-exec-55] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:10.588 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.588 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.589 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.589 [http-nio-8091-exec-68] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.614 [http-nio-8091-exec-51] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:10.615 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.615 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.615 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.615 [http-nio-8091-exec-18] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.621 [http-nio-8091-exec-53] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.635 [http-nio-8091-exec-64] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.635 [http-nio-8091-exec-64] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.636 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.636 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.636 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.641 [http-nio-8091-exec-50] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.652 [http-nio-8091-exec-3] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.652 [http-nio-8091-exec-3] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:10.678 [http-nio-8091-exec-39] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.678 [http-nio-8091-exec-39] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:10.678 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.680 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.680 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.680 [http-nio-8091-exec-12] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.689 [http-nio-8091-exec-51] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.689 [http-nio-8091-exec-51] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:10.692 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.692 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.692 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.692 [http-nio-8091-exec-7] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.710 [http-nio-8091-exec-52] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:10.716 [http-nio-8091-exec-47] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:10.722 [http-nio-8091-exec-54] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.735 [http-nio-8091-exec-50] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.756 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.756 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.756 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.756 [http-nio-8091-exec-16] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.768 [http-nio-8091-exec-59] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.768 [http-nio-8091-exec-59] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.770 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.770 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.770 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.771 [http-nio-8091-exec-52] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:10.775 [http-nio-8091-exec-53] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:10.775 [http-nio-8091-exec-47] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:10.775 [http-nio-8091-exec-64] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.797 [http-nio-8091-exec-49] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:10.798 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:10.798 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.798 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:10.798 [http-nio-8091-exec-49] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:10.803 [http-nio-8091-exec-53] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.803 [http-nio-8091-exec-58] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.803 [http-nio-8091-exec-53] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:10.803 [http-nio-8091-exec-58] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.804 [http-nio-8091-exec-47] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.804 [http-nio-8091-exec-47] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:10.805 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.805 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.805 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.817 [http-nio-8091-exec-50] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.817 [http-nio-8091-exec-50] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:10.827 [http-nio-8091-exec-60] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.827 [http-nio-8091-exec-60] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.828 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.828 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.828 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.831 [http-nio-8091-exec-59] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.840 [http-nio-8091-exec-54] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:10.840 [http-nio-8091-exec-54] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:10.840 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.840 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.840 [http-nio-8091-exec-54] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:10.842 [http-nio-8091-exec-52] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:10.842 [http-nio-8091-exec-52] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:10.856 [http-nio-8091-exec-56] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.857 [http-nio-8091-exec-56] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.857 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.857 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.857 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.865 [http-nio-8091-exec-58] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.870 [http-nio-8091-exec-64] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:10.870 [http-nio-8091-exec-64] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:10.871 [http-nio-8091-exec-61] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.871 [http-nio-8091-exec-61] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.872 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.872 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.872 [http-nio-8091-exec-64] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:10.872 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.872 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.872 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.878 [http-nio-8091-exec-67] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.878 [http-nio-8091-exec-67] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.879 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.879 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.879 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.882 [http-nio-8091-exec-63] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.882 [http-nio-8091-exec-63] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.882 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.882 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.882 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.903 [http-nio-8091-exec-59] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:10.903 [http-nio-8091-exec-59] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:10.904 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.904 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.904 [http-nio-8091-exec-59] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:10.906 [http-nio-8091-exec-57] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.906 [http-nio-8091-exec-57] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.907 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.907 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.907 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.912 [http-nio-8091-exec-62] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.912 [http-nio-8091-exec-62] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.913 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.913 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.913 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.918 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.918 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.918 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.918 [http-nio-8091-exec-17] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.931 [http-nio-8091-exec-54] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:10.933 [http-nio-8091-exec-66] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:10.933 [http-nio-8091-exec-66] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.934 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:10.934 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.934 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:10.936 [http-nio-8091-exec-60] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.938 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:10.938 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.938 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.938 [http-nio-8091-exec-14] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:10.939 [http-nio-8091-exec-56] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.954 [http-nio-8091-exec-67] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.956 [http-nio-8091-exec-55] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:10.961 [http-nio-8091-exec-64] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:10.964 [http-nio-8091-exec-61] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:10.966 [http-nio-8091-exec-58] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:10.966 [http-nio-8091-exec-58] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:10.966 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:10.966 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:10.966 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:10.992 [http-nio-8091-exec-63] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.011 [http-nio-8091-exec-55] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:11.029 [http-nio-8091-exec-60] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:11.029 [http-nio-8091-exec-60] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:11.029 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.029 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.029 [http-nio-8091-exec-60] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:11.039 [http-nio-8091-exec-56] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:11.039 [http-nio-8091-exec-56] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:11.041 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.041 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.041 [http-nio-8091-exec-56] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:11.053 [http-nio-8091-exec-67] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:11.053 [http-nio-8091-exec-67] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:11.054 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.054 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.054 [http-nio-8091-exec-67] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:11.067 [http-nio-8091-exec-54] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:11.070 [http-nio-8091-exec-57] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.081 [http-nio-8091-exec-55] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.081 [http-nio-8091-exec-55] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:11.081 [http-nio-8091-exec-63] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:11.081 [http-nio-8091-exec-58] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:11.081 [http-nio-8091-exec-63] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:11.083 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.083 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:11.083 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.083 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:11.083 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.083 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:11.083 [http-nio-8091-exec-58] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:11.092 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from user_award_record
25-03-19.20:42:11.093 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.093 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:11.093 [http-nio-8091-exec-11] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from user_award_record_000 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_001 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_002 UNION ALL select  IFNULL(MAX(id), 0)
        from user_award_record_003
25-03-19.20:42:11.095 [http-nio-8091-exec-54] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.095 [http-nio-8091-exec-54] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:11.096 [http-nio-8091-exec-66] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.099 [http-nio-8091-exec-59] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:11.103 [http-nio-8091-exec-61] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:11.103 [http-nio-8091-exec-61] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:11.105 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.105 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.105 [http-nio-8091-exec-61] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:11.106 [http-nio-8091-exec-64] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:11.142 [http-nio-8091-exec-60] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:11.172 [http-nio-8091-exec-57] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:11.172 [http-nio-8091-exec-57] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:11.173 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.174 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.174 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:11.189 [http-nio-8091-exec-64] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.189 [http-nio-8091-exec-64] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:11.212 [http-nio-8091-exec-59] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:11.230 [http-nio-8091-exec-60] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:11.238 [http-nio-8091-exec-61] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:11.253 [http-nio-8091-exec-66] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:11.253 [http-nio-8091-exec-66] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:11.255 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.255 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.255 [http-nio-8091-exec-66] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:11.261 [http-nio-8091-exec-60] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.261 [http-nio-8091-exec-60] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:11.261 [http-nio-8091-exec-67] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.262 [http-nio-8091-exec-63] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:11.266 [http-nio-8091-exec-62] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.282 [http-nio-8091-exec-10] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.282 [http-nio-8091-exec-10] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.282 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.282 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.282 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.286 [http-nio-8091-exec-56] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.297 [http-nio-8091-exec-70] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.297 [http-nio-8091-exec-70] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.298 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.298 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.298 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.303 [http-nio-8091-exec-59] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.303 [http-nio-8091-exec-59] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:11.341 [http-nio-8091-exec-57] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:11.342 [http-nio-8091-exec-10] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.350 [http-nio-8091-exec-66] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.361 [http-nio-8091-exec-69] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.362 [http-nio-8091-exec-69] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.362 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.362 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.363 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.385 [http-nio-8091-exec-62] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:11.385 [http-nio-8091-exec-62] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:11.386 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.386 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.386 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:11.391 [http-nio-8091-exec-67] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.395 [http-nio-8091-exec-56] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.396 [http-nio-8091-exec-71] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.396 [http-nio-8091-exec-57] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:11.398 [http-nio-8091-exec-71] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.399 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.399 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.399 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.404 [http-nio-8091-exec-73] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.405 [http-nio-8091-exec-73] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.406 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.406 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.406 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.416 [http-nio-8091-exec-61] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:11.417 [http-nio-8091-exec-67] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.417 [http-nio-8091-exec-67] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:11.418 [http-nio-8091-exec-69] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.425 [http-nio-8091-exec-63] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:11.433 [http-nio-8091-exec-72] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.433 [http-nio-8091-exec-72] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.434 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.434 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.434 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.446 [http-nio-8091-exec-61] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.446 [http-nio-8091-exec-61] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:11.446 [http-nio-8091-exec-70] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.448 [http-nio-8091-exec-75] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.448 [http-nio-8091-exec-75] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.448 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.449 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.449 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.453 [http-nio-8091-exec-63] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.453 [http-nio-8091-exec-56] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.453 [http-nio-8091-exec-56] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:11.453 [http-nio-8091-exec-63] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:11.461 [http-nio-8091-exec-57] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.461 [http-nio-8091-exec-57] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:11.467 [http-nio-8091-exec-74] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.467 [http-nio-8091-exec-74] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.467 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.467 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.467 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.478 [http-nio-8091-exec-78] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.478 [http-nio-8091-exec-78] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.481 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.482 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.488 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.489 [http-nio-8091-exec-66] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.491 [http-nio-8091-exec-72] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.506 [http-nio-8091-exec-62] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.509 [http-nio-8091-exec-75] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.515 [http-nio-8091-exec-71] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.534 [http-nio-8091-exec-73] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.536 [http-nio-8091-exec-70] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:11.536 [http-nio-8091-exec-70] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:11.537 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.537 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.537 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:11.549 [http-nio-8091-exec-66] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.549 [http-nio-8091-exec-66] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:11.552 [http-nio-8091-exec-65] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.552 [http-nio-8091-exec-65] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.560 [http-nio-8091-exec-78] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.560 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.560 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.560 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.561 [http-nio-8091-exec-69] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:11.561 [http-nio-8091-exec-69] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:11.562 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.562 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.562 [http-nio-8091-exec-69] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:11.563 [http-nio-8091-exec-21] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 331
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:11.600 [http-nio-8091-exec-74] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.610 [http-nio-8091-exec-5] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:11.610 [http-nio-8091-exec-62] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.610 [http-nio-8091-exec-5] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:11.610 [http-nio-8091-exec-75] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:11.610 [http-nio-8091-exec-75] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:11.613 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.613 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.613 [http-nio-8091-exec-75] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:11.620 [http-nio-8091-exec-65] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.632 [http-nio-8091-exec-70] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:11.646 [http-nio-8091-exec-10] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:11.646 [http-nio-8091-exec-10] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:11.647 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.647 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.647 [http-nio-8091-exec-10] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:11.652 [http-nio-8091-exec-73] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:11.652 [http-nio-8091-exec-73] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:11.660 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.660 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.660 [http-nio-8091-exec-73] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:11.667 [http-nio-8091-exec-78] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:11.667 [http-nio-8091-exec-78] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:11.668 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.668 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.668 [http-nio-8091-exec-78] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:11.674 [http-nio-8091-exec-65] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:11.674 [http-nio-8091-exec-65] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:11.676 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.676 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.677 [http-nio-8091-exec-65] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:11.686 [http-nio-8091-exec-5] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:11.697 [http-nio-8091-exec-76] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.699 [http-nio-8091-exec-76] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.701 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.701 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.701 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.704 [http-nio-8091-exec-62] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.704 [http-nio-8091-exec-62] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:11.714 [http-nio-8091-exec-5] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:11.714 [http-nio-8091-exec-5] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:11.715 [http-nio-8091-exec-77] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.715 [http-nio-8091-exec-77] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.716 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.716 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.716 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.721 [http-nio-8091-exec-74] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:11.721 [http-nio-8091-exec-74] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:11.721 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.721 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.722 [http-nio-8091-exec-74] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:11.724 [http-nio-8091-exec-71] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:11.724 [http-nio-8091-exec-71] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:11.725 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.725 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.725 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:11.741 [http-nio-8091-exec-70] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:11.741 [http-nio-8091-exec-69] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:11.741 [http-nio-8091-exec-10] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:11.752 [http-nio-8091-exec-75] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.753 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Logic SQL: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ?
25-03-19.20:42:11.753 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.753 [http-nio-8091-exec-5] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select   
        strategy_id, award_id,award_title, award_subtitle,award_count, award_count_surplus, award_rate,sort
     
        from strategy_award
        where strategy_id = ? and award_id = ? ::: [100006, 107]
25-03-19.20:42:11.756 [http-nio-8091-exec-72] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:11.756 [http-nio-8091-exec-72] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:11.764 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.764 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.764 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:11.779 [http-nio-8091-exec-77] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.783 [http-nio-8091-exec-70] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.783 [http-nio-8091-exec-70] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:11.801 [http-nio-8091-exec-10] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:11.801 [http-nio-8091-exec-73] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:11.802 [http-nio-8091-exec-65] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:11.802 [http-nio-8091-exec-22] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 332
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:11.814 [http-nio-8091-exec-80] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.814 [http-nio-8091-exec-80] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.816 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.817 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.817 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.817 [http-nio-8091-exec-69] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:11.818 [http-nio-8091-exec-76] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.834 [http-nio-8091-exec-10] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.834 [http-nio-8091-exec-10] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:11.840 [http-nio-8091-exec-13] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 323
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:11.844 [http-nio-8091-exec-75] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:11.848 [http-nio-8091-exec-71] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:11.854 [http-nio-8091-exec-81] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.855 [http-nio-8091-exec-81] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.855 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.855 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.856 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.857 [http-nio-8091-exec-84] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.857 [http-nio-8091-exec-84] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.859 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.859 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.859 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.874 [http-nio-8091-exec-72] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:11.875 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:11.876 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.876 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:11.876 [http-nio-8091-exec-72] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:11.876 [http-nio-8091-exec-75] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.876 [http-nio-8091-exec-75] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:11.899 [http-nio-8091-exec-69] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:11.899 [http-nio-8091-exec-69] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:11.900 [http-nio-8091-exec-88] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.905 [http-nio-8091-exec-88] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.910 [http-nio-8091-exec-77] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 105
25-03-19.20:42:11.910 [http-nio-8091-exec-77] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 rule_default
25-03-19.20:42:11.911 [http-nio-8091-exec-81] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.911 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.911 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.911 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.911 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.911 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.912 [http-nio-8091-exec-77] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 105]
25-03-19.20:42:11.916 [http-nio-8091-exec-84] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.943 [http-nio-8091-exec-71] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:11.946 [http-nio-8091-exec-74] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:11.950 [http-nio-8091-exec-87] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:11.950 [http-nio-8091-exec-87] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.950 [http-nio-8091-exec-24] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 334
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:11.951 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:11.951 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.951 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:11.953 [http-nio-8091-exec-65] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:11.953 [http-nio-8091-exec-73] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:11.965 [http-nio-8091-exec-80] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:11.971 [http-nio-8091-exec-76] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:11.971 [http-nio-8091-exec-76] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:11.972 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:11.972 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:11.972 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:12.075 [http-nio-8091-exec-84] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:12.075 [http-nio-8091-exec-84] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:12.075 [http-nio-8091-exec-87] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.075 [http-nio-8091-exec-81] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:12.075 [http-nio-8091-exec-73] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.076 [http-nio-8091-exec-81] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:12.076 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.076 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.076 [http-nio-8091-exec-89] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.076 [http-nio-8091-exec-84] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:12.076 [http-nio-8091-exec-73] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:12.076 [http-nio-8091-exec-74] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:12.076 [http-nio-8091-exec-89] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.076 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.076 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.076 [http-nio-8091-exec-71] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.076 [http-nio-8091-exec-81] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:12.076 [http-nio-8091-exec-71] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:12.022 [http-nio-8091-exec-65] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.077 [http-nio-8091-exec-65] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:12.077 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.077 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.077 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.102 [http-nio-8091-exec-79] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.104 [http-nio-8091-exec-79] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.106 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.106 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.106 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.109 [http-nio-8091-exec-78] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.117 [http-nio-8091-exec-80] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:12.117 [http-nio-8091-exec-80] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:12.118 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.118 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.118 [http-nio-8091-exec-80] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:12.137 [http-nio-8091-exec-74] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.137 [http-nio-8091-exec-74] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:12.141 [http-nio-8091-exec-90] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.141 [http-nio-8091-exec-90] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.142 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.142 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.142 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.149 [http-nio-8091-exec-77] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:12.200 [http-nio-8091-exec-89] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.202 [http-nio-8091-exec-87] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:12.202 [http-nio-8091-exec-87] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:12.202 [http-nio-8091-exec-76] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.204 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.204 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.204 [http-nio-8091-exec-87] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:12.204 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:12.204 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.204 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.204 [http-nio-8091-exec-76] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.212 [http-nio-8091-exec-83] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.212 [http-nio-8091-exec-83] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.213 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.213 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.213 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.227 [http-nio-8091-exec-88] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.235 [http-nio-8091-exec-85] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.235 [http-nio-8091-exec-85] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.236 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.236 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.236 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.243 [http-nio-8091-exec-79] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.266 [http-nio-8091-exec-84] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.290 [http-nio-8091-exec-81] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.297 [http-nio-8091-exec-77] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:105
25-03-19.20:42:12.297 [http-nio-8091-exec-78] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.307 [http-nio-8091-exec-89] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:12.310 [http-nio-8091-exec-89] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:12.314 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.314 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.314 [http-nio-8091-exec-89] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:12.315 [http-nio-8091-exec-29] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 339
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.330 [http-nio-8091-exec-90] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.332 [http-nio-8091-exec-82] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.332 [http-nio-8091-exec-82] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.332 [http-nio-8091-exec-15] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 325
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.333 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.333 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.333 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.347 [http-nio-8091-exec-38] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 348
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.354 [http-nio-8091-exec-86] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.355 [http-nio-8091-exec-86] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.356 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.356 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.356 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.361 [http-nio-8091-exec-77] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.361 [http-nio-8091-exec-77] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 105 null
25-03-19.20:42:12.361 [http-nio-8091-exec-78] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.361 [http-nio-8091-exec-78] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:12.361 [http-nio-8091-exec-31] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 341
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.364 [http-nio-8091-exec-79] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:12.364 [http-nio-8091-exec-79] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:12.368 [http-nio-8091-exec-83] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.369 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.369 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.369 [http-nio-8091-exec-79] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:12.391 [http-nio-8091-exec-96] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.391 [http-nio-8091-exec-96] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.392 [http-nio-8091-exec-25] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.392 [http-nio-8091-exec-25] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.396 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.396 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.396 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.405 [http-nio-8091-exec-84] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.414 [http-nio-8091-exec-90] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:12.414 [http-nio-8091-exec-90] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:12.415 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.415 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.415 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:12.450 [http-nio-8091-exec-93] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.450 [http-nio-8091-exec-93] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.458 [http-nio-8091-exec-84] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.461 [http-nio-8091-exec-84] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:12.462 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.462 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.462 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.462 [http-nio-8091-exec-87] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:12.468 [http-nio-8091-exec-81] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.485 [http-nio-8091-exec-32] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.485 [http-nio-8091-exec-32] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.491 [http-nio-8091-exec-88] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 106
25-03-19.20:42:12.491 [http-nio-8091-exec-88] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 rule_default
25-03-19.20:42:12.492 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.492 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.492 [http-nio-8091-exec-88] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 106]
25-03-19.20:42:12.501 [http-nio-8091-exec-27] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 337
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.508 [http-nio-8091-exec-89] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.515 [http-nio-8091-exec-86] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.524 [http-nio-8091-exec-81] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.524 [http-nio-8091-exec-81] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:12.536 [http-nio-8091-exec-48] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.536 [http-nio-8091-exec-48] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.538 [http-nio-8091-exec-83] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:12.538 [http-nio-8091-exec-83] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:12.541 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.541 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.542 [http-nio-8091-exec-83] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:12.545 [http-nio-8091-exec-25] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.547 [http-nio-8091-exec-92] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.547 [http-nio-8091-exec-92] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.548 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.548 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.548 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.573 [http-nio-8091-exec-79] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:12.575 [http-nio-8091-exec-87] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:12.582 [http-nio-8091-exec-32] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.587 [http-nio-8091-exec-35] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.587 [http-nio-8091-exec-35] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.587 [http-nio-8091-exec-26] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 336
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.591 [http-nio-8091-exec-91] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.591 [http-nio-8091-exec-91] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.596 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.596 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.596 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.597 [http-nio-8091-exec-85] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.604 [http-nio-8091-exec-96] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.607 [http-nio-8091-exec-37] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 347
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.615 [http-nio-8091-exec-25] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.615 [http-nio-8091-exec-25] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.616 [http-nio-8091-exec-95] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.616 [http-nio-8091-exec-95] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.617 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.617 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.617 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.622 [http-nio-8091-exec-93] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.622 [http-nio-8091-exec-97] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.622 [http-nio-8091-exec-97] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.623 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.623 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.623 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.628 [http-nio-8091-exec-48] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.634 [http-nio-8091-exec-89] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.634 [http-nio-8091-exec-87] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.634 [http-nio-8091-exec-86] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:12.634 [http-nio-8091-exec-86] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:12.634 [http-nio-8091-exec-87] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:12.641 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.641 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.641 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:12.647 [http-nio-8091-exec-32] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.647 [http-nio-8091-exec-32] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.657 [http-nio-8091-exec-90] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.658 [http-nio-8091-exec-80] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:12.666 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:12.666 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.666 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.666 [http-nio-8091-exec-90] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.667 [http-nio-8091-exec-45] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.667 [http-nio-8091-exec-45] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.669 [http-nio-8091-exec-35] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.669 [http-nio-8091-exec-85] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:12.670 [http-nio-8091-exec-85] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:12.671 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.671 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.671 [http-nio-8091-exec-85] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:12.684 [http-nio-8091-exec-94] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.687 [http-nio-8091-exec-94] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.695 [http-nio-8091-exec-48] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.695 [http-nio-8091-exec-48] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.698 [http-nio-8091-exec-91] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.698 [http-nio-8091-exec-82] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.699 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.699 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.699 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.700 [http-nio-8091-exec-35] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.700 [http-nio-8091-exec-89] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.700 [http-nio-8091-exec-35] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.700 [http-nio-8091-exec-89] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:12.701 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:12.701 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:12.701 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:12.701 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:12.701 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:12.701 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:12.701 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:12.701 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:12.701 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:12.701 [http-nio-8091-exec-71] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [60, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 103, OpenAI随机额度, 2025-03-19 20:42:12.147, create]
25-03-19.20:42:12.701 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:12.701 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [46, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 106, OpenAI随机额度, 2025-03-19 20:42:11.482, create]
25-03-19.20:42:12.701 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [44, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 105, OpenAI随机额度, 2025-03-19 20:42:06.719, create]
25-03-19.20:42:12.701 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [47, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 105, OpenAI随机额度, 2025-03-19 20:42:11.536, create]
25-03-19.20:42:12.701 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:12.701 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:12.701 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [50, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 101, 随机积分, 2025-03-19 20:42:11.765, create]
25-03-19.20:42:12.701 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [52, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 105, OpenAI随机额度, 2025-03-19 20:42:11.885, create]
25-03-19.20:42:12.702 [http-nio-8091-exec-79] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:12.712 [http-nio-8091-exec-92] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.725 [http-nio-8091-exec-100] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.725 [http-nio-8091-exec-100] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.729 [http-nio-8091-exec-96] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:12.729 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.729 [http-nio-8091-exec-96] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:12.729 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.729 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.730 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.731 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.731 [http-nio-8091-exec-96] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:12.733 [http-nio-8091-exec-88] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:12.769 [http-nio-8091-exec-45] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.770 [http-nio-8091-exec-79] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.769 [http-nio-8091-exec-93] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 108
25-03-19.20:42:12.770 [http-nio-8091-exec-97] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.770 [http-nio-8091-exec-82] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:12.770 [http-nio-8091-exec-95] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.770 [http-nio-8091-exec-79] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:12.771 [http-nio-8091-exec-30] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.770 [http-nio-8091-exec-93] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 rule_default
25-03-19.20:42:12.771 [http-nio-8091-exec-30] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.771 [http-nio-8091-exec-82] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:12.771 [http-nio-8091-exec-94] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.771 [http-nio-8091-exec-46] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.771 [http-nio-8091-exec-46] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.776 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.776 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.776 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.776 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.776 [http-nio-8091-exec-82] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:12.776 [http-nio-8091-exec-93] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 108]
25-03-19.20:42:12.782 [http-nio-8091-exec-20] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.782 [http-nio-8091-exec-20] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.790 [http-nio-8091-exec-80] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:12.808 [http-nio-8091-exec-85] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:12.823 [http-nio-8091-exec-88] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:106
25-03-19.20:42:12.824 [http-nio-8091-exec-45] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.824 [http-nio-8091-exec-45] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.827 [http-nio-8091-exec-91] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:12.827 [http-nio-8091-exec-91] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:12.827 [http-nio-8091-exec-80] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.827 [http-nio-8091-exec-80] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:12.828 [http-nio-8091-exec-100] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.828 [http-nio-8091-exec-23] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 333
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.828 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.828 [http-nio-8091-exec-19] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.828 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.828 [http-nio-8091-exec-19] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.828 [http-nio-8091-exec-36] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 346
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.829 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:12.837 [http-nio-8091-exec-30] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.838 [http-nio-8091-exec-99] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.838 [http-nio-8091-exec-99] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.840 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.840 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.840 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.861 [http-nio-8091-exec-96] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:12.861 [http-nio-8091-exec-97] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 104
25-03-19.20:42:12.861 [http-nio-8091-exec-83] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:12.864 [http-nio-8091-exec-97] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 rule_default
25-03-19.20:42:12.864 [http-nio-8091-exec-30] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.864 [http-nio-8091-exec-30] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.864 [http-nio-8091-exec-49] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.864 [http-nio-8091-exec-49] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.866 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.866 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.866 [http-nio-8091-exec-97] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 104]
25-03-19.20:42:12.867 [http-nio-8091-exec-88] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.867 [http-nio-8091-exec-88] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 106 null
25-03-19.20:42:12.868 [http-nio-8091-exec-82] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:12.872 [http-nio-8091-exec-92] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 102
25-03-19.20:42:12.872 [http-nio-8091-exec-92] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 rule_default
25-03-19.20:42:12.872 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.872 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.872 [http-nio-8091-exec-92] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 102]
25-03-19.20:42:12.886 [http-nio-8091-exec-93] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:12.891 [http-nio-8091-exec-46] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.892 [http-nio-8091-exec-86] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.893 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:12.893 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.893 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.893 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.895 [http-nio-8091-exec-85] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:12.902 [http-nio-8091-exec-99] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.910 [http-nio-8091-exec-58] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.911 [http-nio-8091-exec-58] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.918 [http-nio-8091-exec-49] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.918 [http-nio-8091-exec-96] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:12.918 [http-nio-8091-exec-46] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.919 [http-nio-8091-exec-46] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.919 [http-nio-8091-exec-91] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.919 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: select  IFNULL(MAX(id), 0)
        from task
25-03-19.20:42:12.919 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.919 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-19.20:42:12.919 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  IFNULL(MAX(id), 0)
        from task
25-03-19.20:42:12.919 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:12.920 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.920 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.920 [http-nio-8091-exec-91] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:12.925 [http-nio-8091-exec-100] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 101
25-03-19.20:42:12.925 [http-nio-8091-exec-100] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 rule_default
25-03-19.20:42:12.927 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.927 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.927 [http-nio-8091-exec-100] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 101]
25-03-19.20:42:12.929 [http-nio-8091-exec-85] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.929 [http-nio-8091-exec-85] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:12.934 [http-nio-8091-exec-94] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 107
25-03-19.20:42:12.935 [http-nio-8091-exec-94] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 rule_default
25-03-19.20:42:12.937 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:12.937 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.937 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 107]
25-03-19.20:42:12.937 [http-nio-8091-exec-43] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 353
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.945 [http-nio-8091-exec-96] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.945 [http-nio-8091-exec-49] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:12.945 [http-nio-8091-exec-96] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:12.945 [http-nio-8091-exec-49] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:12.945 [http-nio-8091-exec-98] INFO  RaffleActivityController - 活动抽奖，创建订单 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401 orderId:470893152226
25-03-19.20:42:12.945 [http-nio-8091-exec-98] INFO  BackListLogicChain     - 抽奖责任链-黑名单开始 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:12.946 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Logic SQL: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=?
25-03-19.20:42:12.946 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:12.946 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select rule_value
        from strategy_rule
        where strategy_id = ? and rule_model=? ::: [100006, rule_blacklist]
25-03-19.20:42:12.949 [http-nio-8091-exec-83] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:12.951 [http-nio-8091-exec-72] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:12.951 [http-nio-8091-exec-72] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:12.956 [http-nio-8091-exec-93] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:108
25-03-19.20:42:12.959 [http-nio-8091-exec-82] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:12.970 [http-nio-8091-exec-34] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 344
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:12.978 [http-nio-8091-exec-83] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.980 [http-nio-8091-exec-83] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:12.980 [http-nio-8091-exec-97] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:12.982 [http-nio-8091-exec-93] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.984 [http-nio-8091-exec-93] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 108 null
25-03-19.20:42:12.984 [http-nio-8091-exec-92] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:12.986 [http-nio-8091-exec-82] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:12.986 [http-nio-8091-exec-82] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:12.988 [http-nio-8091-exec-1] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 311
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.002 [http-nio-8091-exec-98] INFO  BackListLogicChain     - 抽奖责任链-黑名单放行 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 ruleModel:rule_blacklist
25-03-19.20:42:13.026 [http-nio-8091-exec-94] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.029 [http-nio-8091-exec-58] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.030 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Logic SQL: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ?
25-03-19.20:42:13.030 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:13.030 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:13.030 [http-nio-8091-exec-94] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: select  user_id, activity_id, total_count, total_count_surplus, day_count,
                day_count_surplus, month_count, month_count_surplus
        from raffle_activity_account
        where user_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s]
25-03-19.20:42:13.040 [http-nio-8091-exec-97] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:104
25-03-19.20:42:13.041 [http-nio-8091-exec-76] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:13.041 [http-nio-8091-exec-76] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.055 [http-nio-8091-exec-99] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:13.056 [http-nio-8091-exec-58] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.056 [http-nio-8091-exec-99] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:13.056 [http-nio-8091-exec-58] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.057 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:13.057 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:13.057 [http-nio-8091-exec-99] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:13.060 [http-nio-8091-exec-92] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:102
25-03-19.20:42:13.060 [http-nio-8091-exec-72] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.061 [http-nio-8091-exec-100] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:13.070 [http-nio-8091-exec-90] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:13.070 [http-nio-8091-exec-90] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.078 [http-nio-8091-exec-98] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:13.078 [http-nio-8091-exec-98] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:13.079 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:13.079 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:13.079 [http-nio-8091-exec-98] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:13.099 [http-nio-8091-exec-72] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.099 [http-nio-8091-exec-92] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:13.099 [http-nio-8091-exec-92] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 102 null
25-03-19.20:42:13.099 [http-nio-8091-exec-72] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.113 [http-nio-8091-exec-76] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.125 [http-nio-8091-exec-100] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:101
25-03-19.20:42:13.129 [http-nio-8091-exec-68] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 576
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.135 [http-nio-8091-exec-95] INFO  DefaultLogicChain      - 抽奖责任链-默认处理 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId: 100006 ruleModel: rule_default awardId: 103
25-03-19.20:42:13.135 [http-nio-8091-exec-95] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 rule_default
25-03-19.20:42:13.136 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Logic SQL: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=?
25-03-19.20:42:13.136 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - SQLStatement: MySQLSelectStatement(table=Optional.empty, limit=Optional.empty, lock=Optional.empty, window=Optional.empty)
25-03-19.20:42:13.136 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db00 ::: select  rule_models
        from strategy_award
        where strategy_id = ? and  award_id=? ::: [100006, 103]
25-03-19.20:42:13.141 [http-nio-8091-exec-90] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.144 [http-nio-8091-exec-76] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.145 [http-nio-8091-exec-76] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.145 [http-nio-8091-exec-8] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 318
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.154 [http-nio-8091-exec-100] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:13.154 [http-nio-8091-exec-100] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 101 null
25-03-19.20:42:13.154 [http-nio-8091-exec-20] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.160 [http-nio-8091-exec-99] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:13.170 [http-nio-8091-exec-2] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 312
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.170 [http-nio-8091-exec-44] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 354
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.171 [http-nio-8091-exec-16] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 326
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.176 [http-nio-8091-exec-90] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.176 [http-nio-8091-exec-90] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.176 [http-nio-8091-exec-98] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:13.181 [http-nio-8091-exec-12] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 322
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.206 [http-nio-8091-exec-19] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.206 [http-nio-8091-exec-20] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.206 [http-nio-8091-exec-20] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.208 [http-nio-8091-exec-33] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 343
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.215 [http-nio-8091-exec-86] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:13.215 [http-nio-8091-exec-86] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.229 [http-nio-8091-exec-14] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 324
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.231 [http-nio-8091-exec-91] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:13.231 [http-nio-8091-exec-91] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.231 [http-nio-8091-exec-17] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 327
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.235 [http-nio-8091-exec-19] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.235 [http-nio-8091-exec-19] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.236 [http-nio-8091-exec-98] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:13.245 [http-nio-8091-exec-40] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 350
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.255 [http-nio-8091-exec-95] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:13.262 [http-nio-8091-exec-94] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_lock code:0000
25-03-19.20:42:13.263 [http-nio-8091-exec-94] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.265 [http-nio-8091-exec-98] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:13.265 [http-nio-8091-exec-98] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:13.276 [http-nio-8091-exec-86] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.287 [http-nio-8091-exec-91] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.291 [http-nio-8091-exec-11] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 321
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.306 [http-nio-8091-exec-86] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.306 [http-nio-8091-exec-86] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.312 [http-nio-8091-exec-95] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:13.315 [http-nio-8091-exec-91] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.315 [http-nio-8091-exec-91] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.317 [http-nio-8091-exec-9] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 319
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.326 [http-nio-8091-exec-97] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:13.326 [http-nio-8091-exec-94] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:107
25-03-19.20:42:13.326 [http-nio-8091-exec-97] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 104 null
25-03-19.20:42:13.343 [http-nio-8091-exec-95] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:13.343 [http-nio-8091-exec-95] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:13.354 [http-nio-8091-exec-94] INFO  DecisionTreeEngine     - 决策树引擎【规则树】treeId:tree_lock_1 node:rule_stock code:0000
25-03-19.20:42:13.356 [http-nio-8091-exec-94] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 107 null
25-03-19.20:42:13.358 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:13.358 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.358 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_002(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [46, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 107, OpenAI随机额度, 2025-03-19 20:42:12.674, create]
25-03-19.20:42:13.359 [http-nio-8091-exec-41] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 351
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.375 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:13.375 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.375 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [275, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 47096107344, {"data":{"awardId":105,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"47096107344","timestamp":1742388131536}, create]
25-03-19.20:42:13.402 [http-nio-8091-exec-42] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 352
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.403 [http-nio-8091-exec-7] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 317
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.404 [http-nio-8091-exec-6] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 316
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.461 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:13.461 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.462 [http-nio-8091-exec-86] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [48, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 107, OpenAI随机额度, 2025-03-19 20:42:13.341, create]
25-03-19.20:42:13.493 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:13.493 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.493 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [276, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 51527519721, {"data":{"awardId":105,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"51527519721","timestamp":1742388126719}, create]
25-03-19.20:42:13.507 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:13.507 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:13.507 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.507 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.507 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.507 [http-nio-8091-exec-99] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减-成功 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s strategyId:100006 awardId:103
25-03-19.20:42:13.509 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.509 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.509 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.509 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.509 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.539 [http-nio-8091-exec-99] INFO  DecisionTreeEngine     - 决策树引擎【规则树-兜底奖励】treeId:tree_luck_award node:rule_stock code:0000
25-03-19.20:42:13.539 [http-nio-8091-exec-99] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 ohGUf67Vme6-oFdR7b1Ml8mw34_s 100006 103 null
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.552 [http-nio-8091-exec-4] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.575 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:13.575 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.575 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_001(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [49, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 103, OpenAI随机额度, 2025-03-19 20:42:10.68, create]
25-03-19.20:42:13.605 [http-nio-8091-exec-28] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 338
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.635 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:13.635 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.635 [http-nio-8091-exec-18] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 328
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.635 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [277, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 16524444240, {"data":{"awardId":106,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"16524444240","timestamp":1742388131482}, create]
25-03-19.20:42:13.693 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:13.693 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.693 [http-nio-8091-exec-19] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [51, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 107, OpenAI随机额度, 2025-03-19 20:42:13.261, create]
25-03-19.20:42:13.725 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:13.725 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.726 [http-nio-8091-exec-63] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.785 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:13.785 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:13.785 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.785 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.785 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [278, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 58102777285, {"data":{"awardId":103,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"58102777285","timestamp":1742388130680}, create]
25-03-19.20:42:13.785 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into user_award_record_000(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [52, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 103, OpenAI随机额度, 2025-03-19 20:42:13.632, create]
25-03-19.20:42:13.810 [http-nio-8091-exec-39] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 349
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.851 [http-nio-8091-exec-51] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 557
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.897 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Logic SQL: insert into user_award_record(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (
                    ?, ?,?,?,?,?,?,?,?,now(),now()
                 )
25-03-19.20:42:13.897 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:13.897 [http-nio-8091-exec-53] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into user_award_record_003(
            id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time
        ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now()) ::: [55, ohGUf67Vme6-oFdR7b1Ml8mw34_s, 100401, 100006, 470893152226, 103, OpenAI随机额度, 2025-03-19 20:42:10.831, create]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.911 [http-nio-8091-exec-3] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:13.933 [http-nio-8091-exec-47] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 357
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.957 [http-nio-8091-exec-50] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 360
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:13.989 [http-nio-8091-exec-52] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 558
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.263 [http-nio-8091-exec-55] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 561
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.289 [http-nio-8091-exec-54] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 560
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.299 [http-nio-8091-exec-53] ERROR AwardRepository        - 写入中奖记录，唯一索引冲突 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 103
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserAwardRecordDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserAwardRecordDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_award_record(             id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time         ) values (                     ?, ?,?,?,?,?,?,?,?,now(),now()                  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
; Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy299.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy320.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:637)
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:418)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:412)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:408)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:85)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:64)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:101)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.serialExecute(ExecutorEngine.java:87)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:81)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:65)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:49)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.doExecute(DriverJDBCExecutor.java:153)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.execute(DriverJDBCExecutor.java:142)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:376)
	at sun.reflect.GeneratedMethodAccessor226.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy366.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 93 common frames omitted
25-03-19.20:42:14.300 [http-nio-8091-exec-19] ERROR AwardRepository        - 写入中奖记录，唯一索引冲突 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 107
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserAwardRecordDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserAwardRecordDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_award_record(             id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time         ) values (                     ?, ?,?,?,?,?,?,?,?,now(),now()                  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
; Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy299.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy320.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:637)
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:418)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:412)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:408)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:85)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:64)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:101)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.serialExecute(ExecutorEngine.java:87)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:81)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:65)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:49)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.doExecute(DriverJDBCExecutor.java:153)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.execute(DriverJDBCExecutor.java:142)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:376)
	at sun.reflect.GeneratedMethodAccessor226.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy366.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 93 common frames omitted
25-03-19.20:42:14.301 [http-nio-8091-exec-57] ERROR RocketMQTemplate       - syncSend failed. destination:send_award, message:GenericMessage [payload=byte[168], headers={contentType=text/plain;charset=UTF-8, id=f6814565-901d-6cb5-16f3-3de497e9520f, timestamp=1742388134226}], detail exception info: 
org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.310 [http-nio-8091-exec-57] ERROR EventPublisher         - 发送MQ消息失败 topic:send_award message:{"data":{"awardId":105,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"47096107344","timestamp":1742388131536}
org.springframework.messaging.MessagingException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.; nested exception is org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:566)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:487)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:475)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:977)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.doSend(RocketMQTemplate.java:60)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:129)
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:122)
	at cn.wenzhuo4657.BigMarket.infrastructure.event.EventPublisher.publish(EventPublisher.java:41)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:123)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: send_award
See http://rocketmq.apache.org/docs/faq/ for further details.
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:675)
	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1367)
	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:354)
	at org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:558)
	... 95 common frames omitted
25-03-19.20:42:14.310 [http-nio-8091-exec-57] ERROR AwardRepository        - 写入中奖记录，发送MQ消息失败 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s topic: send_award
25-03-19.20:42:14.311 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Logic SQL: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ?
25-03-19.20:42:14.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:14.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 47096107344]
25-03-19.20:42:14.312 [http-nio-8091-exec-57] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update task
        set state = 'fail', update_time = now()
        where user_id = ? and message_id = ? ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 47096107344]
25-03-19.20:42:14.319 [http-nio-8091-exec-64] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 571
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.367 [http-nio-8091-exec-53] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:112)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserAwardRecordDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserAwardRecordDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_award_record(             id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time         ) values (                     ?, ?,?,?,?,?,?,?,?,now(),now()                  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
; Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy299.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy320.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:96)
	... 87 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:637)
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:418)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:412)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:408)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:85)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:64)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:101)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.serialExecute(ExecutorEngine.java:87)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:81)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:65)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:49)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.doExecute(DriverJDBCExecutor.java:153)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.execute(DriverJDBCExecutor.java:142)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:376)
	at sun.reflect.GeneratedMethodAccessor226.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy366.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 93 common frames omitted
25-03-19.20:42:14.373 [http-nio-8091-exec-4] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 105
25-03-19.20:42:14.379 [http-nio-8091-exec-19] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:112)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserAwardRecordDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserAwardRecordDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_award_record(             id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time         ) values (                     ?, ?,?,?,?,?,?,?,?,now(),now()                  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
; Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy299.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy320.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:96)
	... 87 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '470893152226' for key 'user_award_record_003.uq_order_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:637)
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:418)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:412)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:408)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:85)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:64)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:101)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.serialExecute(ExecutorEngine.java:87)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:81)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:65)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:49)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.doExecute(DriverJDBCExecutor.java:153)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.execute(DriverJDBCExecutor.java:142)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:376)
	at sun.reflect.GeneratedMethodAccessor226.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy366.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 93 common frames omitted
25-03-19.20:42:14.395 [http-nio-8091-exec-60] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 566
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.438 [http-nio-8091-exec-59] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 565
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.495 [http-nio-8091-exec-4] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.498 [http-nio-8091-exec-86] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserAwardRecordDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserAwardRecordDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_award_record(             id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time         ) values (                     ?, ?,?,?,?,?,?,?,?,now(),now()                  )
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction; nested exception is com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:271)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy299.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy320.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:637)
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:418)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:412)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:408)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:85)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:64)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:101)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.serialExecute(ExecutorEngine.java:87)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:81)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:65)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:49)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.doExecute(DriverJDBCExecutor.java:153)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.execute(DriverJDBCExecutor.java:142)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:376)
	at sun.reflect.GeneratedMethodAccessor226.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy366.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 93 common frames omitted
25-03-19.20:42:14.501 [http-nio-8091-exec-71] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
org.springframework.dao.DeadlockLoserDataAccessException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
### The error may exist in file [E:\code\java\idea\big-market\big-market-app\target\classes\mybatis\mapper\UserAwardRecordDao.xml]
### The error may involve cn.wenzhuo4657.BigMarket.infrastructure.persistent.dao.UserAwardRecordDao.insert-Inline
### The error occurred while setting parameters
### SQL: insert into user_award_record(             id,user_id, activity_id, strategy_id, order_id, award_id, award_title, award_time, award_state, create_time, update_time         ) values (                     ?, ?,?,?,?,?,?,?,?,now(),now()                  )
### Cause: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
; Deadlock found when trying to get lock; try restarting transaction; nested exception is com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:271)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy299.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:60)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:96)
	at com.sun.proxy.$Proxy320.insert(Unknown Source)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:96)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
Caused by: com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:123)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:637)
	at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:418)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:412)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement$2.executeSQL(ShardingSpherePreparedStatement.java:408)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:85)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutorCallback.execute(JDBCExecutorCallback.java:64)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.syncExecute(ExecutorEngine.java:101)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.serialExecute(ExecutorEngine.java:87)
	at org.apache.shardingsphere.infra.executor.kernel.ExecutorEngine.execute(ExecutorEngine.java:81)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:65)
	at org.apache.shardingsphere.infra.executor.sql.execute.engine.driver.jdbc.JDBCExecutor.execute(JDBCExecutor.java:49)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.doExecute(DriverJDBCExecutor.java:153)
	at org.apache.shardingsphere.driver.executor.DriverJDBCExecutor.execute(DriverJDBCExecutor.java:142)
	at org.apache.shardingsphere.driver.jdbc.core.statement.ShardingSpherePreparedStatement.execute(ShardingSpherePreparedStatement.java:376)
	at sun.reflect.GeneratedMethodAccessor226.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy366.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.update(MybatisCachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 93 common frames omitted
25-03-19.20:42:14.535 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:14.535 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:14.535 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [279, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 99476594608, {"data":{"awardId":105,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"99476594608","timestamp":1742388131885}, create]
25-03-19.20:42:14.584 [http-nio-8091-exec-67] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 575
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.585 [http-nio-8091-exec-56] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 562
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.593 [http-nio-8091-exec-63] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 106
25-03-19.20:42:14.608 [http-nio-8091-exec-61] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 567
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.654 [http-nio-8091-exec-70] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:14.717 [http-nio-8091-exec-63] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.721 [http-nio-8091-exec-66] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 574
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.739 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:14.739 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:14.739 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [280, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 72879187233, {"data":{"awardId":101,"awardTitle":"随机积分","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"72879187233","timestamp":1742388131765}, create]
25-03-19.20:42:14.817 [http-nio-8091-exec-3] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 103
25-03-19.20:42:14.942 [http-nio-8091-exec-3] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.969 [http-nio-8091-exec-10] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 320
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:14.997 [http-nio-8091-exec-75] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 585
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.049 [http-nio-8091-exec-5] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 315
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.053 [http-nio-8091-exec-69] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 577
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.055 [http-nio-8091-exec-62] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.245 [http-nio-8091-exec-73] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 582
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.264 [http-nio-8091-exec-65] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 573
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.335 [http-nio-8091-exec-74] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 583
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.391 [http-nio-8091-exec-70] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 105
25-03-19.20:42:15.495 [http-nio-8091-exec-77] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 587
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.519 [http-nio-8091-exec-70] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.543 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:15.543 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:15.543 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [281, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 51474933010, {"data":{"awardId":103,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"51474933010","timestamp":1742388133632}, create]
25-03-19.20:42:15.575 [http-nio-8091-exec-78] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 588
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.613 [http-nio-8091-exec-84] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 595
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.645 [http-nio-8091-exec-81] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 592
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.664 [http-nio-8091-exec-95] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.719 [http-nio-8091-exec-62] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 101
25-03-19.20:42:15.784 [http-nio-8091-exec-25] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 335
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.798 [http-nio-8091-exec-87] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 598
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.832 [http-nio-8091-exec-35] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 345
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.833 [http-nio-8091-exec-48] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 358
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.836 [http-nio-8091-exec-62] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.860 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Logic SQL: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (
            ?,?,?,?,?,?,now(),now()
            )
25-03-19.20:42:15.860 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - SQLStatement: MySQLInsertStatement(setAssignment=Optional.empty, onDuplicateKeyColumns=Optional.empty)
25-03-19.20:42:15.860 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: insert into task(
            id,user_id, topic, message_id, message, state, create_time, update_time
        )values (?, ?, ?, ?, ?, ?, now(), now()) ::: [282, ohGUf67Vme6-oFdR7b1Ml8mw34_s, send_award, 83338056210, {"data":{"awardId":107,"awardTitle":"OpenAI随机额度","orderId":"470893152226","userId":"ohGUf67Vme6-oFdR7b1Ml8mw34_s"},"id":"83338056210","timestamp":1742388132674}, create]
25-03-19.20:42:15.860 [http-nio-8091-exec-89] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 600
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.918 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Logic SQL: update user_raffle_order
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create'
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - SQLStatement: MySQLUpdateStatement(orderBy=Optional.empty, limit=Optional.empty)
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db01 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_000
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_001
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_002
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.919 [http-nio-8091-exec-32] INFO  ShardingSphere-SQL     - Actual SQL: db02 ::: update user_raffle_order_003
        set order_state = 'used', update_time = now()
        where user_id = ? and order_id = ? and order_state = 'create' ::: [ohGUf67Vme6-oFdR7b1Ml8mw34_s, 470893152226]
25-03-19.20:42:15.920 [http-nio-8091-exec-79] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 589
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.952 [http-nio-8091-exec-45] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 355
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.970 [http-nio-8091-exec-80] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 591
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.984 [http-nio-8091-exec-30] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 340
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:15.996 [http-nio-8091-exec-88] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 599
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.059 [http-nio-8091-exec-46] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 356
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.089 [http-nio-8091-exec-96] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 608
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.115 [http-nio-8091-exec-93] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 604
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.116 [http-nio-8091-exec-82] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 593
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.148 [http-nio-8091-exec-95] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 103
25-03-19.20:42:16.184 [http-nio-8091-exec-58] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 564
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.235 [http-nio-8091-exec-92] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 603
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.275 [http-nio-8091-exec-76] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 586
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.304 [http-nio-8091-exec-85] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 596
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.304 [http-nio-8091-exec-90] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 601
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.331 [http-nio-8091-exec-49] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 359
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.334 [http-nio-8091-exec-20] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 330
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.351 [http-nio-8091-exec-83] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 594
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.396 [http-nio-8091-exec-98] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 610
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.449 [http-nio-8091-exec-91] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 602
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.458 [http-nio-8091-exec-97] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 609
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.482 [http-nio-8091-exec-32] ERROR AwardRepository        - 写入中奖记录，用户抽奖单已使用过，不可重复抽奖 userId: ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId: 100401 awardId: 107
25-03-19.20:42:16.487 [http-nio-8091-exec-94] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 606
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.503 [http-nio-8091-exec-72] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 581
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.533 [http-nio-8091-exec-95] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.556 [http-nio-8091-exec-100] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 612
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.606 [http-nio-8091-exec-32] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
cn.wenzhuo4657.BigMarket.types.exception.AppException: null
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.lambda$saveUserAwardRecord$0(AwardRepository.java:106)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository.saveUserAwardRecord(AwardRepository.java:91)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$FastClassBySpringCGLIB$$7d273726.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.infrastructure.persistent.repository.AwardRepository$$EnhancerBySpringCGLIB$$97a2d778.saveUserAwardRecord(<generated>)
	at cn.wenzhuo4657.BigMarket.domain.award.service.AwardService.saveUserAwardRecord(AwardService.java:55)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController.draw(RaffleActivityController.java:150)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$FastClassBySpringCGLIB$$1b20b24c.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.wenzhuo4657.BigMarket.aop.RateLimiterAOP.doRouter(RateLimiterAOP.java:59)
	at sun.reflect.GeneratedMethodAccessor231.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.wenzhuo4657.BigMarket.trigger.http.RaffleActivityController$$EnhancerBySpringCGLIB$$920616f9.draw(<generated>)
	at sun.reflect.GeneratedMethodAccessor230.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
25-03-19.20:42:16.673 [http-nio-8091-exec-99] ERROR RaffleActivityController - 活动抽奖失败 userId:ohGUf67Vme6-oFdR7b1Ml8mw34_s activityId:100401
java.lang.IllegalMonitorStateException: attempt to unlock lock, not locked by current thread by node id: 0bf5e467-4b43-41e2-a9f9-37d48ece06d7 thread-id: 611
	at org.redisson.RedissonBaseLock.lambda$unlockAsync0$2(RedissonBaseLock.java:290)
	at java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:836)
	at java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:811)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$executeAsync$7(CommandBatchService.java:362)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.CommandBatchService.lambda$execute$9(CommandBatchService.java:471)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.command.RedisCommonBatchExecutor.handleResult(RedisCommonBatchExecutor.java:164)
	at org.redisson.command.RedisExecutor.checkAttemptPromise(RedisExecutor.java:553)
	at org.redisson.command.RedisExecutor.lambda$execute$5(RedisExecutor.java:195)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.redisson.client.handler.CommandDecoder.decodeCommandBatch(CommandDecoder.java:326)
	at org.redisson.client.handler.CommandDecoder.decodeCommand(CommandDecoder.java:217)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:144)
	at org.redisson.client.handler.CommandDecoder.decode(CommandDecoder.java:120)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)
	at io.netty.handler.codec.ReplayingDecoder.callDecode(ReplayingDecoder.java:366)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
